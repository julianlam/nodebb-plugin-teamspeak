"use strict";if(function(t,e){function i(t){var e=t.length,i=ue.type(t);return ue.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=$e[t]={};return ue.each(t.match(de)||[],function(t,i){e[i]=!0}),e}function r(t,i,n,r){if(ue.acceptData(t)){var o,a,s=ue.expando,l=t.nodeType,c=l?ue.cache:t,u=l?t[s]:t[s]&&s;if(u&&c[u]&&(r||c[u].data)||n!==e||"string"!=typeof i)return u||(u=l?t[s]=ee.pop()||ue.guid++:s),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof i||"function"==typeof i)&&(r?c[u]=ue.extend(c[u],i):c[u].data=ue.extend(c[u].data,i)),a=c[u],r||(a.data||(a.data={}),a=a.data),n!==e&&(a[ue.camelCase(i)]=n),"string"==typeof i?(o=a[i],null==o&&(o=a[ue.camelCase(i)])):o=a,o}}function o(t,e,i){if(ue.acceptData(t)){var n,r,o=t.nodeType,a=o?ue.cache:t,l=o?t[ue.expando]:ue.expando;if(a[l]){if(e&&(n=i?a[l]:a[l].data)){ue.isArray(e)?e=e.concat(ue.map(e,ue.camelCase)):e in n?e=[e]:(e=ue.camelCase(e),e=e in n?[e]:e.split(" ")),r=e.length;for(;r--;)delete n[e[r]];if(i?!s(n):!ue.isEmptyObject(n))return}(i||(delete a[l].data,s(a[l])))&&(o?ue.cleanData([t],!0):ue.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(t,i,n){if(n===e&&1===t.nodeType){var r="data-"+i.replace(Ee,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Te.test(n)?ue.parseJSON(n):n}catch(o){}ue.data(t,i,n)}else n=e}return n}function s(t){var e;for(e in t)if(("data"!==e||!ue.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Q.activeElement}catch(t){}}function h(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,i){if(ue.isFunction(e))return ue.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ue.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Be.test(e))return ue.filter(e,t,i);e=ue.filter(e,t)}return ue.grep(t,function(t){return ue.inArray(t,e)>=0!==i})}function p(t){var e=Ve.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){return ue.nodeName(t,"table")&&ue.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==ue.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=ri.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var i,n=0;null!=(i=t[n]);n++)ue._data(i,"globalEval",!e||ue._data(e[n],"globalEval"))}function y(t,e){if(1===e.nodeType&&ue.hasData(t)){var i,n,r,o=ue._data(t),a=ue._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,r=s[i].length;r>n;n++)ue.event.add(e,i,s[i][n])}a.data&&(a.data=ue.extend({},a.data))}}function b(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ue.support.noCloneEvent&&e[ue.expando]){r=ue._data(e);for(n in r.events)ue.removeEvent(e,n,r.handle);e.removeAttribute(ue.expando)}"script"===i&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ue.support.html5Clone&&t.innerHTML&&!ue.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ei.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function w(t,i){var n,r,o=0,a=typeof t.getElementsByTagName!==Y?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==Y?t.querySelectorAll(i||"*"):e;if(!a)for(a=[],n=t.childNodes||t;null!=(r=n[o]);o++)!i||ue.nodeName(r,i)?a.push(r):ue.merge(a,w(r,i));return i===e||i&&ue.nodeName(t,i)?ue.merge([t],a):a}function _(t){ei.test(t.type)&&(t.defaultChecked=t.checked)}function x(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=Ci.length;r--;)if(e=Ci[r]+i,e in t)return e;return n}function k(t,e){return t=e||t,"none"===ue.css(t,"display")||!ue.contains(t.ownerDocument,t)}function C(t,e){for(var i,n,r,o=[],a=0,s=t.length;s>a;a++)n=t[a],n.style&&(o[a]=ue._data(n,"olddisplay"),i=n.style.display,e?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&k(n)&&(o[a]=ue._data(n,"olddisplay",S(n.nodeName)))):o[a]||(r=k(n),(i&&"none"!==i||!r)&&ue._data(n,"olddisplay",r?i:ue.css(n,"display"))));for(a=0;s>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[a]||"":"none"));return t}function $(t,e,i){var n=vi.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function T(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===i&&(a+=ue.css(t,i+ki[o],!0,r)),n?("content"===i&&(a-=ue.css(t,"padding"+ki[o],!0,r)),"margin"!==i&&(a-=ue.css(t,"border"+ki[o]+"Width",!0,r))):(a+=ue.css(t,"padding"+ki[o],!0,r),"padding"!==i&&(a+=ue.css(t,"border"+ki[o]+"Width",!0,r)));return a}function E(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ui(t),a=ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=hi(t,e,o),(0>r||null==r)&&(r=t.style[e]),yi.test(r))return r;n=a&&(ue.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+T(t,e,i||(a?"border":"content"),n,o)+"px"}function S(t){var e=Q,i=wi[t];return i||(i=N(t,e),"none"!==i&&i||(ci=(ci||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ci[0].contentWindow||ci[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=N(t,e),ci.detach()),wi[t]=i),i}function N(t,e){var i=ue(e.createElement(t)).appendTo(e.body),n=ue.css(i[0],"display");return i.remove(),n}function D(t,e,i,n){var r;if(ue.isArray(e))ue.each(e,function(e,r){i||Ti.test(t)?n(t,r):D(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==ue.type(e))n(t,e);else for(r in e)D(t+"["+r+"]",e[r],i,n)}function I(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(de)||[];if(ue.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function A(t,e,i,n){function r(s){var l;return o[s]=!0,ue.each(t[s]||[],function(t,s){var c=s(e,i,n);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=t===Wi;return r(e.dataTypes[0])||!o["*"]&&r("*")}function P(t,i){var n,r,o=ue.ajaxSettings.flatOptions||{};for(r in i)i[r]!==e&&((o[r]?t:n||(n={}))[r]=i[r]);return n&&ue.extend(!0,t,n),t}function M(t,i,n){for(var r,o,a,s,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in n)a=c[0];else{for(s in n){if(!c[0]||t.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}function j(t,e,i,n){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function L(){try{return new t.XMLHttpRequest}catch(e){}}function R(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function O(){return setTimeout(function(){Zi=e}),Zi=ue.now()}function z(t,e,i){for(var n,r=(on[e]||[]).concat(on["*"]),o=0,a=r.length;a>o;o++)if(n=r[o].call(i,e,t))return n}function F(t,e,i){var n,r,o=0,a=rn.length,s=ue.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Zi||O(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,o=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,i]),1>o&&l?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:ue.extend({},e),opts:ue.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Zi||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ue.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)c.tweens[i].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),u=c.props;for(H(u,c.opts.specialEasing);a>o;o++)if(n=rn[o].call(c,t,u,c.opts))return n;return ue.map(u,z,c),ue.isFunction(c.opts.start)&&c.opts.start.call(t,c),ue.fx.timer(ue.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(t,e){var i,n,r,o,a;for(i in t)if(n=ue.camelCase(i),r=e[n],o=t[i],ue.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),a=ue.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function B(t,e,i){var n,r,o,a,s,l,c=this,u={},h=t.style,d=t.nodeType&&k(t),p=ue._data(t,"fxshow");i.queue||(s=ue._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ue.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ue.css(t,"display")&&"none"===ue.css(t,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==S(t.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],tn.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(d?"hide":"show"))continue;u[n]=p&&p[n]||ue.style(t,n)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(d=p.hidden):p=ue._data(t,"fxshow",{}),o&&(p.hidden=!d),d?ue(t).show():c.done(function(){ue(t).hide()}),c.done(function(){var e;ue._removeData(t,"fxshow");for(e in u)ue.style(t,e,u[e])});for(n in u)a=z(d?p[n]:0,n,c),n in p||(p[n]=a.start,d&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function W(t,e,i,n,r){return new W.prototype.init(t,e,i,n,r)}function q(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=ki[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function U(t){return ue.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V,K,Y=typeof e,X=t.location,Q=t.document,G=Q.documentElement,Z=t.jQuery,J=t.$,te={},ee=[],ie="1.10.2",ne=ee.concat,re=ee.push,oe=ee.slice,ae=ee.indexOf,se=te.toString,le=te.hasOwnProperty,ce=ie.trim,ue=function(t,e){return new ue.fn.init(t,e,K)},he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,we=/^-ms-/,_e=/-([\da-z])/gi,xe=function(t,e){return e.toUpperCase()},ke=function(t){(Q.addEventListener||"load"===t.type||"complete"===Q.readyState)&&(Ce(),ue.ready())},Ce=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",ke,!1),t.removeEventListener("load",ke,!1)):(Q.detachEvent("onreadystatechange",ke),t.detachEvent("onload",ke))};ue.fn=ue.prototype={jquery:ie,constructor:ue,init:function(t,i,n){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(r[1]){if(i=i instanceof ue?i[0]:i,ue.merge(this,ue.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:Q,!0)),me.test(r[1])&&ue.isPlainObject(i))for(r in i)ue.isFunction(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}if(o=Q.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return n.find(t);this.length=1,this[0]=o}return this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ue.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ue.makeArray(t,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ue.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ue.each(this,t,e)},ready:function(t){return ue.ready.promise().done(t),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(ue.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:re,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var t,i,n,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||ue.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)t=s[r],n=o[r],s!==n&&(u&&n&&(ue.isPlainObject(n)||(i=ue.isArray(n)))?(i?(i=!1,a=t&&ue.isArray(t)?t:[]):a=t&&ue.isPlainObject(t)?t:{},s[r]=ue.extend(u,a,n)):n!==e&&(s[r]=n));return s},ue.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ue&&(t.$=J),e&&t.jQuery===ue&&(t.jQuery=Z),ue},isReady:!1,readyWait:1,holdReady:function(t){t?ue.readyWait++:ue.ready(!0)},ready:function(t){if(t===!0?!--ue.readyWait:!ue.isReady){if(!Q.body)return setTimeout(ue.ready);ue.isReady=!0,t!==!0&&--ue.readyWait>0||(V.resolveWith(Q,[ue]),ue.fn.trigger&&ue(Q).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ue.type(t)},isArray:Array.isArray||function(t){return"array"===ue.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[se.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==ue.type(t)||t.nodeType||ue.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ue.support.ownLast)for(i in t)return le.call(t,i);for(i in t);return i===e||le.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Q;var n=me.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=ue.buildFragment([t],e,r),r&&ue(r).remove(),ue.merge([],n.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ue.trim(e),e&&ge.test(e.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+e)():void ue.error("Invalid JSON: "+e)},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&ue.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(we,"ms-").replace(_e,xe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,o=0,a=t.length,s=i(t);if(n){if(s)for(;a>o&&(r=e.apply(t[o],n),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],n),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:ce&&!ce.call("﻿ ")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ue.merge(n,"string"==typeof t?[t]:t):re.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(ae)return ae.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,r=t.length,o=0;if("number"==typeof n)for(;n>o;o++)t[r++]=i[o];else for(;i[o]!==e;)t[r++]=i[o++];return t.length=r,t},grep:function(t,e,i){var n,r=[],o=0,a=t.length;for(i=!!i;a>o;o++)n=!!e(t[o],o),i!==n&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,a=t.length,s=i(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,n),null!=r&&(l[l.length]=r);else for(o in t)r=e(t[o],o,n),null!=r&&(l[l.length]=r);return ne.apply([],l)},guid:1,proxy:function(t,i){var n,r,o;return"string"==typeof i&&(o=t[i],i=t,t=o),ue.isFunction(t)?(n=oe.call(arguments,2),r=function(){return t.apply(i||this,n.concat(oe.call(arguments)))},r.guid=t.guid=t.guid||ue.guid++,r):e},access:function(t,i,n,r,o,a,s){var l=0,c=t.length,u=null==n;if("object"===ue.type(n)){o=!0;for(l in n)ue.access(t,i,l,n[l],!0,a,s)}else if(r!==e&&(o=!0,ue.isFunction(r)||(s=!0),u&&(s?(i.call(t,r),i=null):(u=i,i=function(t,e,i){return u.call(ue(t),i)})),i))for(;c>l;l++)i(t[l],n,s?r:r.call(t[l],l,i(t[l],n)));return o?t:u?i.call(t):c?i(t[0],n):a},now:function(){return(new Date).getTime()},swap:function(t,e,i,n){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=a[o];return r}}),ue.ready.promise=function(e){if(!V)if(V=ue.Deferred(),"complete"===Q.readyState)setTimeout(ue.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",ke,!1),t.addEventListener("load",ke,!1);else{Q.attachEvent("onreadystatechange",ke),t.attachEvent("onload",ke);var i=!1;try{i=null==t.frameElement&&Q.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!ue.isReady){try{i.doScroll("left")}catch(t){return setTimeout(r,50)}Ce(),ue.ready()}}()}return V.promise(e)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),K=ue(Q),function(t,e){function i(t,e,i,n){var r,o,a,s,l,c,u,h,f,m;if((e?e.ownerDocument||e:F)!==A&&I(e),e=e||A,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(M&&!n){if(r=be.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&O(e,o)&&o.id===a)return i.push(o),i}else{if(r[2])return te.apply(i,e.getElementsByTagName(t)),i;if((a=r[3])&&k.getElementsByClassName&&e.getElementsByClassName)return te.apply(i,e.getElementsByClassName(a)),i}if(k.qsa&&(!j||!j.test(t))){if(h=u=z,f=e,m=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(u=e.getAttribute("id"))?h=u.replace(xe,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=pe.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return te.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{u||e.removeAttribute("id")}}}return _(t.replace(ce,"$1"),e,i,n)}function n(){function t(i,n){return e.push(i+=" ")>$.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function r(t){return t[z]=!0,t}function o(t){var e=A.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var i=t.split("|"),n=t.length;n--;)$.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function l(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function h(){}function d(t,e){var n,r,o,a,s,l,c,u=q[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=$.preFilter;s;){(!n||(r=he.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=de.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ce," ")}),s=s.slice(n.length));for(a in $.filter)!(r=ve[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?i.error(t):q(t,l).slice(0)}function p(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=B++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,a){var s,l,c,u=H+" "+o;if(a){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||r)if(c=e[z]||(e[z]={}),(l=c[n])&&l[0]===u){if((s=l[1])===!0||s===C)return s===!0}else if(l=c[n]=[u],l[1]=t(e,i,a)||C,l[1]===!0)return!0}}function m(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(o=t[s])&&(!i||i(o,n,r))&&(a.push(o),c&&e.push(s));return a}function v(t,e,i,n,o,a){return n&&!n[z]&&(n=v(n)),o&&!o[z]&&(o=v(o,a)),r(function(r,a,s,l){var c,u,h,d=[],p=[],f=a.length,m=r||w(e||"*",s.nodeType?[s]:s,[]),v=!t||!r&&e?m:g(m,d,t,s,l),y=i?o||(r?t:f||n)?[]:a:v;if(i&&i(v,y,s,l),n)for(c=g(y,p),n(c,[],s,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(r){if(o||t){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?ie.call(r,h):d[u])>-1&&(r[c]=!(a[c]=h))}}else y=g(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):te.apply(a,y)})}function y(t){for(var e,i,n,r=t.length,o=$.relative[t[0].type],a=o||$.relative[" "],s=o?1:0,l=f(function(t){return t===e},a,!0),c=f(function(t){return ie.call(e,t)>-1},a,!0),u=[function(t,i,n){return!o&&(n||i!==N)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];r>s;s++)if(i=$.relative[t[s].type])u=[f(m(u),i)];else{if(i=$.filter[t[s].type].apply(null,t[s].matches),i[z]){for(n=++s;r>n&&!$.relative[t[n].type];n++);return v(s>1&&m(u),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ce,"$1"),i,n>s&&y(t.slice(s,n)),r>n&&y(t=t.slice(n)),r>n&&p(t))}u.push(i)}return m(u)}function b(t,e){var n=0,o=e.length>0,a=t.length>0,s=function(r,s,l,c,u){var h,d,p,f=[],m=0,v="0",y=r&&[],b=null!=u,w=N,_=r||a&&$.find.TAG("*",u&&s.parentNode||s),x=H+=null==w?1:Math.random()||.1;for(b&&(N=s!==A&&s,C=n);null!=(h=_[v]);v++){if(a&&h){for(d=0;p=t[d++];)if(p(h,s,l)){c.push(h);break}b&&(H=x,C=++n)}o&&((h=!p&&h)&&m--,r&&y.push(h))}if(m+=v,o&&v!==m){for(d=0;p=e[d++];)p(y,f,s,l);if(r){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=Z.call(c));f=g(f)}te.apply(c,f),b&&!r&&f.length>0&&m+e.length>1&&i.uniqueSort(c)}return b&&(H=x,N=w),y};return o?r(s):s}function w(t,e,n){for(var r=0,o=e.length;o>r;r++)i(t,e[r],n);return n}function _(t,e,i,n){var r,o,a,s,l,c=d(t);if(!n&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&k.getById&&9===e.nodeType&&M&&$.relative[o[1].type]){if(e=($.find.ID(a.matches[0].replace(ke,Ce),e)||[])[0],!e)return i;t=t.slice(o.shift().value.length)}for(r=ve.needsContext.test(t)?0:o.length;r--&&(a=o[r],!$.relative[s=a.type]);)if((l=$.find[s])&&(n=l(a.matches[0].replace(ke,Ce),pe.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=n.length&&p(o),!t)return te.apply(i,n),i;break}}return S(t,c)(n,e,!M,i,pe.test(t)),i}var x,k,C,$,T,E,S,N,D,I,A,P,M,j,L,R,O,z="sizzle"+-new Date,F=t.document,H=0,B=0,W=n(),q=n(),U=n(),V=!1,K=function(t,e){return t===e?(V=!0,0):0},Y=typeof e,X=1<<31,Q={}.hasOwnProperty,G=[],Z=G.pop,J=G.push,te=G.push,ee=G.slice,ie=G.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),se="\\["+re+"*("+oe+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+re+"*\\]",le=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),he=new RegExp("^"+re+"*,"+re+"*"),de=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=new RegExp(re+"*[+~]"),fe=new RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),me=new RegExp(le),ge=new RegExp("^"+ae+"$"),ve={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,xe=/'|\\/g,ke=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ce=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{te.apply(G=ee.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch($e){te={apply:G.length?function(t,e){J.apply(t,ee.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}E=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},k=i.support={},I=i.setDocument=function(t){var e=t?t.ownerDocument||t:F,i=e.defaultView;return e!==A&&9===e.nodeType&&e.documentElement?(A=e,P=e.documentElement,M=!E(e),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){I()}),k.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),k.getById=o(function(t){return P.appendChild(t).id=z,!e.getElementsByName||!e.getElementsByName(z).length}),k.getById?($.find.ID=function(t,e){if(typeof e.getElementById!==Y&&M){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},$.filter.ID=function(t){var e=t.replace(ke,Ce);return function(t){return t.getAttribute("id")===e}}):(delete $.find.ID,$.filter.ID=function(t){var e=t.replace(ke,Ce);return function(t){var i=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return i&&i.value===e}}),$.find.TAG=k.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},$.find.CLASS=k.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Y&&M?e.getElementsByClassName(t):void 0},L=[],j=[],(k.qsa=ye.test(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||j.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||j.push(":checked")}),o(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&j.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(k.matchesSelector=ye.test(R=P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){k.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),L.push("!=",le)}),j=j.length&&new RegExp(j.join("|")),L=L.length&&new RegExp(L.join("|")),O=ye.test(P.contains)||P.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=P.compareDocumentPosition?function(t,i){if(t===i)return V=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!k.sortDetached&&i.compareDocumentPosition(t)===n?t===e||O(F,t)?-1:i===e||O(F,i)?1:D?ie.call(D,t)-ie.call(D,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,r=0,o=t.parentNode,a=i.parentNode,l=[t],c=[i];if(t===i)return V=!0,0;if(!o||!a)return t===e?-1:i===e?1:o?-1:a?1:D?ie.call(D,t)-ie.call(D,i):0;if(o===a)return s(t,i);for(n=t;n=n.parentNode;)l.unshift(n);for(n=i;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},e):A},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==A&&I(t),e=e.replace(fe,"='$1']"),!(!k.matchesSelector||!M||L&&L.test(e)||j&&j.test(e)))try{var n=R.call(t,e);if(n||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return i(e,A,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==A&&I(t),O(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==A&&I(t);var n=$.attrHandle[i.toLowerCase()],r=n&&Q.call($.attrHandle,i.toLowerCase())?n(t,i,!M):e;return r===e?k.attributes||!M?t.getAttribute(i):(r=t.getAttributeNode(i))&&r.specified?r.value:null:r},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,r=0;if(V=!k.detectDuplicates,D=!k.sortStable&&t.slice(0),t.sort(K),V){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return t},T=i.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n];n++)i+=T(e);return i},$=i.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ke,Ce),t[3]=(t[4]||t[5]||"").replace(ke,Ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,n=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:n&&me.test(n)&&(i=d(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(t[0]=t[0].slice(0,i),t[2]=n.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ke,Ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var o=i.attr(r,t);return null==o?"!="===e:e?(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o+" ").indexOf(n)>-1:"|="===e?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;
return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,p,f,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(u=g[z]||(g[z]={}),c=u[t]||[],p=c[0]===H&&c[1],d=c[0]===H&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[H,p,d];break}}else if(y&&(c=(e[z]||(e[z]={}))[t])&&c[0]===H)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[z]||(h[z]={}))[t]=[H,d]),h!==e)););return d-=r,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,e){var n,o=$.pseudos[t]||$.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return o[z]?o(e):o.length>1?(n=[t,t,"",e],$.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,i){for(var n,r=o(t,e),a=r.length;a--;)n=ie.call(t,r[a]),t[n]=!(i[n]=r[a])}):function(t){return o(t,0,n)}):o}},pseudos:{not:r(function(t){var e=[],i=[],n=S(t.replace(ce,"$1"));return n[z]?r(function(t,e,i,r){for(var o,a=n(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,n(e,null,o,i),!i.pop()}}),has:r(function(t){return function(e){return i(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:r(function(t){return ge.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(ke,Ce).toLowerCase(),function(e){var i;do if(i=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!$.pseudos.empty(t)},header:function(t){return _e.test(t.nodeName)},input:function(t){return we.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[0>i?i+e:i]}),even:u(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},$.pseudos.nth=$.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})$.pseudos[x]=c(x);h.prototype=$.filters=$.pseudos,$.setFilters=new h,S=i.compile=function(t,e){var i,n=[],r=[],o=U[t+" "];if(!o){for(e||(e=d(t)),i=e.length;i--;)o=y(e[i]),o[z]?n.push(o):r.push(o);o=U(t,b(r,n))}return o},k.sortStable=z.split("").sort(K).join("")===z,k.detectDuplicates=V,I(),k.sortDetached=o(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||a(ne,function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&n.specified?n.value:t[e]===!0?e.toLowerCase():null}),ue.find=i,ue.expr=i.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=i.uniqueSort,ue.text=i.getText,ue.isXMLDoc=i.isXML,ue.contains=i.contains}(t);var $e={};ue.Callbacks=function(t){t="string"==typeof t?$e[t]||n(t):ue.extend({},t);var i,r,o,a,s,l,c=[],u=!t.once&&[],h=function(e){for(r=t.memory&&e,o=!0,s=l||0,l=0,a=c.length,i=!0;c&&a>s;s++)if(c[s].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}i=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function n(e){ue.each(e,function(e,i){var r=ue.type(i);"function"===r?t.unique&&d.has(i)||c.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),i?a=c.length:r&&(l=e,h(r))}return this},remove:function(){return c&&ue.each(arguments,function(t,e){for(var n;(n=ue.inArray(e,c,n))>-1;)c.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?ue.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=r=e,this},disabled:function(){return!c},lock:function(){return u=e,r||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||o&&!u||(e=e||[],e=[t,e.slice?e.slice():e],i?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ue.extend({Deferred:function(t){var e=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ue.Deferred(function(i){ue.each(e,function(e,o){var a=o[0],s=ue.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ue.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ue.extend(t,n):n}},r={};return n.pipe=n.then,ue.each(e,function(t,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=oe.call(arguments),a=o.length,s=1!==a||t&&ue.isFunction(t.promise)?a:0,l=1===s?t:ue.Deferred(),c=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?oe.call(arguments):r,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>r;r++)o[r]&&ue.isFunction(o[r].promise)?o[r].promise().done(c(r,n,o)).fail(l.reject).progress(c(r,i,e)):--s;return s||l.resolveWith(n,o),l.promise()}}),ue.support=function(e){var i,n,r,o,a,s,l,c,u,h=Q.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*")||[],n=h.getElementsByTagName("a")[0],!n||!n.style||!i.length)return e;o=Q.createElement("select"),s=o.appendChild(Q.createElement("option")),r=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==h.className,e.leadingWhitespace=3===h.firstChild.nodeType,e.tbody=!h.getElementsByTagName("tbody").length,e.htmlSerialize=!!h.getElementsByTagName("link").length,e.style=/top/.test(n.getAttribute("style")),e.hrefNormalized="/a"===n.getAttribute("href"),e.opacity=/^0.5/.test(n.style.opacity),e.cssFloat=!!n.style.cssFloat,e.checkOn=!!r.value,e.optSelected=s.selected,e.enctype=!!Q.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled;try{delete h.test}catch(d){e.deleteExpando=!1}r=Q.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=Q.createDocumentFragment(),a.appendChild(r),e.appendChecked=r.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),e[u+"Bubbles"]=l in t||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip;for(u in ue(e))break;return e.ownLast="0"!==u,ue(function(){var i,n,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Q.getElementsByTagName("body")[0];a&&(i=Q.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(i).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===h.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(h,null)||{width:"4px"}).width,n=h.appendChild(Q.createElement("div")),n.style.cssText=h.style.cssText=o,n.style.marginRight=n.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==Y&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(i),i=h=r=n=null)}),i=o=a=s=n=r=null,e}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ee=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ue.cache[t[ue.expando]]:t[ue.expando],!!t&&!s(t)},data:function(t,e,i){return r(t,e,i)},removeData:function(t,e){return o(t,e)},_data:function(t,e,i){return r(t,e,i,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ue.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ue.fn.extend({data:function(t,i){var n,r,o=null,s=0,l=this[0];if(t===e){if(this.length&&(o=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(n=l.attributes;s<n.length;s++)r=n[s].name,0===r.indexOf("data-")&&(r=ue.camelCase(r.slice(5)),a(l,r,o[r]));ue._data(l,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ue.data(this,t)}):arguments.length>1?this.each(function(){ue.data(this,t,i)}):l?a(l,t,ue.data(l,t)):null},removeData:function(t){return this.each(function(){ue.removeData(this,t)})}}),ue.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ue._data(t,e),i&&(!n||ue.isArray(i)?n=ue._data(t,e,ue.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ue.queue(t,e),n=i.length,r=i.shift(),o=ue._queueHooks(t,e),a=function(){ue.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ue._data(t,i)||ue._data(t,i,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(t,e+"queue"),ue._removeData(t,i)})})}}),ue.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?ue.queue(this[0],t):i===e?this:this.each(function(){var e=ue.queue(this,t,i);ue._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ue.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ue.dequeue(this,t)})},delay:function(t,e){return t=ue.fx?ue.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,r=1,o=ue.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";s--;)n=ue._data(a[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(i)}});var Se,Ne,De=/[\t\r\n\f]/g,Ie=/\r/g,Ae=/^(?:input|select|textarea|button|object)$/i,Pe=/^(?:a|area)$/i,Me=/^(?:checked|selected)$/i,je=ue.support.getSetAttribute,Le=ue.support.input;ue.fn.extend({attr:function(t,e){return ue.access(this,ue.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ue.removeAttr(this,t)})},prop:function(t,e){return ue.access(this,ue.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ue.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,r,o,a=0,s=this.length,l="string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];s>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");i.className=ue.trim(n)}return this},removeClass:function(t){var e,i,n,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ue.isFunction(t))return this.each(function(e){ue(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];s>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(De," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");i.className=t?ue.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(ue.isFunction(t)?function(i){ue(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,r=ue(this),o=t.match(de)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(i===Y||"boolean"===i)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(De," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,r,o=this[0];{if(arguments.length)return r=ue.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=r?t.call(this,i,ue(this).val()):t,null==o?o="":"number"==typeof o?o+="":ue.isArray(o)&&(o=ue.map(o,function(t){return null==t?"":t+""})),n=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))});if(o)return n=ue.valHooks[o.type]||ue.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==e?i:(i=o.value,"string"==typeof i?i.replace(Ie,""):null==i?"":i)}}}),ue.extend({valHooks:{option:{get:function(t){var e=ue.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:n.length,l=0>r?s:o?r:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==r||(ue.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ue.nodeName(i.parentNode,"optgroup"))){if(e=ue(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=ue.makeArray(e),a=r.length;a--;)n=r[a],(n.selected=ue.inArray(ue(n).val(),o)>=0)&&(i=!0);return i||(t.selectedIndex=-1),o}}},attr:function(t,i,n){var r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===Y?ue.prop(t,i,n):(1===a&&ue.isXMLDoc(t)||(i=i.toLowerCase(),r=ue.attrHooks[i]||(ue.expr.match.bool.test(i)?Ne:Se)),n===e?r&&"get"in r&&null!==(o=r.get(t,i))?o:(o=ue.find.attr(t,i),null==o?e:o):null!==n?r&&"set"in r&&(o=r.set(t,n,i))!==e?o:(t.setAttribute(i,n+""),n):void ue.removeAttr(t,i))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;i=o[r++];)n=ue.propFix[i]||i,ue.expr.match.bool.test(i)?Le&&je||!Me.test(i)?t[n]=!1:t[ue.camelCase("default-"+i)]=t[n]=!1:ue.attr(t,i,""),t.removeAttribute(je?i:n)},attrHooks:{type:{set:function(t,e){if(!ue.support.radioValue&&"radio"===e&&ue.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,n){var r,o,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!ue.isXMLDoc(t),a&&(i=ue.propFix[i]||i,o=ue.propHooks[i]),n!==e?o&&"set"in o&&(r=o.set(t,n,i))!==e?r:t[i]=n:o&&"get"in o&&null!==(r=o.get(t,i))?r:t[i]},propHooks:{tabIndex:{get:function(t){var e=ue.find.attr(t,"tabindex");return e?parseInt(e,10):Ae.test(t.nodeName)||Pe.test(t.nodeName)&&t.href?0:-1}}}}),Ne={set:function(t,e,i){return e===!1?ue.removeAttr(t,i):Le&&je||!Me.test(i)?t.setAttribute(!je&&ue.propFix[i]||i,i):t[ue.camelCase("default-"+i)]=t[i]=!0,i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(t,i){var n=ue.expr.attrHandle[i]||ue.find.attr;ue.expr.attrHandle[i]=Le&&je||!Me.test(i)?function(t,i,r){var o=ue.expr.attrHandle[i],a=r?e:(ue.expr.attrHandle[i]=e)!=n(t,i,r)?i.toLowerCase():null;return ue.expr.attrHandle[i]=o,a}:function(t,i,n){return n?e:t[ue.camelCase("default-"+i)]?i.toLowerCase():null}}),Le&&je||(ue.attrHooks.value={set:function(t,e,i){return ue.nodeName(t,"input")?void(t.defaultValue=e):Se&&Se.set(t,e,i)}}),je||(Se={set:function(t,i,n){var r=t.getAttributeNode(n);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(t,i,n){var r;return n?e:(r=t.getAttributeNode(i))&&""!==r.value?r.value:null},ue.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&n.specified?n.value:e},set:Se.set},ue.attrHooks.contenteditable={set:function(t,e,i){Se.set(t,""===e?!1:e,i)}},ue.each(["width","height"],function(t,e){ue.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(t,e){ue.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(t,e){return ue.isArray(e)?t.checked=ue.inArray(ue(t).val(),e)>=0:void 0}},ue.support.checkOn||(ue.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Re=/^(?:input|select|textarea)$/i,Oe=/^key/,ze=/^(?:mouse|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,He=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(t,i,n,r,o){var a,s,l,c,u,h,d,p,f,m,g,v=ue._data(t);if(v){for(n.handler&&(c=n,n=c.handler,o=c.selector),n.guid||(n.guid=ue.guid++),(s=v.events)||(s=v.events={}),(h=v.handle)||(h=v.handle=function(t){return typeof ue===Y||t&&ue.event.triggered===t.type?e:ue.event.dispatch.apply(h.elem,arguments)},h.elem=t),i=(i||"").match(de)||[""],l=i.length;l--;)a=He.exec(i[l])||[],f=g=a[1],m=(a[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},d=ue.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&ue.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,u.setup&&u.setup.call(t,r,m,h)!==!1||(t.addEventListener?t.addEventListener(f,h,!1):t.attachEvent&&t.attachEvent("on"+f,h))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ue.event.global[f]=!0);t=null}},remove:function(t,e,i,n,r){var o,a,s,l,c,u,h,d,p,f,m,g=ue.hasData(t)&&ue._data(t);if(g&&(u=g.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(s=He.exec(e[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!r&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,h.remove&&h.remove.call(t,a));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||ue.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(t,p+e[c],i,n,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(t,"events"))}},trigger:function(i,n,r,o){var a,s,l,c,u,h,d,p=[r||Q],f=le.call(i,"type")?i.type:i,m=le.call(i,"namespace")?i.namespace.split("."):[];if(l=h=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!Fe.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),s=f.indexOf(":")<0&&"on"+f,i=i[ue.expando]?i:new ue.Event(f,"object"==typeof i&&i),i.isTrigger=o?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=r),n=null==n?[i]:ue.makeArray(n,[i]),u=ue.event.special[f]||{},o||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!o&&!u.noBubble&&!ue.isWindow(r)){for(c=u.delegateType||f,Fe.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(r.ownerDocument||Q)&&p.push(h.defaultView||h.parentWindow||t)}for(d=0;(l=p[d++])&&!i.isPropagationStopped();)i.type=d>1?c:u.bindType||f,a=(ue._data(l,"events")||{})[i.type]&&ue._data(l,"handle"),a&&a.apply(l,n),a=s&&l[s],a&&ue.acceptData(l)&&a.apply&&a.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!o&&!i.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),n)===!1)&&ue.acceptData(r)&&s&&r[f]&&!ue.isWindow(r)){h=r[s],h&&(r[s]=null),ue.event.triggered=f;try{r[f]()}catch(g){}ue.event.triggered=e,h&&(r[s]=h)}return i.result}},dispatch:function(t){t=ue.event.fix(t);var i,n,r,o,a,s=[],l=oe.call(arguments),c=(ue._data(this,"events")||{})[t.type]||[],u=ue.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=ue.event.handlers.call(this,t,c),i=0;(o=s[i++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((ue.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),n!==e&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,r,o,a,s=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(o=[],a=0;l>a;a++)r=i[a],n=r.selector+" ",o[n]===e&&(o[n]=r.needsContext?ue(n,this).index(c)>=0:ue.find(n,this,null,[c]).length),o[n]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return l<i.length&&s.push({elem:this,handlers:i.slice(l)}),s},fix:function(t){if(t[ue.expando])return t;var e,i,n,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=ze.test(r)?this.mouseHooks:Oe.test(r)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new ue.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||Q),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,r,o,a=i.button,s=i.fromElement;return null==t.pageX&&null!=i.clientX&&(r=t.target.ownerDocument||Q,o=r.documentElement,n=r.body,t.pageX=i.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=i.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?i.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ue.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=ue.extend(new ue.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ue.event.trigger(r,null,e):ue.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},ue.removeEvent=Q.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===Y&&(t[n]=null),t.detachEvent(n,i))},ue.Event=function(t,e){return this instanceof ue.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&ue.extend(this,e),this.timeStamp=t&&t.timeStamp||ue.now(),void(this[ue.expando]=!0)):new ue.Event(t,e)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ue.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==n&&!ue.contains(n,r))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:void ue.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=ue.nodeName(i,"input")||ue.nodeName(i,"button")?i.form:e;n&&!ue._data(n,"submitBubbles")&&(ue.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ue._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ue.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:void ue.event.remove(this,"._submit")}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return Re.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,t,!0)})),!1):void ue.event.add(this,"beforeactivate._change",function(t){var e=t.target;Re.test(e.nodeName)&&!ue._data(e,"changeBubbles")&&(ue.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ue.event.simulate("change",this.parentNode,t,!0)}),ue._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ue.event.remove(this,"._change"),!Re.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){ue.event.simulate(e,t.target,ue.event.fix(t),!0)};ue.event.special[e]={setup:function(){0===i++&&Q.addEventListener(t,n,!0)},teardown:function(){0===--i&&Q.removeEventListener(t,n,!0)}}}),ue.fn.extend({on:function(t,i,n,r,o){var a,s;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(a in t)this.on(a,i,n,t[a],o);return this}if(null==n&&null==r?(r=i,n=i=e):null==r&&("string"==typeof i?(r=n,n=e):(r=n,n=i,i=e)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(t){return ue().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ue.guid++)),this.each(function(){ue.event.add(this,t,r,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ue(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,i,t[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=c),this.each(function(){ue.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){ue.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ue.event.trigger(t,e,i,!0):void 0}});var Be=/^.[^:#\[\.,]*$/,We=/^(?:parents|prev(?:Until|All))/,qe=ue.expr.match.needsContext,Ue={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(ue(t).filter(function(){for(e=0;r>e;e++)if(ue.contains(n[e],this))return!0}));for(e=0;r>e;e++)ue.find(t,n[e],i);return i=this.pushStack(r>1?ue.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=ue(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ue.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&qe.test(t)?ue(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,r=this.length,o=[],a=qe.test(t)||"string"!=typeof t?ue(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,t))){i=o.push(i);break}return this.pushStack(o.length>1?ue.unique(o):o)},index:function(t){return t?"string"==typeof t?ue.inArray(this[0],ue(t)):ue.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?ue(t,e):ue.makeArray(t&&t.nodeType?[t]:t),n=ue.merge(this.get(),i);return this.pushStack(ue.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ue.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null
},parents:function(t){return ue.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ue.dir(t,"parentNode",i)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return ue.dir(t,"nextSibling")},prevAll:function(t){return ue.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ue.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ue.dir(t,"previousSibling",i)},siblings:function(t){return ue.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ue.sibling(t.firstChild)},contents:function(t){return ue.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ue.merge([],t.childNodes)}},function(t,e){ue.fn[t]=function(i,n){var r=ue.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=ue.filter(n,r)),this.length>1&&(Ue[t]||(r=ue.unique(r)),We.test(t)&&(r=r.reverse())),this.pushStack(r)}}),ue.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ue.find.matchesSelector(n,t)?[n]:[]:ue.find.matches(t,ue.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var r=[],o=t[i];o&&9!==o.nodeType&&(n===e||1!==o.nodeType||!ue(o).is(n));)1===o.nodeType&&r.push(o),o=o[i];return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ke=/ jQuery\d+="(?:null|\d+)"/g,Ye=new RegExp("<(?:"+Ve+")[\\s/>]","i"),Xe=/^\s+/,Qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ge=/<([\w:]+)/,Ze=/<tbody/i,Je=/<|&#?\w+;/,ti=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,ri=/^true\/(.*)/,oi=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ai={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},si=p(Q),li=si.appendChild(Q.createElement("div"));ai.optgroup=ai.option,ai.tbody=ai.tfoot=ai.colgroup=ai.caption=ai.thead,ai.th=ai.td,ue.fn.extend({text:function(t){return ue.access(this,function(t){return t===e?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ue.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||ue.cleanData(w(i)),i.parentNode&&(e&&ue.contains(i.ownerDocument,i)&&v(w(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ue.cleanData(w(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ue.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ue.clone(this,t,e)})},html:function(t){return ue.access(this,function(t){var i=this[0]||{},n=0,r=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Ke,""):e;if(!("string"!=typeof t||ti.test(t)||!ue.support.htmlSerialize&&Ye.test(t)||!ue.support.leadingWhitespace&&Xe.test(t)||ai[(Ge.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Qe,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(ue.cleanData(w(i,!1)),i.innerHTML=t);i=0}catch(o){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ue.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],r=t[e++];r&&(n&&n.parentNode!==r&&(n=this.nextSibling),ue(this).remove(),r.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=ne.apply([],t);var n,r,o,a,s,l,c=0,u=this.length,h=this,d=u-1,p=t[0],f=ue.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&ii.test(p))return this.each(function(n){var r=h.eq(n);f&&(t[0]=p.call(this,n,r.html())),r.domManip(t,e,i)});if(u&&(l=ue.buildFragment(t,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(a=ue.map(w(l,"script"),m),o=a.length;u>c;c++)r=l,c!==d&&(r=ue.clone(r,!0,!0),o&&ue.merge(a,w(r,"script"))),e.call(this[c],r,c);if(o)for(s=a[a.length-1].ownerDocument,ue.map(a,g),c=0;o>c;c++)r=a[c],ni.test(r.type||"")&&!ue._data(r,"globalEval")&&ue.contains(s,r)&&(r.src?ue._evalUrl(r.src):ue.globalEval((r.text||r.textContent||r.innerHTML||"").replace(oi,"")));l=n=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ue.fn[t]=function(t){for(var i,n=0,r=[],o=ue(t),a=o.length-1;a>=n;n++)i=n===a?this:this.clone(!0),ue(o[n])[e](i),re.apply(r,i.get());return this.pushStack(r)}}),ue.extend({clone:function(t,e,i){var n,r,o,a,s,l=ue.contains(t.ownerDocument,t);if(ue.support.html5Clone||ue.isXMLDoc(t)||!Ye.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(li.innerHTML=t.outerHTML,li.removeChild(o=li.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ue.isXMLDoc(t)))for(n=w(o),s=w(t),a=0;null!=(r=s[a]);++a)n[a]&&b(r,n[a]);if(e)if(i)for(s=s||w(t),n=n||w(o),a=0;null!=(r=s[a]);a++)y(r,n[a]);else y(t,o);return n=w(o,"script"),n.length>0&&v(n,!l&&w(t,"script")),n=s=r=null,o},buildFragment:function(t,e,i,n){for(var r,o,a,s,l,c,u,h=t.length,d=p(e),f=[],m=0;h>m;m++)if(o=t[m],o||0===o)if("object"===ue.type(o))ue.merge(f,o.nodeType?[o]:o);else if(Je.test(o)){for(s=s||d.appendChild(e.createElement("div")),l=(Ge.exec(o)||["",""])[1].toLowerCase(),u=ai[l]||ai._default,s.innerHTML=u[1]+o.replace(Qe,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!ue.support.leadingWhitespace&&Xe.test(o)&&f.push(e.createTextNode(Xe.exec(o)[0])),!ue.support.tbody)for(o="table"!==l||Ze.test(o)?"<table>"!==u[1]||Ze.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)ue.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ue.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(e.createTextNode(o));for(s&&d.removeChild(s),ue.support.appendChecked||ue.grep(w(f,"input"),_),m=0;o=f[m++];)if((!n||-1===ue.inArray(o,n))&&(a=ue.contains(o.ownerDocument,o),s=w(d.appendChild(o),"script"),a&&v(s),i))for(r=0;o=s[r++];)ni.test(o.type||"")&&i.push(o);return s=null,d},cleanData:function(t,e){for(var i,n,r,o,a=0,s=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(i=t[a]);a++)if((e||ue.acceptData(i))&&(r=i[s],o=r&&l[r])){if(o.events)for(n in o.events)u[n]?ue.event.remove(i,n):ue.removeEvent(i,n,o.handle);l[r]&&(delete l[r],c?delete i[s]:typeof i.removeAttribute!==Y?i.removeAttribute(s):i[s]=null,ee.push(r))}},_evalUrl:function(t){return ue.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(t){if(ue.isFunction(t))return this.each(function(e){ue(this).wrapAll(t.call(this,e))});if(this[0]){var e=ue(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(ue.isFunction(t)?function(e){ue(this).wrapInner(t.call(this,e))}:function(){var e=ue(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ue.isFunction(t);return this.each(function(i){ue(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var ci,ui,hi,di=/alpha\([^)]*\)/i,pi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=new RegExp("^("+he+")(.*)$","i"),yi=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),bi=new RegExp("^([+-])=("+he+")","i"),wi={BODY:"block"},_i={position:"absolute",visibility:"hidden",display:"block"},xi={letterSpacing:0,fontWeight:400},ki=["Top","Right","Bottom","Left"],Ci=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(t,i){return ue.access(this,function(t,i,n){var r,o,a={},s=0;if(ue.isArray(i)){for(o=ui(t),r=i.length;r>s;s++)a[i[s]]=ue.css(t,i[s],!1,o);return a}return n!==e?ue.style(t,i,n):ue.css(t,i)},t,i,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){k(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=hi(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,l=ue.camelCase(i),c=t.style;if(i=ue.cssProps[l]||(ue.cssProps[l]=x(c,l)),s=ue.cssHooks[i]||ue.cssHooks[l],n===e)return s&&"get"in s&&(o=s.get(t,!1,r))!==e?o:c[i];if(a=typeof n,"string"===a&&(o=bi.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ue.css(t,i)),a="number"),!(null==n||"number"===a&&isNaN(n)||("number"!==a||ue.cssNumber[l]||(n+="px"),ue.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),s&&"set"in s&&(n=s.set(t,n,r))===e)))try{c[i]=n}catch(u){}}},css:function(t,i,n,r){var o,a,s,l=ue.camelCase(i);return i=ue.cssProps[l]||(ue.cssProps[l]=x(t.style,l)),s=ue.cssHooks[i]||ue.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,n)),a===e&&(a=hi(t,i,r)),"normal"===a&&i in xi&&(a=xi[i]),""===n||n?(o=parseFloat(a),n===!0||ue.isNumeric(o)?o||0:a):a}}),t.getComputedStyle?(ui=function(e){return t.getComputedStyle(e,null)},hi=function(t,i,n){var r,o,a,s=n||ui(t),l=s?s.getPropertyValue(i)||s[i]:e,c=t.style;return s&&(""!==l||ue.contains(t.ownerDocument,t)||(l=ue.style(t,i)),yi.test(l)&&gi.test(i)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):Q.documentElement.currentStyle&&(ui=function(t){return t.currentStyle},hi=function(t,i,n){var r,o,a,s=n||ui(t),l=s?s[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),yi.test(l)&&!fi.test(i)&&(r=c.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),ue.each(["height","width"],function(t,e){ue.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&mi.test(ue.css(t,"display"))?ue.swap(t,_i,function(){return E(t,e,n)}):E(t,e,n):void 0},set:function(t,i,n){var r=n&&ui(t);return $(t,i,n?T(t,e,n,ue.support.boxSizing&&"border-box"===ue.css(t,"boxSizing",!1,r),r):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(t,e){return pi.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=ue.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ue.trim(o.replace(di,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=di.test(o)?o.replace(di,r):o+" "+r)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(t,e){return e?ue.swap(t,{display:"inline-block"},hi,[t,"marginRight"]):void 0}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(t,e){ue.cssHooks[e]={get:function(t,i){return i?(i=hi(t,e),yi.test(i)?ue(t).position()[e]+"px":i):void 0}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ue.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ue.css(t,"display"))},ue.expr.filters.visible=function(t){return!ue.expr.filters.hidden(t)}),ue.each({margin:"",padding:"",border:"Width"},function(t,e){ue.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+ki[n]+e]=o[n]||o[n-2]||o[0];return r}},gi.test(t)||(ue.cssHooks[t+e].set=$)});var $i=/%20/g,Ti=/\[\]$/,Ei=/\r?\n/g,Si=/^(?:submit|button|image|reset|file)$/i,Ni=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ue.prop(this,"elements");return t?ue.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ue(this).is(":disabled")&&Ni.test(this.nodeName)&&!Si.test(t)&&(this.checked||!ei.test(t))}).map(function(t,e){var i=ue(this).val();return null==i?null:ue.isArray(i)?ue.map(i,function(t){return{name:e.name,value:t.replace(Ei,"\r\n")}}):{name:e.name,value:i.replace(Ei,"\r\n")}}).get()}}),ue.param=function(t,i){var n,r=[],o=function(t,e){e=ue.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(t)||t.jquery&&!ue.isPlainObject(t))ue.each(t,function(){o(this.name,this.value)});else for(n in t)D(n,t[n],i,o);return r.join("&").replace($i,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ue.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ue.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Di,Ii,Ai=ue.now(),Pi=/\?/,Mi=/#.*$/,ji=/([?&])_=[^&]*/,Li=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ri=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Oi=/^(?:GET|HEAD)$/,zi=/^\/\//,Fi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Hi=ue.fn.load,Bi={},Wi={},qi="*/".concat("*");try{Ii=X.href}catch(Ui){Ii=Q.createElement("a"),Ii.href="",Ii=Ii.href}Di=Fi.exec(Ii.toLowerCase())||[],ue.fn.load=function(t,i,n){if("string"!=typeof t&&Hi)return Hi.apply(this,arguments);var r,o,a,s=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),ue.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(a="POST"),s.length>0&&ue.ajax({url:t,type:a,dataType:"html",data:i}).done(function(t){o=arguments,s.html(r?ue("<div>").append(ue.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ue.fn[e]=function(t){return this.on(e,t)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ii,type:"GET",isLocal:Ri.test(Di[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?P(P(t,ue.ajaxSettings),e):P(ue.ajaxSettings,t)},ajaxPrefilter:I(Bi),ajaxTransport:I(Wi),ajax:function(t,i){function n(t,i,n,r){var o,h,y,b,_,k=i;2!==w&&(w=2,l&&clearTimeout(l),u=e,s=r||"",x.readyState=t>0?4:0,o=t>=200&&300>t||304===t,n&&(b=M(d,x,n)),b=j(d,b,x,o),o?(d.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(ue.lastModified[a]=_),_=x.getResponseHeader("etag"),_&&(ue.etag[a]=_)),204===t||"HEAD"===d.type?k="nocontent":304===t?k="notmodified":(k=b.state,h=b.data,y=b.error,o=!y)):(y=k,(t||!k)&&(k="error",0>t&&(t=0))),x.status=t,x.statusText=(i||k)+"",o?m.resolveWith(p,[h,k,x]):m.rejectWith(p,[x,k,y]),x.statusCode(v),v=e,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,d,o?h:y]),g.fireWith(p,[x,k]),c&&(f.trigger("ajaxComplete",[x,d]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var r,o,a,s,l,c,u,h,d=ue.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!h)for(h={};e=Li.exec(s);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return w||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return u&&u.abort(e),n(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||Ii)+"").replace(Mi,"").replace(zi,Di[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=ue.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(r=Fi.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Di[1]&&r[2]===Di[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Di[3]||("http:"===Di[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ue.param(d.data,d.traditional)),A(Bi,d,i,x),2===w)return x;c=d.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Oi.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Pi.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ji.test(a)?a.replace(ji,"$1_="+Ai++):a+(Pi.test(a)?"&":"?")+"_="+Ai++)),d.ifModified&&(ue.lastModified[a]&&x.setRequestHeader("If-Modified-Since",ue.lastModified[a]),ue.etag[a]&&x.setRequestHeader("If-None-Match",ue.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qi+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)x.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===w))return x.abort();_="abort";for(o in{success:1,error:1,complete:1})x[o](d[o]);if(u=A(Wi,d,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{w=1,u.send(y,n)}catch(k){if(!(2>w))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return ue.get(t,e,i,"json")},getScript:function(t,i){return ue.get(t,e,i,"script")}}),ue.each(["get","post"],function(t,i){ue[i]=function(t,n,r,o){return ue.isFunction(n)&&(o=o||r,r=n,n=e),ue.ajax({url:t,type:i,dataType:o,data:n,success:r})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ue.globalEval(t),t}}}),ue.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ue.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=Q.head||ue("head")[0]||Q.documentElement;return{send:function(e,r){i=Q.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||r(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var Vi=[],Ki=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Vi.pop()||ue.expando+"_"+Ai++;return this[t]=!0,t}}),ue.ajaxPrefilter("json jsonp",function(i,n,r){var o,a,s,l=i.jsonp!==!1&&(Ki.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ki.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(o=i.jsonpCallback=ue.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Ki,"$1"+o):i.jsonp!==!1&&(i.url+=(Pi.test(i.url)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return s||ue.error(o+" was not called"),s[0]},i.dataTypes[0]="json",a=t[o],t[o]=function(){s=arguments},r.always(function(){t[o]=a,i[o]&&(i.jsonpCallback=n.jsonpCallback,Vi.push(o)),s&&ue.isFunction(a)&&a(s[0]),s=a=e}),"script"):void 0});var Yi,Xi,Qi=0,Gi=t.ActiveXObject&&function(){var t;for(t in Yi)Yi[t](e,!0)};ue.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&L()||R()}:L,Xi=ue.ajaxSettings.xhr(),ue.support.cors=!!Xi&&"withCredentials"in Xi,Xi=ue.support.ajax=!!Xi,Xi&&ue.ajaxTransport(function(i){if(!i.crossDomain||ue.support.cors){var n;return{send:function(r,o){var a,s,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(s in i.xhrFields)l[s]=i.xhrFields[s];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,r){var s,c,u,h;try{if(n&&(r||4===l.readyState))if(n=e,a&&(l.onreadystatechange=ue.noop,Gi&&delete Yi[a]),r)4!==l.readyState&&l.abort();else{h={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(d){u=""}s||!i.isLocal||i.crossDomain?1223===s&&(s=204):s=h.text?200:404}}catch(p){r||o(-1,p)}h&&o(s,u,h,c)},i.async?4===l.readyState?setTimeout(n):(a=++Qi,Gi&&(Yi||(Yi={},ue(t).unload(Gi)),Yi[a]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Zi,Ji,tn=/^(?:toggle|show|hide)$/,en=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[B],on={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=en.exec(e),o=r&&r[3]||(ue.cssNumber[t]?"":"px"),a=(ue.cssNumber[t]||"px"!==o&&+n)&&en.exec(ue.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+n||1;do s=s||".5",a/=s,ue.style(i.elem,t,a+o);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(a=i.start=+a||+n||0,i.unit=o,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};ue.Animation=ue.extend(F,{tweener:function(t,e){ue.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],on[i]=on[i]||[],on[i].unshift(e)},prefilter:function(t,e){e?rn.unshift(t):rn.push(t)}}),ue.Tween=W,W.prototype={constructor:W,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ue.cssNumber[i]?"":"px")},cur:function(){var t=W.propHooks[this.prop];return t&&t.get?t.get(this):W.propHooks._default.get(this)},run:function(t){var e,i=W.propHooks[this.prop];return this.pos=e=this.options.duration?ue.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ue.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ue.fx.step[t.prop]?ue.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ue.cssProps[t.prop]]||ue.cssHooks[t.prop])?ue.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ue.each(["toggle","show","hide"],function(t,e){var i=ue.fn[e];ue.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(q(e,!0),t,n,r)}}),ue.fn.extend({fadeTo:function(t,e,i,n){return this.filter(k).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=ue.isEmptyObject(t),o=ue.speed(e,i,n),a=function(){var e=F(this,ue.extend({},t),o);(r||ue._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,i,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=ue.timers,a=ue._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&nn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&ue.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ue._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=ue.timers,a=n?n.length:0;for(i.finish=!0,ue.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ue.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ue.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ue.speed=function(t,e,i){var n=t&&"object"==typeof t?ue.extend({},t):{complete:i||!i&&e||ue.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ue.isFunction(e)&&e};return n.duration=ue.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ue.fx.speeds?ue.fx.speeds[n.duration]:ue.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ue.timers=[],ue.fx=W.prototype.init,ue.fx.tick=function(){var t,i=ue.timers,n=0;for(Zi=ue.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||ue.fx.stop(),Zi=e},ue.fx.timer=function(t){t()&&ue.timers.push(t)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){Ji||(Ji=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(Ji),Ji=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(t){return ue.grep(ue.timers,function(e){return t===e.elem}).length}),ue.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ue.offset.setOffset(this,t,e)});var i,n,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return i=a.documentElement,ue.contains(i,o)?(typeof o.getBoundingClientRect!==Y&&(r=o.getBoundingClientRect()),n=U(a),{top:r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):r},ue.offset={setOffset:function(t,e,i){var n=ue.css(t,"position");"static"===n&&(t.style.position="relative");var r,o,a=ue(t),s=a.offset(),l=ue.css(t,"top"),c=ue.css(t,"left"),u=("absolute"===n||"fixed"===n)&&ue.inArray("auto",[l,c])>-1,h={},d={};u?(d=a.position(),r=d.top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),ue.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(h.top=e.top-s.top+r),null!=e.left&&(h.left=e.left-s.left+o),"using"in e?e.using.call(t,h):a.css(h)}},ue.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ue.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ue.nodeName(t[0],"html")||(i=t.offset()),i.top+=ue.css(t[0],"borderTopWidth",!0),i.left+=ue.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ue.css(n,"marginTop",!0),left:e.left-i.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||G;t&&!ue.nodeName(t,"html")&&"static"===ue.css(t,"position");)t=t.offsetParent;return t||G})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);ue.fn[t]=function(r){return ue.access(this,function(t,r,o){var a=U(t);return o===e?a?i in a?a[i]:a.document.documentElement[r]:t[r]:void(a?a.scrollTo(n?ue(a).scrollLeft():o,n?o:ue(a).scrollTop()):t[r]=o)},t,r,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(t,i){ue.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,r){ue.fn[r]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return ue.access(this,function(i,n,r){var o;return ue.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+t],o["scroll"+t],i.body["offset"+t],o["offset"+t],o["client"+t])):r===e?ue.css(i,n,s):ue.style(i,n,r,s)},i,a?r:e,a,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(t.jQuery=t.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function(t,e){function i(e,i){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);
return(r||n>=0)&&i(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?s["inner"+n].call(this):this.each(function(){t(this).css(a,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;r.length>n;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(i,n,r){var o,a,s,l,c={},u=i.split(".")[0];i=i.split(".")[1],o=u+"-"+i,r||(r=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[u]=t[u]||{},a=t[u][i],s=t[u][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new s(t,i)},t.extend(s,a,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(r,function(i,r){return t.isFunction(r)?(c[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=r.apply(this,arguments),this._super=n,this._superApply=o,i}}(),e):(c[i]=r,e)}),s.prototype=t.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix||i:i},c,{constructor:s,namespace:u,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete a._childConstructors):n._childConstructors.push(s),t.widget.bridge(i,s)},t.widget.extend=function(i){for(var r,o,a=n.call(arguments,1),s=0,l=a.length;l>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==e&&(i[r]=t.isPlainObject(o)?t.isPlainObject(i[r])?t.widget.extend({},i[r],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,r){var o=r.prototype.widgetFullName||i;t.fn[i]=function(a){var s="string"==typeof a,l=n.call(arguments,1),c=this;return a=!s&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,this.each(s?function(){var n,r=t.data(this,o);return r?t.isFunction(r[a])&&"_"!==a.charAt(0)?(n=r[a].apply(r,l),n!==r&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}:function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new r(a,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,o,a,s=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(s={},r=i.split("."),i=r.shift(),r.length){for(o=s[i]=t.widget.extend({},this.options[i]),a=0;r.length-1>a;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(i=r.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=n}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];s[i]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,r){var o,a=this;"boolean"!=typeof i&&(r=n,n=i,i=!1),r?(n=o=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,o=this.widget()),t.each(r,function(r,s){function l(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):e}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||t.guid++);var c=r.match(/^(\w+)\s*(.*)$/),u=c[1]+a.eventNamespace,h=c[2];h?o.delegate(h,u,l):n.bind(u,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&t.effects&&t.effects.effect[s]?n[e](r):s!==e&&n[s]?n[s](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function r(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return t("body").append(r),i=a.offsetWidth,r.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,m,g,v,y,b=t(e.of),w=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(w),x=(e.collision||"flip").split(" "),k={};return y=r(b),b[0].preventDefault&&(e.at="left top"),p=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=h.exec(n[0]),i=h.exec(n[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=i(k.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,c,u=t(this),h=u.outerWidth(),d=u.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),C=h+f+n(this,"marginRight")+_.width,$=d+y+n(this,"marginBottom")+_.height,T=t.extend({},v),E=i(k.my,u.outerWidth(),u.outerHeight());"right"===e.my[0]?T.left-=h:"center"===e.my[0]&&(T.left-=h/2),"bottom"===e.my[1]?T.top-=d:"center"===e.my[1]&&(T.top-=d/2),T.left+=E[0],T.top+=E[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:f,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](T,{targetWidth:p,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:r,collisionWidth:C,collisionHeight:$,offset:[o[0]+E[0],o[1]+E[1]],my:e.my,at:e.at,within:w,elem:u})}),e.using&&(c=function(t){var i=g.left-T.left,n=i+p-h,r=g.top-T.top,o=r+m-d,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:T.left,top:T.top,width:h,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};h>p&&p>s(i+n)&&(l.horizontal="center"),d>m&&m>s(r+o)&&(l.vertical="middle"),l.important=a(s(i),s(n))>a(s(r),s(o))?"horizontal":"vertical",e.using.call(this,t,l)}),u.offset(t.extend(T,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,s=t.left-e.collisionPosition.marginLeft,l=r-s,c=s+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=c?(i=t.left+l+e.collisionWidth-o-r,t.left+=l-i):t.left=c>0&&0>=l?r:l>c?r+o-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=a(t.left-s,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,l=r-s,c=s+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=c?(i=t.top+l+e.collisionHeight-o-r,t.top+=l-i):t.top=c>0&&0>=l?r:l>c?r+o-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=a(t.top-s,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||s(u)>i)&&(t.left+=d+p+f)):h>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||h>s(n))&&(t.left+=d+p+f))},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(n=t.top+p+f+m+e.collisionHeight-a-o,t.top+p+f+m>u&&(0>n||s(u)>n)&&(t.top+=p+f+m)):h>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>h&&(i>0||h>s(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,o,a=document.getElementsByTagName("body")[0],s=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(s),i=a||document.documentElement,i.insertBefore(e,i.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=t(s).offset().left,t.support.offsetFractions=r>10&&11>r,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,r,o,a=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),r=n.options,o=t.extend({},i,{item:n.element});n.sortables=[],t(r.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var n=t(this).data("ui-draggable"),r=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,i){var n=t(this).data("ui-draggable"),r=this;t.each(n.sortables,function(){var o=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),r=t(this).data("ui-draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,r=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)
}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,r,o,a,s,l,c,u,h,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)s=p.snapElements[h].left,l=s+p.snapElements[h].width,c=p.snapElements[h].top,u=c+p.snapElements[h].height,s-m>v||g>l+m||c-m>b||y>u+m||!t.contains(p.snapElements[h].item.ownerDocument,p.snapElements[h].item)?(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(c-b),r=m>=Math.abs(u-y),o=m>=Math.abs(s-v),a=m>=Math.abs(l-g),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:s-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||r||o||a,"outer"!==f.snapMode&&(n=m>=Math.abs(c-y),r=m>=Math.abs(u-b),o=m>=Math.abs(s-g),a=m>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:s}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(n||r||o||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=n||r||o||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),r=t(this).data("ui-draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1;var r,o,a=(t.positionAbs||t.position.absolute).left,s=(t.positionAbs||t.position.absolute).top,l=a+t.helperProportions.width,c=s+t.helperProportions.height,u=i.offset.left,h=i.offset.top,d=u+i.proportions().width,p=h+i.proportions().height;switch(n){case"fit":return a>=u&&d>=l&&s>=h&&p>=c;case"intersect":return a+t.helperProportions.width/2>u&&d>l-t.helperProportions.width/2&&s+t.helperProportions.height/2>h&&p>c-t.helperProportions.height/2;case"pointer":return r=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(o,h,i.proportions().height)&&e(r,u,i.proportions().width);case"touch":return(s>=h&&p>=s||c>=h&&p>=c||h>s&&c>p)&&(a>=u&&d>=a||l>=u&&d>=l||u>a&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(r=0;s.length>r;r++)if(s[r]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===a&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,a=t.ui.intersect(e,this,this.options.tolerance),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===r}),o.length&&(n=t.data(o[0],"ui-droppable"),n.greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),o="ui-resizable-"+n,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(e){var i,n,r,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(i){var n,r,o,a=this.options,s=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),n=e(this.helper.css("left")),r=e(this.helper.css("top")),a.containment&&(n+=t(a.containment).scrollLeft()||0,r+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,r={},o=this.originalMousePosition,a=this.axis,s=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,h=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[a];return p?(i=p.apply(this,[e,h,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==u&&(r.height=this.size.height+"px"),n.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(r)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,a,s,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&t.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-r},s=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,r,o,a,s=this.options;a={minWidth:i(s.minWidth)?s.minWidth:0,maxWidth:i(s.maxWidth)?s.maxWidth:1/0,minHeight:i(s.minHeight)?s.minHeight:0,maxHeight:i(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),r>a.minHeight&&(a.minHeight=r),a.maxWidth>n&&(a.maxWidth=n),a.maxHeight>o&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,r=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===r&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===r&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,r=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=i(t.width)&&e.minWidth&&e.minWidth>t.width,s=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n);return a&&(t.width=e.minWidth),s&&(t.height=e.minHeight),r&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&u&&(t.left=l-e.minWidth),r&&u&&(t.left=l-e.maxWidth),s&&h&&(t.top=c-e.minHeight),o&&h&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,r,o=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(r=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&t.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,r,o,a,s,l,c=t(this).data("ui-resizable"),u=c.options,h=c.element,d=u.containment,p=d instanceof t?d.get(0):/parent/.test(d)?h.parent().get(0):d;p&&(c.containerElement=t(p),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,r){n[t]=e(i.css("padding"+r))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},r=c.containerOffset,o=c.containerSize.height,a=c.containerSize.width,s=t.ui.hasScroll(p,"left")?p.scrollWidth:a,l=t.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:r.left,top:r.top,width:s,height:l}))},resize:function(e){var i,n,r,o,a=t(this).data("ui-resizable"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||e.shiftKey,h={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),u&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-h.left:a.offset.left-h.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-h.top:a.offset.top-l.top)+a.sizeDiff.height),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o&&(i-=Math.abs(a.parentData.left)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,u&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),r=n.options,o=n.originalSize,a=n.originalPosition,s={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(e,n){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},a=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(r[e]||0)+(s[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,r=e.originalSize,o=e.originalPosition,a=e.axis,s="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=s[0]||1,c=s[1]||1,u=Math.round((n.width-r.width)/l)*l,h=Math.round((n.height-r.height)/c)*c,d=r.width+u,p=r.height+h,f=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=s,g&&(d+=l),v&&(p+=c),f&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-h):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-u):(p-c>0?(e.size.height=p,e.position.top=o.top-h):(e.size.height=c,e.position.top=o.top+r.height-c),d-l>0?(e.size.width=d,e.position.left=o.left-u):(e.size.width=l,e.position.left=o.left+r.width-l))}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());
break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>s&&l>n+c,d="y"===this.options.axis||e+u>o&&a>e+u,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=i&&n,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){s.push(this)}var n,r,o,a,s=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(o=t(c[n]),r=o.length-1;r>=0;r--)a=t.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,a,s,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=t(d[i]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(a=h[i][1],s=h[i][0],n=0,c=s.length;c>n;n++)l=t(s[n]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var r,o,a,s,l,c,u,h,d,p,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&t.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",n,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,s=null,p=f.floating||i(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[l],d=!1,Math.abs(h-u)>Math.abs(h+this.items[o][c]-u)&&(d=!0,h+=this.items[o][c]),a>Math.abs(h-u)&&(a=Math.abs(h-u),s=this.items[o],this.direction=d?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;s?this._rearrange(n,s,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t){t.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function r(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.4"}});var o,a="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,o;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,a=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;t.length>r;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,s){var l,c,u,h,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),r(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+h,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this
},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,a);r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,a);r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var a,s,l,c,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=o),u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),r(u.settings,a),null!==l&&a.dateFormat!==e&&a.minDate===e&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&a.dateFormat!==e&&a.maxDate===e&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var n,r,o=t.datepicker._getInst(i.target);return t.datepicker._get(o,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),r=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">r||!n||n.indexOf(r)>-1):e},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,a,s,l,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(r(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),s=t.datepicker._checkOffset(i,s,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),r=n[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+s?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+s):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,o,s=this._curInst;!s||e&&s!==t.data(e,a)||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,r):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,n,r){if(null==i||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var o,a,s,l,c=0,u=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,p=(r?r.dayNames:null)||this._defaults.dayNames,f=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,m=(r?r.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,y=-1,b=-1,w=!1,_=function(t){var e=i.length>o+1&&i.charAt(o+1)===t;return e&&o++,e},x=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=RegExp("^\\d{1,"+i+"}"),o=n.substring(c).match(r);if(!o)throw"Missing number at position "+c;return c+=o[0].length,parseInt(o[0],10)},k=function(i,r,o){var a=-1,s=t.map(_(i)?o:r,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,i){var r=i[1];return n.substr(c,r.length).toLowerCase()===r.toLowerCase()?(a=i[0],c+=r.length,!1):e}),-1!==a)return a+1;throw"Unknown name at position "+c},C=function(){if(n.charAt(c)!==i.charAt(o))throw"Unexpected literal at position "+c;c++};for(o=0;i.length>o;o++)if(w)"'"!==i.charAt(o)||_("'")?C():w=!1;else switch(i.charAt(o)){case"d":y=x("d");break;case"D":k("D",d,p);break;case"o":b=x("o");break;case"m":v=x("m");break;case"M":v=k("M",f,m);break;case"y":g=x("y");break;case"@":l=new Date(x("@")),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":l=new Date((x("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":_("'")?C():w=!0;break;default:C()}if(n.length>c&&(s=n.substr(c),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=g?0:-100)),b>-1)for(v=1,y=b;a=this._getDaysInMonth(g,v-1),!(a>=y);)v++,y-=a;if(l=this._daylightSavingAdjust(new Date(g,v-1,y)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),a,s);break;case"y":h+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||r}catch(s){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":s+=parseInt(c[1],10);break;case"w":case"W":s+=7*parseInt(c[1],10);break;case"m":case"M":a+=parseInt(c[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(c[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a))}c=l.exec(i)}return new Date(o,a,s)},a=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,o,a,s,l,c,u,h,d,p,f,m,g,v,y,b,w,_,x,k,C,$,T,E,S,N,D,I,A,P,M,j,L,R,O,z,F=new Date,H=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),B=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),K=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),X=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-K,te=t.drawYear;if(0>J&&(J+=12,te--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),e=G&&G>e?G:e;this._daylightSavingAdjust(new Date(te,J,1))>e;)J--,0>J&&(J=11,te--);for(t.drawMonth=J,t.drawYear=te,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(te,J-Y,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(te,J+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,te,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?Q:H,a=U?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",x=0;V[0]>x;x++){for(k="",this.maxRows=4,C=0;V[1]>C;C++){if($=this._daylightSavingAdjust(new Date(te,J,t.selectedDay)),T=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:E+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case V[1]-1:E+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:E+=" ui-datepicker-group-middle",T=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?B?o:n:"")+(/all|right/.test(T)&&0===x?B?n:o:"")+this._generateMonthYearHeader(t,J,te,G,Z,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)N=(_+u)%7,S+="<th"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[N]+"'>"+p[N]+"</span></th>";for(E+=S+"</tr></thead><tbody>",D=this._getDaysInMonth(te,J),te===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),I=(this._getFirstDayOfMonth(te,J)-u+7)%7,A=Math.ceil((I+D)/7),P=X&&this.maxRows>A?this.maxRows:A,this.maxRows=P,M=this._daylightSavingAdjust(new Date(te,J,1-I)),j=0;P>j;j++){for(E+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(M)+"</td>":"",_=0;7>_;_++)R=g?g.apply(t.input?t.input[0]:null,[M]):[!0,""],O=M.getMonth()!==J,z=O&&!y||!R[0]||G&&G>M||Z&&M>Z,L+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(M.getTime()===$.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===M.getTime()&&b.getTime()===$.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+R[1]+(M.getTime()===Q.getTime()?" "+this._currentClass:"")+(M.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===H.getTime()?" ui-state-highlight":"")+(M.getTime()===Q.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);E+=L+"</tr>"}J++,J>11&&(J=0,te++),E+="</tbody></table>"+(X?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=E}w+=k}return w+=c,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,n,r,o,a,s){var l,c,u,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||r.getMonth()>=u)&&(w+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),r=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||s>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.4"}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,o,a,s,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);
break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),o===r?a=!0:o=r+o,s=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(e.keyCode),s=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,a,s;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.height(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-r}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=i(this),a=o.settings;return isNaN(e.datetime)||(0==a.cutoff||r(e.datetime)<a.cutoff)&&t(this).text(n(e.datetime)),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:o.datetime(e)});var i=t.trim(e.text());o.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||o.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function n(t){return o.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return n(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var o=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function i(i,r){var o=t.isFunction(i)?i(r,e):i,a=n.numbers&&n.numbers[r]||r;return o.replace(/%d/i,a)}var n=this.settings.strings,r=n.prefixAgo,o=n.suffixAgo;this.settings.allowFuture&&0>e&&(r=n.prefixFromNow,o=n.suffixFromNow);var a=Math.abs(e)/1e3,s=a/60,l=s/60,c=l/24,u=c/365,h=45>a&&i(n.seconds,Math.round(a))||90>a&&i(n.minute,1)||45>s&&i(n.minutes,Math.round(s))||90>s&&i(n.hour,1)||24>l&&i(n.hours,Math.round(l))||42>l&&i(n.day,1)||30>c&&i(n.days,Math.round(c))||45>c&&i(n.month,1)||365>c&&i(n.months,Math.round(c/30))||1.5>u&&i(n.year,1)||i(n.years,Math.round(u)),d=n.wordSeparator||"";return void 0===n.wordSeparator&&(d=" "),t.trim([r,h,o].join(d))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(e){var i=t(e).attr(o.isTime(e)?"datetime":"title");return o.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var a={init:function(){var i=t.proxy(e,this);i();var n=o.settings;n.refreshMillis>0&&(this._timeagoInterval=setInterval(i,n.refreshMillis))},update:function(i){var n=o.parse(i);t(this).data("timeago",{datetime:n}),o.settings.localeTitle&&t(this).attr("title",n.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:o.parse(t(this).attr(o.isTime(this)?"datetime":"title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var i=t?a[t]:a.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(t){function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var a=n.offset();o.clk_x=e.pageX-a.left,o.clk_y=e.pageY-a.top}else o.clk_x=e.pageX-i.offsetLeft,o.clk_y=e.pageY-i.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var o=!!t.fn.prop;t.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){var n,r,o=t.param(i,e.traditional).split("&"),a=o.length,s=[];for(n=0;a>n;n++)o[n]=o[n].replace(/\+/g," "),r=o[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}function a(n){for(var r=new FormData,o=0;o<n.length;o++)r.append(n[o].name,n[o].value);if(e.extraData){var a=i(e.extraData);for(o=0;o<a.length;o++)a[o]&&r.append(a[o][0],a[o][1])}e.data=null;var s=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(s.xhr=function(){var i=t.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(t){var i=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(i=Math.ceil(n/r*100)),e.uploadProgress(t,n,r,i)},!1),i}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(t,i){i.data=e.formData?e.formData:r,c&&c.call(this,t,i)},t.ajax(s)}function s(i){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){n("cannot get iframe.contentDocument: "+i),e=t.document}return e}function a(){function e(){try{var t=r(v).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(i){n("Server abort: ",i," (",i.name,")"),s(T),x&&clearTimeout(x),x=void 0}}var i=h.attr2("target"),o=h.attr2("action"),a="multipart/form-data",c=h.attr("enctype")||h.attr("encoding")||a;k.setAttribute("target",f),(!l||/post/i.test(l))&&k.setAttribute("method","POST"),o!=d.url&&k.setAttribute("action",d.url),d.skipEncodingOverride||l&&!/post/i.test(l)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){_=!0,s($)},d.timeout));var u=[];try{if(d.extraData)for(var p in d.extraData)d.extraData.hasOwnProperty(p)&&u.push(t.isPlainObject(d.extraData[p])&&d.extraData[p].hasOwnProperty("name")&&d.extraData[p].hasOwnProperty("value")?t('<input type="hidden" name="'+d.extraData[p].name+'">').val(d.extraData[p].value).appendTo(k)[0]:t('<input type="hidden" name="'+p+'">').val(d.extraData[p]).appendTo(k)[0]);d.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(e,15);try{k.submit()}catch(m){var y=document.createElement("form").submit;y.apply(k)}}finally{k.setAttribute("action",o),k.setAttribute("enctype",c),i?k.setAttribute("target",i):h.removeAttr("target"),t(u).remove()}}function s(e){if(!y.aborted&&!I){if(D=r(v),D||(n("cannot access response document"),e=T),e===$&&y)return y.abort("timeout"),void C.reject(y,"timeout");if(e==T&&y)return y.abort("server abort"),void C.reject(y,"error","server abort");if(D&&D.location.href!=d.iframeSrc||_){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var i,o="success";try{if(_)throw"timeout";var a="xml"==d.dataType||D.XMLDocument||t.isXMLDoc(D);if(n("isXml="+a),!a&&window.opera&&(null===D.body||!D.body.innerHTML)&&--A)return n("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=D.body?D.body:D.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=D.XMLDocument?D.XMLDocument:D,a&&(d.dataType="xml"),y.getResponseHeader=function(t){var e={"content-type":d.dataType};return e[t.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(d.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||d.textarea){var h=D.getElementsByTagName("textarea")[0];if(h)y.responseText=h.value,y.status=Number(h.getAttribute("status"))||y.status,y.statusText=h.getAttribute("statusText")||y.statusText;else if(u){var f=D.getElementsByTagName("pre")[0],m=D.getElementsByTagName("body")[0];f?y.responseText=f.textContent?f.textContent:f.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!y.responseXML&&y.responseText&&(y.responseXML=P(y.responseText));try{N=j(y,c,d)}catch(b){o="parsererror",y.error=i=b||o}}catch(b){n("error caught: ",b),o="error",y.error=i=b||o}y.aborted&&(n("upload aborted"),o=null),y.status&&(o=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===o?(d.success&&d.success.call(d.context,N,"success",y),C.resolve(y.responseText,"success",y),p&&t.event.trigger("ajaxSuccess",[y,d])):o&&(void 0===i&&(i=y.statusText),d.error&&d.error.call(d.context,y,o,i),C.reject(y,"error",i),p&&t.event.trigger("ajaxError",[y,d,i])),p&&t.event.trigger("ajaxComplete",[y,d]),p&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,y,o),I=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget?g.attr("src",d.iframeSrc):g.remove(),y.responseXML=null},100)}}}var c,u,d,p,f,g,v,y,b,w,_,x,k=h[0],C=t.Deferred();if(C.abort=function(t){y.abort(t)},i)for(u=0;u<m.length;u++)c=t(m[u]),o?c.prop("disabled",!1):c.removeAttr("disabled");if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,f="jqFormIO"+(new Date).getTime(),d.iframeTarget?(g=t(d.iframeTarget),w=g.attr2("name"),w?f=w:g.attr2("name",f)):(g=t('<iframe name="'+f+'" src="'+d.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(r){}g.attr("src",d.iframeSrc),y.error=i,d.error&&d.error.call(d.context,y,i,e),p&&t.event.trigger("ajaxError",[y,d,i]),d.complete&&d.complete.call(d.context,y,i)}},p=d.global,p&&0===t.active++&&t.event.trigger("ajaxStart"),p&&t.event.trigger("ajaxSend",[y,d]),d.beforeSend&&d.beforeSend.call(d.context,y,d)===!1)return d.global&&t.active--,C.reject(),C;if(y.aborted)return C.reject(),C;b=k.clk,b&&(w=b.name,w&&!b.disabled&&(d.extraData=d.extraData||{},d.extraData[w]=b.value,"image"==b.type&&(d.extraData[w+".x"]=k.clk_x,d.extraData[w+".y"]=k.clk_y)));var $=1,T=2,E=t("meta[name=csrf-token]").attr("content"),S=t("meta[name=csrf-param]").attr("content");S&&E&&(d.extraData=d.extraData||{},d.extraData[S]=E),d.forceSync?a():setTimeout(a,10);var N,D,I,A=50,P=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},M=t.parseJSON||function(t){return window.eval("("+t+")")},j=function(e,i,n){var r=e.getResponseHeader("content-type")||"",o="xml"===i||!i&&r.indexOf("xml")>=0,a=o?e.responseXML:e.responseText;return o&&"parsererror"===a.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,i)),"string"==typeof a&&("json"===i||!i&&r.indexOf("json")>=0?a=M(a):("script"===i||!i&&r.indexOf("javascript")>=0)&&t.globalEval(a)),a};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,h=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),c=e.url||this.attr2("action"),u="string"==typeof c?t.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var d={};if(this.trigger("form-pre-serialize",[this,e,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=e.traditional;void 0===p&&(p=t.ajaxSettings.traditional);var f,m=[],g=this.formToArray(e.semantic,m);if(e.data&&(e.extraData=e.data,f=t.param(e.data,p)),e.beforeSubmit&&e.beforeSubmit(g,this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(g,p);f&&(v=v?v+"&"+f:f),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+v,e.data=null):e.data=v;var y=[];if(e.resetForm&&y.push(function(){h.resetForm()}),e.clearForm&&y.push(function(){h.clearForm(e.includeHidden)}),!e.dataType&&e.target){var b=e.success||function(){};y.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(b,arguments)})}else e.success&&y.push(e.success);if(e.success=function(t,i,n){for(var r=e.context||this,o=0,a=y.length;a>o;o++)y[o].apply(r,[t,i,n||h,h])},e.error){var w=e.error;e.error=function(t,i,n){var r=e.context||this;w.apply(r,[t,i,n,h])}}if(e.complete){var _=e.complete;e.complete=function(t,i){var n=e.context||this;_.apply(n,[t,i,h])}}var x=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),k=x.length>0,C="multipart/form-data",$=h.attr("enctype")==C||h.attr("encoding")==C,T=r.fileapi&&r.formdata;n("fileAPI :"+T);var E,S=(k||$)&&!T;e.iframe!==!1&&(e.iframe||S)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){E=s(g)}):E=s(g):E=(k||$)&&T?a(g):t.ajax(e),h.removeData("jqxhr").data("jqxhr",E);for(var N=0;N<m.length;N++)m[N]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!t.isReady&&o.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(o.s,o.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var o,a=this[0],s=this.attr("id"),l=e?a.getElementsByTagName("*"):a.elements;if(l&&!/MSIE 8/.test(navigator.userAgent)&&(l=t(l).get()),s&&(o=t(":input[form="+s+"]").get(),o.length&&(l=(l||[]).concat(o))),!l||!l.length)return n;var c,u,h,d,p,f,m;for(c=0,f=l.length;f>c;c++)if(p=l[c],h=p.name,h&&!p.disabled)if(e&&a.clk&&"image"==p.type)a.clk==p&&(n.push({name:h,value:t(p).val(),type:p.type}),n.push({name:h+".x",value:a.clk_x},{name:h+".y",value:a.clk_y}));else if(d=t.fieldValue(p,!0),d&&d.constructor==Array)for(i&&i.push(p),u=0,m=d.length;m>u;u++)n.push({name:h,value:d[u]});else if(r.fileapi&&"file"==p.type){i&&i.push(p);var g=p.files;if(g.length)for(u=0;u<g.length;u++)n.push({name:h,value:g[u],type:p.type});else n.push({name:h,value:"",type:p.type})}else null!==d&&"undefined"!=typeof d&&(i&&i.push(p),n.push({name:h,value:d,type:p.type,required:p.required}));if(!e&&a.clk){var v=t(a.clk),y=v[0];h=y.name,h&&!y.disabled&&"image"==y.type&&(n.push({name:h,value:v.val()}),n.push({name:h+".x",value:a.clk_x},{name:h+".y",value:a.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var o=0,a=r.length;a>o;o++)i.push({name:n,value:r[o]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,r=this.length;r>n;n++){var o=this[n],a=t.fieldValue(o,e);null===a||"undefined"==typeof a||a.constructor==Array&&!a.length||(a.constructor==Array?t.merge(i,a):i.push(a))}return i},t.fieldValue=function(e,i){var n=e.name,r=e.type,o=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"==o){var a=e.selectedIndex;if(0>a)return null;for(var s=[],l=e.options,c="select-one"==r,u=c?a+1:l.length,h=c?a:0;u>h;h++){var d=l[h];if(d.selected){var p=d.value;if(p||(p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return p;s.push(p)}}return s}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),function(t,e){t.fn.serializeObject=function(){var i={};return t.each(this.serializeArray(),function(n,r){var o=r.name,a=r.value;i[o]=i[o]===e?a:t.isArray(i[o])?i[o].concat(a):[i[o],a]}),i}}(jQuery),function(t,e){function i(e){return e.map(function(){return this.elements?t.makeArray(this.elements):this}).filter(":input").get()}function n(i){var n,r={};return t.each(i,function(i,o){n=r[o.name],r[o.name]=n===e?o:t.isArray(n)?n.concat(o):[n,o]}),r}var r=Array.prototype.push,o=/^(?:radio|checkbox)$/i,a=/\+/g,s=/^(?:option|select-one|select-multiple)$/i,l=/^(?:button|color|date|datetime|datetime-local|email|hidden|month|number|password|range|reset|search|submit|tel|text|textarea|time|url|week)$/i;t.fn.deserialize=function(c,u){var h,d,p=i(this),f=[];if(!c||!p.length)return this;if(t.isArray(c))f=c;else if(t.isPlainObject(c)){var m,g;for(m in c)t.isArray(g=c[m])?r.apply(f,t.map(g,function(t){return{name:m,value:t}})):r.call(f,{name:m,value:g})}else if("string"==typeof c){var v;for(c=c.split("&"),h=0,d=c.length;d>h;h++)v=c[h].split("="),r.call(f,{name:decodeURIComponent(v[0]),value:decodeURIComponent(v[1].replace(a,"%20"))})}if(!(d=f.length))return this;var y,b,w,_,x,k,C,g,$=t.noop,T=t.noop,E={};for(u=u||{},p=n(p),t.isFunction(u)?T=u:($=t.isFunction(u.change)?u.change:$,T=t.isFunction(u.complete)?u.complete:T),h=0;d>h;h++)if(y=f[h],x=y.name,g=y.value,(b=p[x])&&(C=(_=b.length)?b[0]:b,C=(C.type||C.nodeName).toLowerCase(),k=null,l.test(C)?(_&&(w=E[x],b=b[E[x]=w==e?0:++w]),$.call(b,b.value=g)):o.test(C)?k="checked":s.test(C)&&(k="selected"),k))for(_||(b=[b],_=1),w=0;_>w;w++)y=b[w],y.value==g&&$.call(y,(y[k]=!0)&&g);return T.call(this),this}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){o.trigger("closed.bs.alert").remove()}var n=t(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),+function(t){var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",r=i.data();t+="Text",r.resetText||i.data("resetText",i[n]()),i[n](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var i=this.$element.find("input");"radio"===i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),r=n.data("bs.button"),o="object"==typeof i&&i;r||n.data("bs.button",r=new e(this,o)),"toggle"==i?r.toggle():i&&r.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),r=i||n[e](),o=this.interval,a="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[s]()}this.sliding=!0,o&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:r[0],direction:a});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,n.addClass(a),r.addClass(a),n.one(t.support.transition.end,function(){r.removeClass([e,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),a="string"==typeof i?i:o.slide;r||n.data("bs.carousel",r=new e(this,o)),"number"==typeof i?r.to(i):a?r[a]():o.interval&&r.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),r=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},r.data(),n.data()),a=n.attr("data-slide-to");a&&(o.interval=!1),r.carousel(o),(a=n.attr("data-slide-to"))&&r.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()
};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var a=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("bs.collapse",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(r),a=o.data("bs.collapse"),s=a?"toggle":n.data(),l=n.attr("data-parent"),c=l&&t(l);a&&a.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(s)})}(jQuery),+function(t){function e(){t(n).remove(),t(r).each(function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var o=i(r),a=o.hasClass("open");if(e(),!a){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),a=o.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&o.find(r).focus(),n.click();var s=t("[role=menu] li:not(.divider):visible a",o);if(s.length){var l=s.index(s.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(jQuery),+function(t){var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof i&&i);o||r.data("bs.modal",o=new e(this,a)),"string"==typeof i?o[i](n):a.show&&o.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,o=r.test(n);o&&(n=n.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var a=this.getPosition(),s=i[0].offsetWidth,l=i[0].offsetHeight;if(o){var c=this.$element.parent(),u=n,h=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;n="bottom"==n&&a.top+a.height+l-h>p?"top":"top"==n&&a.top-h-l<0?"bottom":"right"==n&&a.right+s>d?"left":"left"==n&&a.left-s<f?"right":n,i.removeClass(u).addClass(n)}var m=this.getCalculatedOffset(n,a,s,l);this.applyPlacement(m,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,n.offset(t).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==e&&c!=o&&(i=!0,t.top=t.top+o-c),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,n.offset(t),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(u-r+l,l,"left")}else this.replaceArrow(c-o,c,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),o="object"==typeof i&&i;r||n.data("bs.tooltip",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("bs.popover"),o="object"==typeof i&&i;r||n.data("bs.popover",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){function e(i,n){var r,o=t.proxy(this.process,this);this.$element=t(t(i).is("body")?window:i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(r=t(i).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var n=t(this),r=n.data("target")||n.attr("href"),o=/^#\w/.test(r)&&t(r);return o&&o.length&&[[o[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(e>=n)return a!=(t=o.last()[0])&&this.activate(t);for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),o="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(n);this.activate(e.parent("li"),i),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,i,n){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),a=n&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.top,s=o.bottom;"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom());var l=null!=this.unpin&&n+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=i-s?"bottom":null!=a&&a>=n?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?r.top-n:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-s-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),r=n.data("bs.affix"),o="object"==typeof i&&i;r||n.data("bs.affix",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),function(t){function e(e,i){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=i&&i.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(i)}function i(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function n(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}function r(t){return t?s.text(t).html():""}function o(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}var a={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};e.prototype={constructor:e,add:function(e,i){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags||e!==!1&&!e)){if("object"==typeof e&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&n.itemsArray.length>0&&n.remove(n.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var o=e.split(",");if(o.length>1){for(var a=0;a<o.length;a++)this.add(o[a],!0);return void(i||n.pushVal())}}var s=n.options.itemValue(e),l=n.options.itemText(e),c=n.options.tagClass(e),u=t.grep(n.itemsArray,function(t){return n.options.itemValue(t)===s})[0];if(u){if(n.options.onTagExists){var h=t(".tag",n.$container).filter(function(){return t(this).data("item")===u});n.options.onTagExists(e,h)}}else{n.itemsArray.push(e);var d=t('<span class="tag '+r(c)+'">'+r(l)+'<span data-role="remove"></span></span>');if(d.data("item",e),n.findInputWrapper().before(d),d.after(" "),n.isSelect&&!t('option[value="'+escape(s)+'"]',n.$element)[0]){var p=t("<option selected>"+r(l)+"</option>");p.data("item",e),p.attr("value",s),n.$element.append(p)}i||n.pushVal(),n.options.maxTags===n.itemsArray.length&&n.$container.addClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemAdded",{item:e}))}}}},remove:function(e,i){var n=this;n.objectItems&&(e="object"==typeof e?t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==n.options.itemValue(e)})[0]:t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==e})[0]),e&&(t(".tag",n.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",n.$element).filter(function(){return t(this).data("item")===e}).remove(),n.itemsArray.splice(t.inArray(e,n.itemsArray),1)),i||n.pushVal(),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal(),e.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var i=t(this),n=i.data("item"),o=e.options.itemValue(n),a=e.options.itemText(n),s=e.options.tagClass(n);if(i.attr("class",null),i.addClass("tag "+r(s)),i.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=r(a),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===n});l.attr("value",o)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,i=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(i,!0).trigger("change")},build:function(e){var r=this;r.options=t.extend({},a,e);var s=r.options.typeahead||{};r.objectItems&&(r.options.freeInput=!1),i(r.options,"itemValue"),i(r.options,"itemText"),i(r.options,"tagClass"),r.options.source&&(s.source=r.options.source),s.source&&t.fn.typeahead&&(n(s,"source"),r.$input.typeahead({source:function(e,i){function n(t){for(var e=[],n=0;n<t.length;n++){var a=r.options.itemText(t[n]);o[a]=t[n],e.push(a)}i(e)}this.map={};var o=this.map,a=s.source(e);t.isFunction(a.success)?a.success(n):t.when(a).then(n)},updater:function(t){r.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),r.$container.on("click",t.proxy(function(){r.$input.focus()},r)),r.$container.on("keypress","input",t.proxy(function(e){var i=t(e.target);r.options.freeInput&&t.inArray(e.which,r.options.confirmKeys)>=0&&(r.add(i.val()),i.val(""),e.preventDefault())})),r.$container.on("keydown","input",t.proxy(function(e){var i=t(e.target),n=r.findInputWrapper();switch(e.which){case 8:if(0===o(i[0])){var a=n.prev();a&&r.remove(a.data("item"))}break;case 46:if(0===o(i[0])){var s=n.next();s&&r.remove(s.data("item"))}break;case 37:var l=n.prev();0===i.val().length&&l[0]&&(l.before(n),i.focus());break;case 39:var c=n.next();0===i.val().length&&c[0]&&(c.after(n),i.focus())}i.attr("size",Math.max(this.inputSize,i.val().length))},r)),r.$container.on("click","[data-role=remove]",t.proxy(function(e){r.remove(t(e.target).closest(".tag").data("item"))},r)),r.options.itemValue===a.itemValue&&("INPUT"===r.$element[0].tagName?r.add(r.$element.val()):t("option",r.$element).each(function(){r.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],i=this.$container[0];e&&e.parentNode!==i;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(i,n){var r=[];return this.each(function(){var o=t(this).data("tagsinput");if(o){var a=o[i](n);void 0!==a&&r.push(a)}else o=new e(this,i),t(this).data("tagsinput",o),r.push(o),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof i?r.length>1?r:r[0]:r},t.fn.tagsinput.Constructor=e;var s=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);var requirejs,require,define;!function(ba){function J(t){return"[object Function]"===N.call(t)}function K(t){return"[object Array]"===N.call(t)}function z(t,e){if(t){var i;for(i=0;i<t.length&&(!t[i]||!e(t[i],i,t));i+=1);}}function O(t,e){if(t){var i;for(i=t.length-1;i>-1&&(!t[i]||!e(t[i],i,t));i-=1);}}function t(t,e){return ha.call(t,e)}function m(e,i){return t(e,i)&&e[i]}function H(e,i){for(var n in e)if(t(e,n)&&i(e[n],n))break}function S(e,i,n,r){return i&&H(i,function(i,o){(n||!t(e,o))&&(r&&"string"!=typeof i?(e[o]||(e[o]={}),S(e[o],i,n,r)):e[o]=i)}),e}function v(t,e){return function(){return e.apply(t,arguments)}}function ca(t){throw t}function da(t){if(!t)return t;var e=ba;return z(t.split("."),function(t){e=e[t]}),e}function B(t,e,i,n){return e=Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t),e.requireType=t,e.requireModules=n,i&&(e.originalError=i),e}function ia(e){function i(t,e,i){var n,r,o,a,s,l,c,u=e&&e.split("/");n=u;var h=$.map,d=h&&h["*"];if(t&&"."===t.charAt(0))if(e){for(n=m($.pkgs,e)?u=[e]:u.slice(0,u.length-1),e=t=n.concat(t.split("/")),n=0;e[n];n+=1)if(r=e[n],"."===r)e.splice(n,1),n-=1;else if(".."===r){if(1===n&&(".."===e[2]||".."===e[0]))break;n>0&&(e.splice(n-1,2),n-=2)}n=m($.pkgs,e=t[0]),t=t.join("/"),n&&t===e+"/"+n.main&&(t=e)}else 0===t.indexOf("./")&&(t=t.substring(2));if(i&&h&&(u||d)){for(e=t.split("/"),n=e.length;n>0;n-=1){if(o=e.slice(0,n).join("/"),u)for(r=u.length;r>0;r-=1)if((i=m(h,u.slice(0,r).join("/")))&&(i=m(i,o))){a=i,s=n;break}if(a)break;!l&&d&&m(d,o)&&(l=m(d,o),c=n)}!a&&l&&(a=l,s=c),a&&(e.splice(0,s,a),t=e.join("/"))}return t}function n(t){A&&z(document.getElementsByTagName("script"),function(e){return e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===x.contextName?(e.parentNode.removeChild(e),!0):void 0})}function r(t){var e=m($.paths,t);return e&&K(e)&&1<e.length?(n(t),e.shift(),x.require.undef(t),x.require([t]),!0):void 0}function o(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function a(t,e,n,r){var a,s,l=null,c=e?e.name:null,u=t,h=!0,d="";return t||(h=!1,t="_@r"+(M+=1)),t=o(t),l=t[0],t=t[1],l&&(l=i(l,c,r),s=m(I,l)),t&&(l?d=s&&s.normalize?s.normalize(t,function(t){return i(t,c,r)}):i(t,c,r):(d=i(t,c,r),t=o(d),l=t[0],d=t[1],n=!0,a=x.nameToUrl(d))),n=!l||s||n?"":"_unnormalized"+(j+=1),{prefix:l,name:d,parentMap:e,unnormalized:!!n,url:a,originalName:u,isDefine:h,id:(l?l+"!"+d:d)+n}}function s(t){var e=t.id,i=m(T,e);return i||(i=T[e]=new x.Module(t)),i}function l(e,i,n){var r=e.id,o=m(T,r);!t(I,r)||o&&!o.defineEmitComplete?(o=s(e),o.error&&"error"===i?n(o.error):o.on(i,n)):"defined"===i&&n(I[r])}function c(t,e){var i=t.requireModules,n=!1;e?e(t):(z(i,function(e){(e=m(T,e))&&(e.error=t,e.events.error&&(n=!0,e.emit("error",t)))}),n||h.onError(t))}function u(){U.length&&(ja.apply(D,[D.length-1,0].concat(U)),U=[])}function d(t){delete T[t],delete E[t]}function p(t,e,i){var n=t.map.id;t.error?t.emit("error",t.error):(e[n]=!0,z(t.depMaps,function(n,r){var o=n.id,a=m(T,o);a&&!t.depMatched[r]&&!i[o]&&(m(e,o)?(t.defineDep(r,I[o]),t.check()):p(a,e,i))}),i[n]=!0)}function f(){var t,e,i,o,a=(i=1e3*$.waitSeconds)&&x.startTime+i<(new Date).getTime(),s=[],l=[],u=!1,h=!0;if(!w){if(w=!0,H(E,function(i){if(t=i.map,e=t.id,i.enabled&&(t.isDefine||l.push(i),!i.error))if(!i.inited&&a)r(e)?u=o=!0:(s.push(e),n(e));else if(!i.inited&&i.fetched&&t.isDefine&&(u=!0,!t.prefix))return h=!1}),a&&s.length)return i=B("timeout","Load timeout for modules: "+s,null,s),i.contextName=x.contextName,c(i);h&&z(l,function(t){p(t,{},{})}),a&&!o||!u||!A&&!ea||C||(C=setTimeout(function(){C=0,f()},50)),w=!1}}function g(e){t(I,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function y(t){var t=t.currentTarget||t.srcElement,e=x.onScriptLoad;return t.detachEvent&&!Z?t.detachEvent("onreadystatechange",e):t.removeEventListener("load",e,!1),e=x.onScriptError,(!t.detachEvent||Z)&&t.removeEventListener("error",e,!1),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function b(){var t;for(u();D.length;){if(t=D.shift(),null===t[0])return c(B("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));g(t)}}var w,_,x,k,C,$={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},T={},E={},N={},D=[],I={},P={},M=1,j=1;
return k={require:function(t){return t.require?t.require:t.require=x.makeRequire(t.map)},exports:function(t){return t.usingExports=!0,t.map.isDefine?t.exports?t.exports:t.exports=I[t.map.id]={}:void 0},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){var e=m($.pkgs,t.map.id);return(e?m($.config,t.map.id+"/"+e.main):m($.config,t.map.id))||{}},exports:I[t.map.id]}}},_=function(t){this.events=m(N,t.id)||{},this.map=t,this.shim=m($.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},_.prototype={init:function(t,e,i,n){n=n||{},this.inited||(this.factory=e,i?this.on("error",i):this.events.error&&(i=v(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var t=this.map;if(!this.shim)return t.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],v(this,function(){return t.prefix?this.callPlugin():this.load()}))}},load:function(){var t=this.map.url;P[t]||(P[t]=!0,x.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var t,e,i=this.map.id;e=this.depExports;var n=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(J(r)){if(this.events.error&&this.map.isDefine||h.onError!==ca)try{n=x.execCb(i,r,e,n)}catch(o){t=o}else n=x.execCb(i,r,e,n);if(this.map.isDefine&&((e=this.module)&&void 0!==e.exports&&e.exports!==this.exports?n=e.exports:void 0===n&&this.usingExports&&(n=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",c(this.error=t)}else n=r;this.exports=n,this.map.isDefine&&!this.ignore&&(I[i]=n,h.onResourceLoad)&&h.onResourceLoad(x,this.map,this.depMaps),d(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,n=e.id,r=a(e.prefix);this.depMaps.push(r),l(r,"defined",v(this,function(r){var o,u;u=this.map.name;var p=this.map.parentMap?this.map.parentMap.name:null,f=x.makeRequire(e.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(r.normalize&&(u=r.normalize(u,function(t){return i(t,p,!0)})||""),r=a(e.prefix+"!"+u,this.map.parentMap),l(r,"defined",v(this,function(t){this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),(u=m(T,r.id))&&(this.depMaps.push(r),this.events.error&&u.on("error",v(this,function(t){this.emit("error",t)})),u.enable())):(o=v(this,function(t){this.init([],function(){return t},null,{enabled:!0})}),o.error=v(this,function(t){this.inited=!0,this.error=t,t.requireModules=[n],H(T,function(t){0===t.map.id.indexOf(n+"_unnormalized")&&d(t.map.id)}),c(t)}),o.fromText=v(this,function(i,r){var l=e.name,u=a(l),d=Q;r&&(i=r),d&&(Q=!1),s(u),t($.config,n)&&($.config[l]=$.config[n]);try{h.exec(i)}catch(p){return c(B("fromtexteval","fromText eval for "+n+" failed: "+p,p,[n]))}d&&(Q=!0),this.depMaps.push(u),x.completeLoad(l),f([l],o)}),r.load(e.name,f,o,$))})),x.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){E[this.map.id]=this,this.enabling=this.enabled=!0,z(this.depMaps,v(this,function(e,i){var n,r;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[i]=e,n=m(k,e.id))return void(this.depExports[i]=n(this));this.depCount+=1,l(e,"defined",v(this,function(t){this.defineDep(i,t),this.check()})),this.errback&&l(e,"error",v(this,this.errback))}n=e.id,r=T[n],!t(k,n)&&r&&!r.enabled&&x.enable(e,this)})),H(this.pluginMaps,v(this,function(t){var e=m(T,t.id);e&&!e.enabled&&x.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var i=this.events[t];i||(i=this.events[t]=[]),i.push(e)},emit:function(t,e){z(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}},x={config:$,contextName:e,registry:T,defined:I,urlFetched:P,defQueue:D,Module:_,makeModuleMap:a,nextTick:h.nextTick,onError:c,configure:function(t){t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/");var e=$.pkgs,i=$.shim,n={paths:!0,config:!0,map:!0};H(t,function(t,e){n[e]?"map"===e?($.map||($.map={}),S($[e],t,!0,!0)):S($[e],t,!0):$[e]=t}),t.shim&&(H(t.shim,function(t,e){K(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=x.makeShimExports(t)),i[e]=t}),$.shim=i),t.packages&&(z(t.packages,function(t){t="string"==typeof t?{name:t}:t,e[t.name]={name:t.name,location:t.location||t.name,main:(t.main||"main").replace(ka,"").replace(fa,"")}}),$.pkgs=e),H(T,function(t,e){!t.inited&&!t.map.unnormalized&&(t.map=a(e))}),(t.deps||t.callback)&&x.require(t.deps||[],t.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(ba,arguments)),e||t.exports&&da(t.exports)}},makeRequire:function(n,r){function o(i,l,u){var d,p;return r.enableBuildCallback&&l&&J(l)&&(l.__requireJsBuild=!0),"string"==typeof i?J(l)?c(B("requireargs","Invalid require call"),u):n&&t(k,i)?k[i](T[n.id]):h.get?h.get(x,i,n,o):(d=a(i,n,!1,!0),d=d.id,t(I,d)?I[d]:c(B("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(n?"":". Use require([])")))):(b(),x.nextTick(function(){b(),p=s(a(null,n)),p.skipMap=r.skipMap,p.init(i,l,u,{enabled:!0}),f()}),o)}return r=r||{},S(o,{isBrowser:A,toUrl:function(t){var e,r=t.lastIndexOf("."),o=t.split("/")[0];return-1!==r&&("."!==o&&".."!==o||r>1)&&(e=t.substring(r,t.length),t=t.substring(0,r)),x.nameToUrl(i(t,n&&n.id,!0),e,!0)},defined:function(e){return t(I,a(e,n,!1,!0).id)},specified:function(e){return e=a(e,n,!1,!0).id,t(I,e)||t(T,e)}}),n||(o.undef=function(t){u();var e=a(t,n,!0),i=m(T,t);delete I[t],delete P[e.url],delete N[t],i&&(i.events.defined&&(N[t]=i.events),d(t))}),o},enable:function(t){m(T,t.id)&&s(t).enable()},completeLoad:function(e){var i,n,o=m($.shim,e)||{},a=o.exports;for(u();D.length;){if(n=D.shift(),null===n[0]){if(n[0]=e,i)break;i=!0}else n[0]===e&&(i=!0);g(n)}if(n=m(T,e),!i&&!t(I,e)&&n&&!n.inited){if($.enforceDefine&&(!a||!da(a)))return r(e)?void 0:c(B("nodefine","No define call for "+e,null,[e]));g([e,o.deps||[],o.exportsFn])}f()},nameToUrl:function(t,e,i){var n,r,o,a,s,l;if(h.jsExtRegExp.test(t))a=t+(e||"");else{for(n=$.paths,r=$.pkgs,a=t.split("/"),s=a.length;s>0;s-=1){if(l=a.slice(0,s).join("/"),o=m(r,l),l=m(n,l)){K(l)&&(l=l[0]),a.splice(0,s,l);break}if(o){t=t===o.name?o.location+"/"+o.main:o.location,a.splice(0,s,t);break}}a=a.join("/"),a+=e||(/\?/.test(a)||i?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":$.baseUrl)+a}return $.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+$.urlArgs):a},load:function(t,e){h.load(x,t,e)},execCb:function(t,e,i,n){return e.apply(n,i)},onScriptLoad:function(t){("load"===t.type||la.test((t.currentTarget||t.srcElement).readyState))&&(R=null,t=y(t),x.completeLoad(t.id))},onScriptError:function(t){var e=y(t);return r(e.id)?void 0:c(B("scripterror","Script error for: "+e.id,t,[e.id]))}},x.require=x.makeRequire(),x}var h,x,y,E,L,F,R,M,s,ga,ma=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,na=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,fa=/\.js$/,ka=/^\.\//;x=Object.prototype;var N=x.toString,ha=x.hasOwnProperty,ja=Array.prototype.splice,A=!("undefined"==typeof window||!navigator||!window.document),ea=!A&&"undefined"!=typeof importScripts,la=A&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Z="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),G={},u={},U=[],Q=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(J(requirejs))return;u=requirejs,requirejs=void 0}"undefined"!=typeof require&&!J(require)&&(u=require,require=void 0),h=requirejs=function(t,e,i,n){var r,o="_";return!K(t)&&"string"!=typeof t&&(r=t,K(e)?(t=e,e=i,i=n):t=[]),r&&r.context&&(o=r.context),(n=m(G,o))||(n=G[o]=h.s.newContext(o)),r&&n.configure(r),n.require(t,e,i)},h.config=function(t){return h(t)},h.nextTick="undefined"!=typeof setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=h),h.version="2.1.6",h.jsExtRegExp=/^\/|:|\?|\.js$/,h.isBrowser=A,x=h.s={contexts:G,newContext:ia},h({}),z(["toUrl","undef","defined","specified"],function(t){h[t]=function(){var e=G._;return e.require[t].apply(e,arguments)}}),A&&(y=x.head=document.getElementsByTagName("head")[0],E=document.getElementsByTagName("base")[0])&&(y=x.head=E.parentNode),h.onError=ca,h.load=function(t,e,i){var n,r=t&&t.config||{};if(A)return n=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),n.type=r.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n.setAttribute("data-requirecontext",t.contextName),n.setAttribute("data-requiremodule",e),!n.attachEvent||n.attachEvent.toString&&0>n.attachEvent.toString().indexOf("[native code")||Z?(n.addEventListener("load",t.onScriptLoad,!1),n.addEventListener("error",t.onScriptError,!1)):(Q=!0,n.attachEvent("onreadystatechange",t.onScriptLoad)),n.src=i,M=n,E?y.insertBefore(n,E):y.appendChild(n),M=null,n;if(ea)try{importScripts(i),t.completeLoad(e)}catch(o){t.onError(B("importscripts","importScripts failed for "+e+" at "+i,o,[e]))}},A&&O(document.getElementsByTagName("script"),function(t){return y||(y=t.parentNode),(L=t.getAttribute("data-main"))?(s=L,u.baseUrl||(F=s.split("/"),s=F.pop(),ga=F.length?F.join("/")+"/":"./",u.baseUrl=ga),s=s.replace(fa,""),h.jsExtRegExp.test(s)&&(s=L),u.deps=u.deps?u.deps.concat(s):[s],!0):void 0}),define=function(t,e,i){var n,r;"string"!=typeof t&&(i=e,e=t,t=null),K(e)||(i=e,e=null),!e&&J(i)&&(e=[],i.length&&(i.toString().replace(ma,"").replace(na,function(t,i){e.push(i)}),e=(1===i.length?["require"]:["require","exports","module"]).concat(e))),Q&&((n=M)||(R&&"interactive"===R.readyState||O(document.getElementsByTagName("script"),function(t){return"interactive"===t.readyState?R=t:void 0}),n=R),n&&(t||(t=n.getAttribute("data-requiremodule")),r=G[n.getAttribute("data-requirecontext")])),(r?r.defQueue:U).push([t,e,i])},define.amd={jQuery:!0},h.exec=function(b){return eval(b)},h(u)}}(this),window.bootbox=window.bootbox||function t(e,i){function n(t){var e=y[g.locale];return e?e[t]:y.en[t]}function r(t,i,n){t.preventDefault();var r=e.isFunction(n)&&n(t)===!1;r||i.modal("hide")}function o(t){var e,i=0;for(e in t)i++;return i}function a(t,i){var n=0;e.each(t,function(t,e){i(t,e,n++)})}function s(t){var i,n;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},g,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,i=t.buttons,n=o(i),a(i,function(t,r,o){if(e.isFunction(r)&&(r=i[t]={callback:r}),"object"!==e.type(r))throw new Error("button with key "+t+" must be an object");r.label||(r.label=t),r.className||(r.className=2>=n&&o===n-1?"btn-primary":"btn-default")}),t}function l(t,e){var i=t.length,n={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof t[0]?(n[e[0]]=t[0],n[e[1]]=t[1]):n=t[0],n}function c(t,i,n){return e.extend(!0,{},t,l(i,n))}function u(t,e,i){return p(c(d.apply(null,t),e,i),t)}function h(){for(var t={},e=0,i=arguments.length;i>e;e++){var r=arguments[e],o=r.toLowerCase(),a=r.toUpperCase();t[o]={label:n(a)}}return t}function d(){return{buttons:h.apply(null,arguments)}}function p(t,e){var n={};return a(e,function(t,e){n[e]=!0}),a(t.buttons,function(t){if(n[t]===i)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input form-control' autocomplete=off type=text />"}},m=e("body"),g={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},v={};v.alert=function(){var t;if(t=u(["ok"],arguments,["message","callback"]),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback():!0},v.dialog(t)},v.confirm=function(){var t;if(t=u(["cancel","confirm"],arguments,["message","callback"]),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return v.dialog(t)},v.prompt=function(){var t,n,r,o,a,s;if(o=e(f.form),n={buttons:h("cancel","confirm"),value:""},t=p(c(n,arguments,["title","callback"]),["cancel","confirm"]),s=t.show===i?!0:t.show,t.message=o,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){return t.callback(a.val())},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");return a=e(f.inputs.text),a.val(t.value),o.append(a),o.on("submit",function(t){t.preventDefault(),r.find(".btn-primary").click()}),r=v.dialog(t),r.off("shown.bs.modal"),r.on("shown.bs.modal",function(){a.focus()}),s===!0&&r.modal("show"),r},v.dialog=function(t){t=s(t);var i=e(f.dialog),n=i.find(".modal-body"),o=t.buttons,l="",c={onEscape:t.onEscape};if(a(o,function(t,e){l+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",c[t]=e.callback}),n.find(".bootbox-body").html(t.message),t.animate===!0&&i.addClass("fade"),t.className&&i.addClass(t.className),t.title&&n.before(f.header),t.closeButton){var u=e(f.closeButton);t.title?i.find(".modal-header").prepend(u):u.css("margin-top","-10px").prependTo(n)}return t.title&&i.find(".modal-title").html(t.title),l.length&&(n.after(f.footer),i.find(".modal-footer").html(l)),i.on("hidden.bs.modal",function(t){t.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),i.on("escape.close.bb",function(t){c.onEscape&&r(t,i,c.onEscape)}),i.on("click",".modal-footer button",function(t){var n=e(this).data("bb-handler");r(t,i,c[n])}),i.on("click",".bootbox-close-button",function(t){r(t,i,c.onEscape)}),i.on("keyup",function(t){27===t.which&&i.trigger("escape.close.bb")}),m.append(i),i.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&i.modal("show"),i},v.setDefaults=function(t){e.extend(g,t)},v.hideAll=function(){e(".bootbox").modal("hide")};var y={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return v.init=function(i){window.bootbox=t(i||e)},v}(window.jQuery),function(){var t={},e=null,i=null,n=document.title,r=null,o=null,a={},s=window.devicePixelRatio||1,l=16*s,c={width:7,height:9,font:10*s+"px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},u=function(){var t=navigator.userAgent.toLowerCase();return function(e){return-1!==t.indexOf(e)}}(),h={ie:u("msie"),chrome:u("chrome"),webkit:u("chrome")||u("safari"),safari:u("safari")&&!u("chrome"),mozilla:u("mozilla")&&!u("chrome")&&!u("safari")},d=function(){for(var t=document.getElementsByTagName("link"),e=0,i=t.length;i>e;e++)if((t[e].getAttribute("rel")||"").match(/\bicon\b/))return t[e];return!1},p=function(){for(var t=document.getElementsByTagName("link"),e=document.getElementsByTagName("head")[0],i=0,n=t.length;n>i;i++){var r="undefined"!=typeof t[i];r&&(t[i].getAttribute("rel")||"").match(/\bicon\b/)&&e.removeChild(t[i])}},f=function(){if(!i||!e){var t=d();i=e=t?t.getAttribute("href"):"/favicon.ico"}return e},m=function(){return o||(o=document.createElement("canvas"),o.width=l,o.height=l),o},g=function(t){p();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)},v=function(t,e){if(!m().getContext||h.ie||h.safari||"force"===a.fallback)return y(t);var i=m().getContext("2d"),e=e||"#000000",n=f();r=document.createElement("img"),r.onload=function(){i.clearRect(0,0,l,l),i.drawImage(r,0,0,r.width,r.height,0,0,l,l),(t+"").length>0&&b(i,t,e),w()},!n.match(/^data/)&&a.crossOrigin&&(r.crossOrigin="anonymous"),r.src=n},y=function(t){a.fallback&&(document.title=(t+"").length>0?"("+t+") "+n:n)},b=function(t,e){"number"==typeof e&&e>99&&a.abbreviate&&(e=_(e));var i=(e+"").length-1,n=a.width*s+6*s*i,r=a.height*s,o=l-r,c=l-n-s,u=16*s,d=16*s,p=2*s;t.font=(h.webkit?"bold ":"")+a.font,t.fillStyle=a.background,t.strokeStyle=a.background,t.lineWidth=s,t.beginPath(),t.moveTo(c+p,o),t.quadraticCurveTo(c,o,c,o+p),t.lineTo(c,u-p),t.quadraticCurveTo(c,u,c+p,u),t.lineTo(d-p,u),t.quadraticCurveTo(d,u,d,u-p),t.lineTo(d,o+p),t.quadraticCurveTo(d,o,d-p,o),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="rgba(0,0,0,0.3)",t.moveTo(c+p/2,u),t.lineTo(d-p/2,u),t.stroke(),t.fillStyle=a.colour,t.textAlign="right",t.textBaseline="top",t.fillText(e,2===s?29:15,h.mozilla?7*s:6*s)},w=function(){m().getContext&&g(m().toDataURL())},_=function(t){for(var e=[["G",1e9],["M",1e6],["k",1e3]],i=0;i<e.length;++i)if(t>=e[i][1]){t=x(t/e[i][1])+e[i][0];break}return t},x=function(t,e){var i=new Number(t);return i.toFixed(e)};t.setOptions=function(t){a={};for(var e in c)a[e]=t.hasOwnProperty(e)?t[e]:c[e];return this},t.setImage=function(t){return e=t,w(),this},t.setBubble=function(t,e){return t=t||"",v(t,e),this},t.reset=function(){g(i)},t.setOptions(c),window.Tinycon=t}();var XRegExp=function(t){function e(t,e,i){var n;if(i)if(t.__proto__)t.__proto__=h.prototype;else for(n in h.prototype)t[n]=h.prototype[n];return t[p]={captureNames:e},t}function i(t){return m.replace.call(t,/([\s\S])(?=[\s\S]*\1)/g,"")}function n(t,n){if(!h.isRegExp(t))throw new TypeError("Type RegExp expected");var r=m.exec.call(/\/([a-z]*)$/i,String(t))[1],n=n||{};return n.add&&(r=i(r+n.add)),n.remove&&(r=m.replace.call(r,RegExp("["+n.remove+"]+","g"),"")),t=e(RegExp(t.source,r),t[p]&&t[p].captureNames?t[p].captureNames.slice(0):null,n.addProto)}function r(t,e){if(Array.prototype.indexOf)return t.indexOf(e);var i,n=t.length;for(i=0;n>i;++i)if(t[i]===e)return i;return-1}function o(t,e){return $.call(t)==="[object "+e+"]"}function a(t,e,i){return m.test.call(-1<i.indexOf("x")?/^(?:\s+|#.*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,t.slice(e))}function s(t){return t=t||{},o(t,"String")&&(t=h.forEach(t,/[^\s,]+/,function(t){this[t]=!0},{})),t}function l(t){if(!/^[\w$]$/.test(t))throw Error("Flag must be a single character A-Za-z0-9_$");C[t]=!0}function c(t){RegExp.prototype.exec=(t?g:m).exec,RegExp.prototype.test=(t?g:m).test,String.prototype.match=(t?g:m).match,String.prototype.replace=(t?g:m).replace,String.prototype.split=(t?g:m).split,f.natives=t}function u(t){if(null==t)throw new TypeError("Cannot convert null or undefined to object");return t}var h,d,p="xregexp",f={astral:!1,natives:!1},m={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},g={},v={},y={},b=[],w={"default":/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,"class":/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|[\s\S]/},_=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,x=m.exec.call(/()??/,"")[1]===t,k=RegExp.prototype.sticky!==t,C={g:!0,i:!0,m:!0,y:k},$={}.toString;return h=function(r,o){var a,s,l={hasNamedCapture:!1,captureNames:[]},c="default",u="",d=0;if(h.isRegExp(r)){if(o!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return n(r,{addProto:!0})}if(r=r===t?"":String(r),o=o===t?"":String(o),s=r+"/"+o,!y[s]){a=r;var p,f=o;if(i(f)!==f)throw new SyntaxError("Invalid duplicate regex flag "+f);for(a=m.replace.call(a,/^\(\?([\w$]+)\)/,function(t,e){if(m.test.call(/[gy]/,e))throw new SyntaxError("Cannot use flag g or y in mode modifier "+t);return f=i(f+e),""}),p=0;p<f.length;++p)if(!C[f.charAt(p)])throw new SyntaxError("Unknown regex flag "+f.charAt(p));for(a={pattern:a,flags:f},r=a.pattern,o=a.flags;d<r.length;){do{a=r,p=o;for(var g=d,v=c,_=l,x=b.length,k=null,$=void 0,T=void 0;x--;)if(T=b[x],(T.scope===v||"all"===T.scope)&&(!T.flag||-1<p.indexOf(T.flag))&&($=h.exec(a,T.regex,g,"sticky"))){k={matchLength:$[0].length,output:T.handler.call(_,$,v,p),reparse:T.reparse};break}(a=k)&&a.reparse&&(r=r.slice(0,d)+a.output+r.slice(d+a.matchLength))}while(a&&a.reparse);a?(u+=a.output,d+=a.matchLength||1):(a=h.exec(r,w[c],d,"sticky")[0],u+=a,d+=a.length,"["===a&&"default"===c?c="class":"]"===a&&"class"===c&&(c="default"))}y[s]={pattern:m.replace.call(u,/\(\?:\)(?=\(\?:\))|^\(\?:\)|\(\?:\)$/g,""),flags:m.replace.call(o,/[^gimy]+/g,""),captures:l.hasNamedCapture?l.captureNames:null}}return s=y[s],e(RegExp(s.pattern,s.flags),s.captures,!0)},h.prototype=RegExp(),h.version="3.0.0-pre",h.addToken=function(t,e,i){var r,i=i||{},o=i.optionalFlags;if(i.flag&&l(i.flag),o)for(o=m.split.call(o,""),r=0;r<o.length;++r)l(o[r]);b.push({regex:n(t,{add:"g"+(k?"y":"")}),handler:e,scope:i.scope||"default",flag:i.flag,reparse:i.reparse}),h.cache.flush("patterns")},h.cache=function(t,e){var i=t+"/"+(e||"");return v[i]||(v[i]=h(t,e))},h.cache.flush=function(t){"patterns"===t?y={}:v={}},h.escape=function(t){return m.replace.call(u(t),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},h.exec=function(t,e,i,r){var o="g";return k&&(r||e.sticky&&!1!==r)&&(o+="y"),e[p]=e[p]||{captureNames:null},o=e[p][o]||(e[p][o]=n(e,{add:o,remove:!1===r?"y":""})),o.lastIndex=i=i||0,t=g.exec.call(o,t),r&&t&&t.index!==i&&(t=null),e.global&&(e.lastIndex=t?o.lastIndex:0),t},h.forEach=function(t,e,i,n){for(var r=0,o=-1;r=h.exec(t,e,r);)i.call(n,r,++o,t,e),r=r.index+(r[0].length||1);return n},h.globalize=function(t){return n(t,{add:"g",addProto:!0})},h.install=function(t){t=s(t),!f.astral&&t.astral&&(h.cache.flush("patterns"),f.astral=!0),!f.natives&&t.natives&&c(!0)},h.isInstalled=function(t){return!!f[t]},h.isRegExp=function(t){return"[object RegExp]"===$.call(t)},h.match=function(t,e,i){var r=e.global&&"one"!==i||"all"===i,o=(r?"g":"")+(e.sticky?"y":"");return e[p]=e[p]||{captureNames:null},o=e[p][o||"noGY"]||(e[p][o||"noGY"]=n(e,{add:o,remove:"one"===i?"g":""})),t=m.match.call(u(t),o),e.global&&(e.lastIndex="one"===i&&t?t.index+t[0].length:0),r?t||[]:t&&t[0]},h.matchChain=function(t,e){return function i(t,n){var r,o=e[n].regex?e[n]:{regex:e[n]},a=[],s=function(t){if(o.backref){if(!(t.hasOwnProperty(o.backref)||+o.backref<t.length))throw new ReferenceError("Backreference to undefined group: "+o.backref);a.push(t[o.backref]||"")}else a.push(t[0])};for(r=0;r<t.length;++r)h.forEach(t[r],o.regex,s);return n!==e.length-1&&a.length?i(a,n+1):a}([t],0)},h.replace=function(t,e,i,r){var o=h.isRegExp(e),a=e.global&&"one"!==r||"all"===r,s=(a?"g":"")+(e.sticky?"y":""),l=e;return o?(e[p]=e[p]||{captureNames:null},l=e[p][s||"noGY"]||(e[p][s||"noGY"]=n(e,{add:s,remove:"one"===r?"g":""}))):a&&(l=RegExp(h.escape(String(e)),"g")),t=g.replace.call(u(t),l,i),o&&e.global&&(e.lastIndex=0),t},h.replaceEach=function(t,e){var i,n;for(i=0;i<e.length;++i)n=e[i],t=h.replace(t,n[0],n[1],n[2]);return t},h.split=function(t,e,i){return g.split.call(u(t),e,i)},h.test=function(t,e,i,n){return!!h.exec(t,e,i,n)},h.uninstall=function(t){t=s(t),f.astral&&t.astral&&(h.cache.flush("patterns"),f.astral=!1),f.natives&&t.natives&&c(!1)},h.union=function(t,e){var i,n,r,a,s=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,l=[],c=0,u=function(t,e,r){var o=n[c-i];if(e){if(++c,o)return"(?<"+o+">"}else if(r)return"\\"+(+r+i);return t};if(!o(t,"Array")||!t.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(a=0;a<t.length;++a)r=t[a],h.isRegExp(r)?(i=c,n=r[p]&&r[p].captureNames||[],l.push(m.replace.call(h(r.source).source,s,u))):l.push(h.escape(r));return h(l.join("|"),e)},g.exec=function(e){var i,o,a=this.lastIndex,s=m.exec.apply(this,arguments);if(s){if(!x&&1<s.length&&-1<r(s,"")&&(i=n(this,{remove:"g"}),m.replace.call(String(e).slice(s.index),i,function(){var e,i=arguments.length;for(e=1;i-2>e;++e)arguments[e]===t&&(s[e]=t)})),this[p]&&this[p].captureNames)for(o=1;o<s.length;++o)(i=this[p].captureNames[o-1])&&(s[i]=s[o]);this.global&&!s[0].length&&this.lastIndex>s.index&&(this.lastIndex=s.index)}return this.global||(this.lastIndex=a),s},g.test=function(t){return!!g.exec.call(this,t)},g.match=function(t){var e;if(h.isRegExp(t)){if(t.global)return e=m.match.apply(this,arguments),t.lastIndex=0,e}else t=RegExp(t);return g.exec.call(t,u(this))},g.replace=function(e,i){var n,a,s,l=h.isRegExp(e);return l?(e[p]&&(a=e[p].captureNames),n=e.lastIndex):e+="",s=o(i,"Function")?m.replace.call(String(this),e,function(){var n,r=arguments;if(a)for(r[0]=new String(r[0]),n=0;n<a.length;++n)a[n]&&(r[0][a[n]]=r[n+1]);return l&&e.global&&(e.lastIndex=r[r.length-2]+r[0].length),i.apply(t,r)}):m.replace.call(null==this?this:String(this),e,function(){var t=arguments;return m.replace.call(String(i),_,function(e,i,n){if(i){if(n=+i,n<=t.length-3)return t[n]||"";if(n=a?r(a,i):-1,0>n)throw new SyntaxError("Backreference to undefined group "+e);return t[n+1]||""}if("$"===n)return"$";if("&"===n||0===+n)return t[0];if("`"===n)return t[t.length-1].slice(0,t[t.length-2]);if("'"===n)return t[t.length-1].slice(t[t.length-2]+t[0].length);if(n=+n,!isNaN(n)){if(n>t.length-3)throw new SyntaxError("Backreference to undefined group "+e);return t[n]||""}throw new SyntaxError("Invalid token "+e)})}),l&&(e.lastIndex=e.global?0:n),s},g.split=function(e,i){if(!h.isRegExp(e))return m.split.apply(this,arguments);var n,r=String(this),o=[],a=e.lastIndex,s=0,i=(i===t?-1:i)>>>0;return h.forEach(r,e,function(t){t.index+t[0].length>s&&(o.push(r.slice(s,t.index)),1<t.length&&t.index<r.length&&Array.prototype.push.apply(o,t.slice(1)),n=t[0].length,s=t.index+n)}),s===r.length?(!m.test.call(e,"")||n)&&o.push(""):o.push(r.slice(s)),e.lastIndex=a,o.length>i?o.slice(0,i):o},d=h.addToken,d(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(t,e){if("B"===t[1]&&"default"===e)return t[0];throw new SyntaxError("Invalid escape "+t[0])},{scope:"all"}),d(/\[(\^?)]/,function(t){return t[1]?"[\\s\\S]":"\\b\\B"}),d(/\(\?#[^)]*\)/,function(t,e,i){return a(t.input,t.index+t[0].length,i)?"":"(?:)"}),d(/\s+|#.*/,function(t,e,i){return a(t.input,t.index+t[0].length,i)?"":"(?:)"},{flag:"x"}),d(/\./,function(){return"[\\s\\S]"},{flag:"s"}),d(/\\k<([\w$]+)>/,function(t){var e=isNaN(t[1])?r(this.captureNames,t[1])+1:+t[1],i=t.index+t[0].length;if(!e||e>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+t[0]);return"\\"+e+(i===t.input.length||isNaN(t.input.charAt(i))?"":"(?:)")}),d(/\\(\d+)/,function(t,e){if(!("default"===e&&/^[1-9]/.test(t[1])&&+t[1]<=this.captureNames.length)&&"0"!==t[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+t[0]);return t[0]},{scope:"all"}),d(/\(\?P?<([\w$]+)>/,function(t){if(!isNaN(t[1]))throw new SyntaxError("Cannot use integer as capture name "+t[0]);if("length"===t[1]||"__proto__"===t[1])throw new SyntaxError("Cannot use reserved word as capture name "+t[0]);if(-1<r(this.captureNames,t[1]))throw new SyntaxError("Cannot use same name for multiple groups "+t[0]);return this.captureNames.push(t[1]),this.hasNamedCapture=!0,"("}),d(/\((?!\?)/,function(t,e,i){return-1<i.indexOf("n")?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n"}),h}();!function(t){function e(t){return t.replace(/[- _]+/g,"").toLowerCase()}function i(t){for(;t.length<4;)t="0"+t;return t}function n(t){return parseInt(t,16)}function r(t){return parseInt(t,10).toString(16)}function o(t){var e=/^\\[xu](.+)/.exec(t);return e?n(e[1]):t.charCodeAt("\\"===t.charAt(0)?1:0)}function a(e){var n,a="",s=-1;return t.forEach(e,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(t){n=o(t[1]),n>s+1&&(a+="\\u"+i(r(s+1)),n>s+2&&(a+="-\\u"+i(r(n-1)))),s=o(t[2]||t[1])}),65535>s&&(a+="\\u"+i(r(s+1)),65534>s&&(a+="-\\uFFFF")),a}function s(t){var e="b!";return u[t][e]||(u[t][e]=a(u[t].bmp))}function l(t,e){var i=u[t],n="";return i.bmp&&!i.isBmpLast&&(n="["+i.bmp+"]"+(i.astral?"|":"")),i.astral&&(n+=i.astral),i.isBmpLast&&i.bmp&&(n+=(i.astral?"|":"")+"["+i.bmp+"]"),e?"(?:(?!"+n+")(?:[�-�][�-�]|[\x00-￿]))":"(?:"+n+")"}function c(t,e){var i=e?"a!":"a=";return u[t][i]||(u[t][i]=l(t,e))}var u={};t.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,function(i,n,r){var o="Invalid double negation ",a="Unknown Unicode token ",l="Unicode token missing data ",h="Astral mode required for Unicode token ",d="Astral mode does not support Unicode tokens within character classes",p="P"===i[1]||!!i[2],f=r.indexOf("A")>-1||t.isInstalled("astral"),m=e(i[4]||i[3]),g=u[m];if("P"===i[1]&&i[2])throw new SyntaxError(o+i[0]);if(!u.hasOwnProperty(m))throw new SyntaxError(a+i[0]);if(g.inverseOf){if(m=e(g.inverseOf),!u.hasOwnProperty(m))throw new ReferenceError(l+i[0]+" -> "+g.inverseOf);g=u[m],p=!p}if(!g.bmp&&!f)throw new SyntaxError(h+i[0]);if(f){if("class"===n)throw new SyntaxError(d);return c(m,p)}return"class"===n?p?s(m):g.bmp:(p?"[^":"[")+g.bmp+"]"},{scope:"all",optionalFlags:"A"}),t.addUnicodeData=function(i){var n,r,o="Unicode token requires name",a="Unicode token has no character data ";for(r=0;r<i.length;++r){if(n=i[r],!n.name)throw new Error(o);if(!(n.inverseOf||n.bmp||n.astral))throw new Error(a+n.name);u[e(n.name)]=n,n.alias&&(u[e(n.alias)]=n)}t.cache.flush("patterns")},t.addUnicodeData([{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-���-�����-��-��-��-�����-��-��-��-��-��-��-�]|�[�-�]|�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[�-��-��-��-��-��-�]|�[�-�]|�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-�]|�[�-���-�]|�[�-��-�]|�[��]|[��-��-�][�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]"}])}(XRegExp),function(t,e,i){"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof e.define&&e.define.amd?define(t,[],i):e[t]=i()
}("buzz",this,function(){var t={defaults:{autoplay:!1,duration:5e3,formats:[],loop:!1,placeholder:"--",preload:"metadata",volume:80,document:document},types:{mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},sounds:[],el:document.createElement("audio"),sound:function(e,i){function n(t){for(var e=[],i=t.length-1,n=0;i>=n;n++)e.push({start:t.start(n),end:t.end(n)});return e}function r(t){return t.split(".").pop()}function o(e,i){var n=a.createElement("source");n.src=i,t.types[r(i)]&&(n.type=t.types[r(i)]),e.appendChild(n)}i=i||{};var a=i.document||t.defaults.document,s=0,l=[],c={},u=t.isSupported();if(this.load=function(){return u?(this.sound.load(),this):this},this.play=function(){return u?(this.sound.play(),this):this},this.togglePlay=function(){return u?(this.sound.paused?this.sound.play():this.sound.pause(),this):this},this.pause=function(){return u?(this.sound.pause(),this):this},this.isPaused=function(){return u?this.sound.paused:null},this.stop=function(){return u?(this.setTime(0),this.sound.pause(),this):this},this.isEnded=function(){return u?this.sound.ended:null},this.loop=function(){return u?(this.sound.loop="loop",this.bind("ended.buzzloop",function(){this.currentTime=0,this.play()}),this):this},this.unloop=function(){return u?(this.sound.removeAttribute("loop"),this.unbind("ended.buzzloop"),this):this},this.mute=function(){return u?(this.sound.muted=!0,this):this},this.unmute=function(){return u?(this.sound.muted=!1,this):this},this.toggleMute=function(){return u?(this.sound.muted=!this.sound.muted,this):this},this.isMuted=function(){return u?this.sound.muted:null},this.setVolume=function(t){return u?(0>t&&(t=0),t>100&&(t=100),this.volume=t,this.sound.volume=t/100,this):this},this.getVolume=function(){return u?this.volume:this},this.increaseVolume=function(t){return this.setVolume(this.volume+(t||1))},this.decreaseVolume=function(t){return this.setVolume(this.volume-(t||1))},this.setTime=function(t){if(!u)return this;var e=!0;return this.whenReady(function(){e===!0&&(e=!1,this.sound.currentTime=t)}),this},this.getTime=function(){if(!u)return null;var e=Math.round(100*this.sound.currentTime)/100;return isNaN(e)?t.defaults.placeholder:e},this.setPercent=function(e){return u?this.setTime(t.fromPercent(e,this.sound.duration)):this},this.getPercent=function(){if(!u)return null;var e=Math.round(t.toPercent(this.sound.currentTime,this.sound.duration));return isNaN(e)?t.defaults.placeholder:e},this.setSpeed=function(t){return u?(this.sound.playbackRate=t,this):this},this.getSpeed=function(){return u?this.sound.playbackRate:null},this.getDuration=function(){if(!u)return null;var e=Math.round(100*this.sound.duration)/100;return isNaN(e)?t.defaults.placeholder:e},this.getPlayed=function(){return u?n(this.sound.played):null},this.getBuffered=function(){return u?n(this.sound.buffered):null},this.getSeekable=function(){return u?n(this.sound.seekable):null},this.getErrorCode=function(){return u&&this.sound.error?this.sound.error.code:0},this.getErrorMessage=function(){if(!u)return null;switch(this.getErrorCode()){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return null}},this.getStateCode=function(){return u?this.sound.readyState:null},this.getStateMessage=function(){if(!u)return null;switch(this.getStateCode()){case 0:return"HAVE_NOTHING";case 1:return"HAVE_METADATA";case 2:return"HAVE_CURRENT_DATA";case 3:return"HAVE_FUTURE_DATA";case 4:return"HAVE_ENOUGH_DATA";default:return null}},this.getNetworkStateCode=function(){return u?this.sound.networkState:null},this.getNetworkStateMessage=function(){if(!u)return null;switch(this.getNetworkStateCode()){case 0:return"NETWORK_EMPTY";case 1:return"NETWORK_IDLE";case 2:return"NETWORK_LOADING";case 3:return"NETWORK_NO_SOURCE";default:return null}},this.set=function(t,e){return u?(this.sound[t]=e,this):this},this.get=function(t){return u?t?this.sound[t]:this.sound:null},this.bind=function(t,e){if(!u)return this;t=t.split(" ");for(var i=this,n=function(t){e.call(i,t)},r=0;t.length>r;r++){var o=t[r],a=o;o=a.split(".")[0],l.push({idx:a,func:n}),this.sound.addEventListener(o,n,!0)}return this},this.unbind=function(t){if(!u)return this;t=t.split(" ");for(var e=0;t.length>e;e++)for(var i=t[e],n=i.split(".")[0],r=0;l.length>r;r++){var o=l[r].idx.split(".");(l[r].idx==i||o[1]&&o[1]==i.replace(".",""))&&(this.sound.removeEventListener(n,l[r].func,!0),l.splice(r,1))}return this},this.bindOnce=function(t,e){if(!u)return this;var i=this;return c[s++]=!1,this.bind(t+"."+s,function(){c[s]||(c[s]=!0,e.call(i)),i.unbind(t+"."+s)}),this},this.trigger=function(t){if(!u)return this;t=t.split(" ");for(var e=0;t.length>e;e++)for(var i=t[e],n=0;l.length>n;n++){var r=l[n].idx.split(".");if(l[n].idx==i||r[0]&&r[0]==i.replace(".","")){var o=a.createEvent("HTMLEvents");o.initEvent(r[0],!1,!0),this.sound.dispatchEvent(o)}}return this},this.fadeTo=function(e,i,n){function r(){setTimeout(function(){e>o&&e>s.volume?(s.setVolume(s.volume+=1),r()):o>e&&s.volume>e?(s.setVolume(s.volume-=1),r()):n instanceof Function&&n.apply(s)},a)}if(!u)return this;i instanceof Function?(n=i,i=t.defaults.duration):i=i||t.defaults.duration;var o=this.volume,a=i/Math.abs(o-e),s=this;return this.play(),this.whenReady(function(){r()}),this},this.fadeIn=function(t,e){return u?this.setVolume(0).fadeTo(100,t,e):this},this.fadeOut=function(t,e){return u?this.fadeTo(0,t,e):this},this.fadeWith=function(t,e){return u?(this.fadeOut(e,function(){this.stop()}),t.play().fadeIn(e),this):this},this.whenReady=function(t){if(!u)return null;var e=this;0===this.sound.readyState?this.bind("canplay.buzzwhenready",function(){t.call(e)}):t.call(e)},u&&e){for(var h in t.defaults)t.defaults.hasOwnProperty(h)&&(i[h]=i[h]||t.defaults[h]);if(this.sound=a.createElement("audio"),e instanceof Array)for(var d in e)e.hasOwnProperty(d)&&o(this.sound,e[d]);else if(i.formats.length)for(var p in i.formats)i.formats.hasOwnProperty(p)&&o(this.sound,e+"."+i.formats[p]);else o(this.sound,e);i.loop&&this.loop(),i.autoplay&&(this.sound.autoplay="autoplay"),this.sound.preload=i.preload===!0?"auto":i.preload===!1?"none":i.preload,this.setVolume(i.volume),t.sounds.push(this)}},group:function(t){function e(){for(var e=i(null,arguments),n=e.shift(),r=0;t.length>r;r++)t[r][n].apply(t[r],e)}function i(t,e){return t instanceof Array?t:Array.prototype.slice.call(e)}t=i(t,arguments),this.getSounds=function(){return t},this.add=function(e){e=i(e,arguments);for(var n=0;e.length>n;n++)t.push(e[n])},this.remove=function(e){e=i(e,arguments);for(var n=0;e.length>n;n++)for(var r=0;t.length>r;r++)if(t[r]==e[n]){t.splice(r,1);break}},this.load=function(){return e("load"),this},this.play=function(){return e("play"),this},this.togglePlay=function(){return e("togglePlay"),this},this.pause=function(t){return e("pause",t),this},this.stop=function(){return e("stop"),this},this.mute=function(){return e("mute"),this},this.unmute=function(){return e("unmute"),this},this.toggleMute=function(){return e("toggleMute"),this},this.setVolume=function(t){return e("setVolume",t),this},this.increaseVolume=function(t){return e("increaseVolume",t),this},this.decreaseVolume=function(t){return e("decreaseVolume",t),this},this.loop=function(){return e("loop"),this},this.unloop=function(){return e("unloop"),this},this.setTime=function(t){return e("setTime",t),this},this.set=function(t,i){return e("set",t,i),this},this.bind=function(t,i){return e("bind",t,i),this},this.unbind=function(t){return e("unbind",t),this},this.bindOnce=function(t,i){return e("bindOnce",t,i),this},this.trigger=function(t){return e("trigger",t),this},this.fade=function(t,i,n,r){return e("fade",t,i,n,r),this},this.fadeIn=function(t,i){return e("fadeIn",t,i),this},this.fadeOut=function(t,i){return e("fadeOut",t,i),this}},all:function(){return new t.group(t.sounds)},isSupported:function(){return!!t.el.canPlayType},isOGGSupported:function(){return!!t.el.canPlayType&&t.el.canPlayType('audio/ogg; codecs="vorbis"')},isWAVSupported:function(){return!!t.el.canPlayType&&t.el.canPlayType('audio/wav; codecs="1"')},isMP3Supported:function(){return!!t.el.canPlayType&&t.el.canPlayType("audio/mpeg;")},isAACSupported:function(){return!!t.el.canPlayType&&(t.el.canPlayType("audio/x-m4a;")||t.el.canPlayType("audio/aac;"))},toTimer:function(t,e){var i,n,r;return i=Math.floor(t/3600),i=isNaN(i)?"--":i>=10?i:"0"+i,n=Math.floor(e?t/60%60:t/60),n=isNaN(n)?"--":n>=10?n:"0"+n,r=Math.floor(t%60),r=isNaN(r)?"--":r>=10?r:"0"+r,e?i+":"+n+":"+r:n+":"+r},fromTimer:function(t){var e=(""+t).split(":");return e&&3==e.length&&(t=3600*parseInt(e[0],10)+60*parseInt(e[1],10)+parseInt(e[2],10)),e&&2==e.length&&(t=60*parseInt(e[0],10)+parseInt(e[1],10)),t},toPercent:function(t,e,i){var n=Math.pow(10,i||0);return Math.round(100*t/e*n)/n},fromPercent:function(t,e,i){var n=Math.pow(10,i||0);return Math.round(e/100*t*n)/n}};return t}),function(t,e,i){function n(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)}function r(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return g[t.which]?g[t.which]:v[t.which]?v[t.which]:String.fromCharCode(t.which).toLowerCase()}function o(t){t=t||{};var e,i=!1;for(e in x)t[e]?i=!0:x[e]=0;i||($=!1)}function a(t,e,i,n,r,o){var a,s,l=[],c=i.type;if(!w[t])return[];for("keyup"==c&&u(t)&&(e=[t]),a=0;a<w[t].length;++a)if(s=w[t][a],!(!n&&s.seq&&x[s.seq]!=s.level||c!=s.action||("keypress"!=c||i.metaKey||i.ctrlKey)&&e.sort().join(",")!==s.modifiers.sort().join(","))){var h=n&&s.seq==n&&s.level==o;(!n&&s.combo==r||h)&&w[t].splice(a,1),l.push(s)}return l}function s(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function l(t,e,i,n){T.stopCallback(e,e.target||e.srcElement,i,n)||!1!==t(e,i)||(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}function c(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=r(t);e&&("keyup"==t.type&&k===e?k=!1:T.handleKey(e,s(t),t))}function u(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(t,e,i,n){function a(e){return function(){$=e,++x[t],clearTimeout(m),m=setTimeout(o,1e3)}}function s(e){l(i,e,t),"keyup"!==n&&(k=r(e)),setTimeout(o,10)}for(var c=x[t]=0;c<e.length;++c){var u=c+1===e.length?s:a(n||d(e[c+1]).action);p(e[c],u,n,t,c)}}function d(t,e){var i,n,r,o=[];for(i="+"===t?["+"]:t.split("+"),r=0;r<i.length;++r)n=i[r],b[n]&&(n=b[n]),e&&"keypress"!=e&&y[n]&&(n=y[n],o.push("shift")),u(n)&&o.push(n);if(i=n,r=e,!r){if(!f){f={};for(var a in g)a>95&&112>a||g.hasOwnProperty(a)&&(f[g[a]]=a)}r=f[i]?"keydown":"keypress"}return"keypress"==r&&o.length&&(r="keydown"),{key:n,modifiers:o,action:r}}function p(t,e,i,n,r){_[t+":"+i]=e,t=t.replace(/\s+/g," ");var o=t.split(" ");1<o.length?h(t,o,e,i):(i=d(t,i),w[i.key]=w[i.key]||[],a(i.key,i.modifiers,{type:i.action},n,t,r),w[i.key][n?"unshift":"push"]({callback:e,modifiers:i.modifiers,action:i.action,seq:n,level:r,combo:t}))}var f,m,g={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},v={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},y={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},w={},_={},x={},k=!1,C=!1,$=!1;for(i=1;20>i;++i)g[111+i]="f"+i;for(i=0;9>=i;++i)g[i+96]=i;n(e,"keypress",c),n(e,"keydown",c),n(e,"keyup",c);var T={bind:function(t,e,i){t=t instanceof Array?t:[t];for(var n=0;n<t.length;++n)p(t[n],e,i);return this},unbind:function(t,e){return T.bind(t,function(){},e)},trigger:function(t,e){return _[t+":"+e]&&_[t+":"+e]({},t),this},reset:function(){return w={},_={},this},stopCallback:function(t,e){return-1<(" "+e.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},handleKey:function(t,e,i){var n,r=a(t,e,i);e={};var s=0,c=!1;for(n=0;n<r.length;++n)r[n].seq&&(s=Math.max(s,r[n].level));for(n=0;n<r.length;++n)r[n].seq?r[n].level==s&&(c=!0,e[r[n].seq]=1,l(r[n].callback,i,r[n].combo,r[n].seq)):c||l(r[n].callback,i,r[n].combo);r="keypress"==i.type&&C,i.type!=$||u(t)||r||o(e),C=c&&"keydown"==i.type}};t.Mousetrap=T,"function"==typeof define&&define.amd&&define("mousetrap",T)}(window,document),function(t){function e(t,e){var i=e?F[ne]:F[te];return i.test(t)?new r(t,e):null}function i(t,i){var n=e(t,i);return n?n.version:null}function n(t,i){var n=e(t,i);return n?n.version:null}function r(t,e){if(t instanceof r){if(t.loose===e)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(!(this instanceof r))return new r(t,e);this.loose=e;var i=t.trim().match(e?F[ne]:F[te]);if(!i)throw new TypeError("Invalid Version: "+t);this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.prerelease=i[4]?i[4].split(".").map(function(t){return/^[0-9]+$/.test(t)?+t:t}):[],this.build=i[5]?i[5].split("."):[],this.format()}function o(t,e,i){try{return new r(t,i).inc(e).version}catch(n){return null}}function a(t,e){var i=Ne.test(t),n=Ne.test(e);return i&&n&&(t=+t,e=+e),i&&!n?-1:n&&!i?1:e>t?-1:t>e?1:0}function s(t,e){return a(e,t)}function l(t,e,i){return new r(t,i).compare(e)}function c(t,e){return l(t,e,!0)}function u(t,e,i){return l(e,t,i)}function h(e,i){return e.sort(function(e,n){return t.compare(e,n,i)})}function d(e,i){return e.sort(function(e,n){return t.rcompare(e,n,i)})}function p(t,e,i){return l(t,e,i)>0}function f(t,e,i){return l(t,e,i)<0}function m(t,e,i){return 0===l(t,e,i)}function g(t,e,i){return 0!==l(t,e,i)}function v(t,e,i){return l(t,e,i)>=0}function y(t,e,i){return l(t,e,i)<=0}function b(t,e,i,n){var r;switch(e){case"===":r=t===i;break;case"!==":r=t!==i;break;case"":case"=":case"==":r=m(t,i,n);break;case"!=":r=g(t,i,n);break;case">":r=p(t,i,n);break;case">=":r=v(t,i,n);break;case"<":r=f(t,i,n);break;case"<=":r=y(t,i,n);break;default:throw new TypeError("Invalid operator: "+e)}return r}function w(t,e){if(t instanceof w){if(t.loose===e)return t;t=t.value}return this instanceof w?(this.loose=e,this.parse(t),void(this.value=this.semver===De?"":this.operator+this.semver.version)):new w(t,e)}function _(t,e){if(t instanceof _&&t.loose===e)return t;if(!(this instanceof _))return new _(t,e);if(this.loose=e,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function x(t,e){return new _(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})}function k(t,e){return t=E(t,e),t=$(t,e),t=N(t,e),t=I(t,e)}function C(t){return!t||"x"===t.toLowerCase()||"*"===t}function $(t,e){return t.trim().split(/\s+/).map(function(t){return T(t,e)}).join(" ")}function T(t,e){var i=e?F[me]:F[fe];return t.replace(i,function(t,e,i,n,r){var o;return C(e)?o="":C(i)?o=">="+e+".0.0-0 <"+(+e+1)+".0.0-0":C(n)?o=">="+e+"."+i+".0-0 <"+e+"."+(+i+1)+".0-0":r?("-"!==r.charAt(0)&&(r="-"+r),o=">="+e+"."+i+"."+n+r+" <"+e+"."+(+i+1)+".0-0"):o=">="+e+"."+i+"."+n+"-0 <"+e+"."+(+i+1)+".0-0",o})}function E(t,e){return t.trim().split(/\s+/).map(function(t){return S(t,e)}).join(" ")}function S(t,e){var i=e?F[we]:F[be];return t.replace(i,function(t,e,i,n,r){var o;return C(e)?o="":C(i)?o=">="+e+".0.0-0 <"+(+e+1)+".0.0-0":C(n)?o="0"===e?">="+e+"."+i+".0-0 <"+e+"."+(+i+1)+".0-0":">="+e+"."+i+".0-0 <"+(+e+1)+".0.0-0":r?("-"!==r.charAt(0)&&(r="-"+r),o="0"===e?"0"===i?"="+e+"."+i+"."+n+r:">="+e+"."+i+"."+n+r+" <"+e+"."+(+i+1)+".0-0":">="+e+"."+i+"."+n+r+" <"+(+e+1)+".0.0-0"):o="0"===e?"0"===i?"="+e+"."+i+"."+n:">="+e+"."+i+"."+n+"-0 <"+e+"."+(+i+1)+".0-0":">="+e+"."+i+"."+n+"-0 <"+(+e+1)+".0.0-0",o})}function N(t,e){return t.split(/\s+/).map(function(t){return D(t,e)}).join(" ")}function D(t,e){t=t.trim();var i=e?F[ue]:F[ce];return t.replace(i,function(t,e,i,n,r){var o=C(i),a=o||C(n),s=a||C(r),l=s;return"="===e&&l&&(e=""),e&&l?(o&&(i=0),a&&(n=0),s&&(r=0),">"===e&&(e=">=",o||(a?(i=+i+1,n=0,r=0):s&&(n=+n+1,r=0))),t=e+i+"."+n+"."+r+"-0"):o?t="*":a?t=">="+i+".0.0-0 <"+(+i+1)+".0.0-0":s&&(t=">="+i+"."+n+".0-0 <"+i+"."+(+n+1)+".0-0"),t})}function I(t){return t.trim().replace(F[Ee],"")}function A(t,e,i,n,r,o,a,s,l,c,u,h){return e=C(i)?"":C(n)?">="+i+".0.0-0":C(r)?">="+i+"."+n+".0-0":">="+e,s=C(l)?"":C(c)?"<"+(+l+1)+".0.0-0":C(u)?"<"+l+"."+(+c+1)+".0-0":h?"<="+l+"."+c+"."+u+"-"+h:"<="+s,(e+" "+s).trim()}function P(t,e){for(var i=0;i<t.length;i++)if(!t[i].test(e))return!1;return!0}function M(t,e,i){try{e=new _(e,i)}catch(n){return!1}return e.test(t)}function j(t,e,i){return t.filter(function(t){return M(t,e,i)}).sort(function(t,e){return u(t,e,i)})[0]||null}function L(t,e){try{return new _(t,e).range||"*"}catch(i){return null}}function R(t,e,i){return z(t,e,"<",i)}function O(t,e,i){return z(t,e,">",i)}function z(t,e,i,n){t=new r(t,n),e=new _(e,n);var o,a,s,l,c;switch(i){case">":o=p,a=y,s=f,l=">",c=">=";break;case"<":o=f,a=v,s=p,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(M(t,e,n))return!1;for(var u=0;u<e.set.length;++u){var h=e.set[u],d=null,m=null;if(h.forEach(function(t){d=d||t,m=m||t,o(t.semver,d.semver,n)?d=t:s(t.semver,m.semver,n)&&(m=t)}),d.operator===l||d.operator===c)return!1;if((!m.operator||m.operator===l)&&a(t,m.semver))return!1;if(m.operator===c&&s(t,m.semver))return!1}return!0}"object"==typeof module&&module.exports===t&&(t=module.exports=r),t.SEMVER_SPEC_VERSION="2.0.0";var F=t.re=[],H=t.src=[],B=0,W=B++;H[W]="0|[1-9]\\d*";var q=B++;H[q]="[0-9]+";var U=B++;H[U]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var V=B++;H[V]="("+H[W]+")\\.("+H[W]+")\\.("+H[W]+")";var K=B++;H[K]="("+H[q]+")\\.("+H[q]+")\\.("+H[q]+")";var Y=B++;H[Y]="(?:"+H[W]+"|"+H[U]+")";var X=B++;H[X]="(?:"+H[q]+"|"+H[U]+")";var Q=B++;H[Q]="(?:-("+H[Y]+"(?:\\."+H[Y]+")*))";var G=B++;H[G]="(?:-?("+H[X]+"(?:\\."+H[X]+")*))";var Z=B++;H[Z]="[0-9A-Za-z-]+";var J=B++;H[J]="(?:\\+("+H[Z]+"(?:\\."+H[Z]+")*))";var te=B++,ee="v?"+H[V]+H[Q]+"?"+H[J]+"?";H[te]="^"+ee+"$";var ie="[v=\\s]*"+H[K]+H[G]+"?"+H[J]+"?",ne=B++;H[ne]="^"+ie+"$";var re=B++;H[re]="((?:<|>)?=?)";var oe=B++;H[oe]=H[q]+"|x|X|\\*";var ae=B++;H[ae]=H[W]+"|x|X|\\*";var se=B++;H[se]="[v=\\s]*("+H[ae]+")(?:\\.("+H[ae]+")(?:\\.("+H[ae]+")(?:("+H[Q]+"))?)?)?";var le=B++;H[le]="[v=\\s]*("+H[oe]+")(?:\\.("+H[oe]+")(?:\\.("+H[oe]+")(?:("+H[G]+"))?)?)?";var ce=B++;H[ce]="^"+H[re]+"\\s*"+H[se]+"$";var ue=B++;H[ue]="^"+H[re]+"\\s*"+H[le]+"$";var he=B++;H[he]="(?:~>?)";var de=B++;H[de]="(\\s*)"+H[he]+"\\s+",F[de]=new RegExp(H[de],"g");var pe="$1~",fe=B++;H[fe]="^"+H[he]+H[se]+"$";var me=B++;H[me]="^"+H[he]+H[le]+"$";var ge=B++;H[ge]="(?:\\^)";var ve=B++;H[ve]="(\\s*)"+H[ge]+"\\s+",F[ve]=new RegExp(H[ve],"g");var ye="$1^",be=B++;H[be]="^"+H[ge]+H[se]+"$";var we=B++;H[we]="^"+H[ge]+H[le]+"$";var _e=B++;H[_e]="^"+H[re]+"\\s*("+ie+")$|^$";var xe=B++;H[xe]="^"+H[re]+"\\s*("+ee+")$|^$";var ke=B++;H[ke]="(\\s*)"+H[re]+"\\s*("+ie+"|"+H[se]+")",F[ke]=new RegExp(H[ke],"g");var Ce="$1$2$3",$e=B++;H[$e]="^\\s*("+H[se]+")\\s+-\\s+("+H[se]+")\\s*$";var Te=B++;H[Te]="^\\s*("+H[le]+")\\s+-\\s+("+H[le]+")\\s*$";var Ee=B++;H[Ee]="(<|>)?=?\\s*\\*";for(var Se=0;B>Se;Se++)F[Se]||(F[Se]=new RegExp(H[Se]));t.parse=e,t.valid=i,t.clean=n,t.SemVer=r,r.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},r.prototype.inspect=function(){return'<SemVer "'+this+'">'},r.prototype.toString=function(){return this.version},r.prototype.compare=function(t){return t instanceof r||(t=new r(t,this.loose)),this.compareMain(t)||this.comparePre(t)},r.prototype.compareMain=function(t){return t instanceof r||(t=new r(t,this.loose)),a(this.major,t.major)||a(this.minor,t.minor)||a(this.patch,t.patch)},r.prototype.comparePre=function(t){if(t instanceof r||(t=new r(t,this.loose)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var i=this.prerelease[e],n=t.prerelease[e];if(void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return a(i,n)}while(++e)},r.prototype.inc=function(t){switch(t){case"premajor":this.inc("major"),this.inc("pre");break;case"preminor":this.inc("minor"),this.inc("pre");break;case"prepatch":this.prerelease.length=0,this.inc("patch"),this.inc("pre");break;case"prerelease":0===this.prerelease.length&&this.inc("patch"),this.inc("pre");break;case"major":this.major++,this.minor=-1;case"minor":this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var e=this.prerelease.length;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this},t.inc=o,t.compareIdentifiers=a;var Ne=/^[0-9]+$/;t.rcompareIdentifiers=s,t.compare=l,t.compareLoose=c,t.rcompare=u,t.sort=h,t.rsort=d,t.gt=p,t.lt=f,t.eq=m,t.neq=g,t.gte=v,t.lte=y,t.cmp=b,t.Comparator=w;var De={};w.prototype.parse=function(t){var e=this.loose?F[_e]:F[xe],i=t.match(e);if(!i)throw new TypeError("Invalid comparator: "+t);this.operator=i[1],"="===this.operator&&(this.operator=""),i[2]?(this.semver=new r(i[2],this.loose),"<"!==this.operator||this.semver.prerelease.length||(this.semver.prerelease=["0"],this.semver.format())):this.semver=De},w.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'},w.prototype.toString=function(){return this.value},w.prototype.test=function(t){return this.semver===De?!0:b(t,this.operator,this.semver,this.loose)},t.Range=_,_.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'},_.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},_.prototype.toString=function(){return this.range},_.prototype.parseRange=function(t){var e=this.loose;t=t.trim();var i=e?F[Te]:F[$e];t=t.replace(i,A),t=t.replace(F[ke],Ce),t=t.replace(F[de],pe),t=t.replace(F[ve],ye),t=t.split(/\s+/).join(" ");var n=e?F[_e]:F[xe],r=t.split(" ").map(function(t){return k(t,e)}).join(" ").split(/\s+/);return this.loose&&(r=r.filter(function(t){return!!t.match(n)})),r=r.map(function(t){return new w(t,e)})},t.toComparators=x,_.prototype.test=function(t){if(!t)return!1;for(var e=0;e<this.set.length;e++)if(P(this.set[e],t))return!0;return!1},t.satisfies=M,t.maxSatisfying=j,t.validRange=L,t.ltr=R,t.gtr=O,t.outside=z,"function"==typeof define&&define.amd&&define("semver",t)}("object"==typeof exports?exports:"function"==typeof define&&define.amd?{}:semver={}),function(t){function e(t,e,i){var n=require("fs"),r=t.replace(e.settings.views+"/","");return e._locals=null,w.cache[r]?i(null,w.parse(w.cache[r],e)):void n.readFile(t,function(t,n){return w.cache[r]=(n||"").toString(),i(t,w.parse(w.cache[r],e))})}function i(t,e,i){var n=new RegExp("{"+e+"}","g");return t.replace(n,i)}function n(t){return new RegExp("[\\t ]*<!--[\\s]*BEGIN "+t+"[\\s]*-->[\\s\\S]*?<!--[\\s]*END "+t+"[\\s]*-->")}function r(t){return new RegExp("([\\t ]*<!--[\\s]*BEGIN "+t+"[\\s]*-->[\\r\\n?|\\n]?)|(<!--[\\s]*END "+t+"[\\s]*-->)","g")}function o(t){return new RegExp("<!--[\\s]*IF "+t+"[\\s]*-->([\\s\\S]*?)<!--[\\s]*ENDIF "+t+"[\\s]*-->","g")}function a(t){return new RegExp("(<!--[\\s]*IF "+t+"[\\s]*-->)|(<!--[\\s]*ENDIF "+t+"[\\s]*-->)","g")}function s(t){for(var e in x)x.hasOwnProperty(e)&&(t[e]=t[e]||x[e]);return t}function l(t,e,i){var n=t.match(o(e));if(null!==n)for(var r=0,s=n.length;s>r;r++){var l=a(e),c=n[r].match(/(?!^)<!-- IF([\s\S]*?)ENDIF[ a-zA-Z0-9\._:]*-->(?!$)/gi),u=n[r].replace(l,"").replace(/(?!^)<!-- IF([\s\S]*?)ENDIF[ a-zA-Z0-9\._:]*-->(?!$)/gi,"<!-- NESTED -->"),h=u.split(/[\r\n?\n]*?<!-- ELSE -->[\r\n?\n]*?/);if(t=h[1]?i?t.replace(n[r],h[0].replace(/(^[\r\n?|\n]*)|([\r\n\t]*$)/gi,"")):t.replace(n[r],h[1].replace(/(^[\r\n?|\n]*)|([\r\n\t]*$)/gi,"")):i?t.replace(n[r],u.replace(/(^[\r\n?|\n]*)|([\r\n\t]*$)/gi,"")):t.replace(n[r],""),c)for(var d=0,p=c.length;p>d;d++)t=t.replace("<!-- NESTED -->",c[d])}return t}function c(t,e){var i=/IF function.([\S]*)/gi.exec(t);return i&&_[i[1]]&&(t=l(t,"function."+i[1],_[i[1]](e))),t}function u(t,e){return t.apply(w,[e.data,e.iterator,e.numblocks])}function h(t,e,i){var n=t.match(/{function.*?}/gi,"");for(var r in n)if(n.hasOwnProperty(r)){var o=n[r],a=n[r].split(".").pop().split("}").shift();_[a]&&(e=e.replace(new RegExp(o,"gi"),u(_[a],i)))}return e}function d(t,e,i,o,a){t=l(t,o+"length",e[i].length),t=l(t,"!"+o+"length",!e[i].length);var s,c=n(i);if(!e[i].length)return t.replace(c,"");for(;s=t.match(c);){s=s[0].replace(r(i),"");var u,d=e[i].length-1,f=0,m="";do u=v(s,e[i][f],a,o,{iterator:f,total:d}),m+=a?p(u,a+o+f):u,m=l(m,"@first",0===f),m=l(m,"!@first",0!==f),m=l(m,"@last",f===d),m=l(m,"!@last",f!==d),m=m.replace(/^[\r\n?|\n|\t]*?|[\r\n?|\n|\t]*?$/g,""),m=h(s,m,{data:e[i][f],iterator:f,numblocks:d}),a&&(e[i][f].__template=s);while(f++<d);t=t.replace(c,m.replace(/^[\r\n?|\n]|[\r\n?|\n]$/g,""))}return t}function p(t,e){return e?'<span data-binding="'+e+'">'+t+"</span>":t}function f(t,e,n){return n="string"==typeof n?n.replace(/^\s+|\s+$/g,""):n,t=l(t,e,n),t=l(t,"!"+e,!n),i(t,e,n)}function m(t){var e=t.obj,i=t.key,n=t.bind,r=e[i];e.__namespace=t.namespace,e.__iterator=t.blockInfo?t.blockInfo.iterator:!1,Object.defineProperty(e,i,{get:function(){return this["__"+i]},set:function(t){this["__"+i]=t;var r=document.querySelectorAll('[data-binding="'+(this.__iterator!==!1?n+this.__namespace+this.__iterator:n)+'"]');for(var o in r)if(r.hasOwnProperty(o))if(this.__parent){var a=this.__parent();r[o].innerHTML=v(a.template,a.data,!1)}else r[o].innerHTML=v(this.__template,e,!1,this.__namespace)}}),e[i]=r}function g(t,e){t.__parent=function(){return{data:e,template:e.__template}}}function v(t,e,n,r,o){r=r||"",b=b||e,t=c(t,e);for(var a in e)if(e.hasOwnProperty(a)){if("undefined"==typeof e[a]||"function"==typeof e[a])continue;null===e[a]?t=i(t,r+a,""):e[a].constructor===Array?t=d(t,e,a,r+a+".",n):e[a]instanceof Object?(g(e[a],b),t=l(t,a,e[a]),t=l(t,"!"+a,!e[a]),t=v(t,e[a],n,r+a+".")):(t=f(t,r+a,e[a]),n&&e[a]&&m({obj:e,key:a,namespace:r,blockInfo:o,bind:n}))}return r?(t=t.replace(new RegExp("{"+r+"\\.[\\s\\S]*?}","g"),""),r=""):(t=t.replace(/\s*<!-- ELSE -->\s*/gi,"ENDIF -->\r\n").replace(/\s*<!-- IF([\s\S]*?)ENDIF([\s\S]*?)-->/gi,"").replace(/\s*<!-- BEGIN([\s\S]*?)END ([\s\S]*?)-->/gi,"").replace(/\s*<!-- ENDIF ([\s\S]*?)-->\s*/gi,""),t=p(t,n)),t}var y,b,w={cache:{}},_={},x={};w.parse=function(t,e,i,n){return"function"==typeof i&&(n=i,i=!1),e=s(e||{}),i=i?Math.random():!1,t=t.toString()||"",i&&(e.__template=t),y&&n?void(w.cache[t]?n(v(w.cache[t],e,i)):y(t,function(r){r&&(w.cache[t]=r),n(v(r,e,i))})):v(t,e,i)},w.registerHelper=function(t,e){_[t]=e},w.registerLoader=function(t){y=t},w.setGlobal=function(t,e){x[t]=e},w.getBlock=function(t,e){return t.replace(new RegExp("[\\s\\S]*(<!--[\\s]*BEGIN "+e+"[\\s]*-->[\\s\\S]*?<!--[\\s]*END "+e+"[\\s]*-->)[\\s\\S]*","g"),"$1")},t.exports=w,t.exports.__express=e,"undefined"!=typeof window&&(window.templates=t.exports)}("undefined"==typeof module?{module:{exports:{}}}:module),function(t){var e,i,n;"undefined"==typeof window?(i=require("fs"),n=require("xregexp").XRegExp,process.profile=function(t,e){console.log("%s took %d milliseconds",t,process.elapsedTimeSince(e))},process.elapsedTimeSince=function(t){var e=process.hrtime(t);return 1e3*e[0]+e[1]/1e6}):n=window.XRegExp,t.exports=e={generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"===t?e:3&e|8;return i.toString(16)})},walk:function(t,n){var r=[];i.readdir(t,function(o,a){if(o)return n(o);var s=a.length;return s?void a.forEach(function(o){o=t+"/"+o,i.stat(o,function(t,i){i&&i.isDirectory()?e.walk(o,function(t,e){r=r.concat(e),--s||n(null,r)}):(r.push(o),--s||n(null,r))})}):n(null,r)})},relativeTime:function(t,e){var i=+new Date,n=i-Math.floor(parseFloat(t));return 0>n&&(n=0),n=Math.floor(n/1e3),60>n?n+(e?"s":" second")+(1===n||e?"":"s"):(n=Math.floor(n/60),60>n?n+(e?"m":" minute")+(1===n||e?"":"s"):(n=Math.floor(n/60),24>n?n+(e?"h":" hour")+(1===n||e?"":"s"):(n=Math.floor(n/24),30>n?n+(e?"d":" day")+(1===n||e?"":"s"):(n=Math.floor(n/30),12>n?n+(e?"mon":" month")+(1===n||e?"":"s"):(n=Math.floor(n/12),n+(e?"y":" year")+(1===n||e?"":"s"))))))},invalidUnicodeChars:n("[^\\p{L}\\s\\d\\-_]","g"),invalidLatinChars:/[^\w\s\d\-_]/g,trimRegex:/^\s+|\s+$/g,collapseWhitespace:/\s+/g,collapseDash:/-+/g,trimTrailingDash:/-$/g,trimLeadingDash:/^-/g,isLatin:/^[\w]+$/,slugify:function(t){return t=t.replace(e.trimRegex,""),t=e.isLatin.test(t)?t.replace(e.invalidLatinChars,"-"):n.replace(t,e.invalidUnicodeChars,"-"),t=t.toLocaleLowerCase(),t=t.replace(e.collapseWhitespace,"-"),t=t.replace(e.collapseDash,"-"),t=t.replace(e.trimTrailingDash,""),t=t.replace(e.trimLeadingDash,"")},removePunctuation:function(t){return t.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`<>'"~()?]/g,"")},isEmailValid:function(t){return"string"==typeof t&&t.length&&-1!==t.indexOf("@")},isUserNameValid:function(t){return t&&""!==t&&/^['"\s\-.*0-9\u00BF-\u1FFF\u2C00-\uD7FF\w]+$/.test(t)},isPasswordValid:function(t){return"string"==typeof t&&t.length},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},merge:function(){for(var t,e,i={},n=0;n<arguments.length;n++){t=arguments[n]||{},e=Object.keys(t);for(var r=0;r<e.length;r++)i[e[r]]=t[e[r]]}return i},fileExtension:function(t){return(""+t).split(".").pop()},fileMimeType:function(){var t={bmp:"image/bmp",cmx:"image/x-cmx",cod:"image/cis-cod",gif:"image/gif",ico:"image/x-icon",ief:"image/ief",jfif:"image/pipeg",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",pnm:"image/x-portable-anymap",ppm:"image/x-portable-pixmap",ras:"image/x-cmu-raster",rgb:"image/x-rgb",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump"};return function(i){var n=e.fileExtension(i);return t[n]||"*"}}(),isRelativeUrl:function(t){var e=t.slice(0,1);return"."===e||"/"===e},makeNumbersHumanReadable:function(t){t.each(function(){$(this).html(e.makeNumberHumanReadable($(this).attr("title")))})},makeNumberHumanReadable:function(t){var e=parseInt(t,10);return e?e>999999?(e/1e6).toFixed(1)+"m":e>999?(e/1e3).toFixed(1)+"k":e:t},addCommasToNumbers:function(t){t.each(function(t,i){$(i).html(e.addCommas($(i).html()))})},addCommas:function(t){return t.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},toISOString:function(t){if(!t)return"";try{return new Date(parseInt(t,10)).toISOString()}catch(e){console.log(t,e.stack)}return""},tags:["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"],stripTags:["abbr","acronym","address","applet","area","article","aside","audio","base","basefont","bdi","bdo","big","body","button","canvas","caption","center","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","source","span","strike","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"],escapeRegexChars:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")
},isAndroidBrowser:function(){var t=navigator.userAgent;return t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&!(t.indexOf("Chrome")>-1)},findBootstrapEnvironment:function(){var t=["xs","sm","md","lg"],e=$("<div>");e.appendTo($("body"));for(var i=t.length-1;i>=0;i--){var n=t[i];if(e.addClass("hidden-"+n),e.is(":hidden"))return e.remove(),n}},params:function(t){var i,n,r={};return t=t||{},t.skipToType=t.skipToType||{},t.url&&(i=e.urlToLocation(t.url)),n=(i?i.search:window.location.search).substring(1).split("&"),n.forEach(function(i){var n=i.split("="),o=decodeURI(n[0]),a=t.skipToType[o]?decodeURI(n[1]):e.toType(decodeURI(n[1]));o&&(r[o]=a)}),r},param:function(t){return this.params()[t]},urlToLocation:function(t){var e=document.createElement("a");return e.href=t,e},toType:function(t){var e=typeof t;if("string"!==e)return t;var i=parseFloat(t);if(!isNaN(i)&&isFinite(t))return i;if("false"===t)return!1;if("true"===t)return!0;try{t=JSON.parse(t)}catch(n){}return t},props:function(t,i,n){if(void 0===t&&(t=window),null==i)return void 0;var r=i.indexOf(".");if(-1==r)return void 0!==n&&(t[i]=n),t[i];var o=i.slice(0,r),a=i.slice(r+1);return void 0===i||t[o]instanceof Object||(t[o]={}),e.props(t[o],a,n)}},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){if(this.length<t.length)return!1;for(var e=t.length-1;e>=0&&this[e]===t[e];--e)continue;return 0>e}),"undefined"!=typeof window&&(window.utils=t.exports)}("undefined"==typeof module?{module:{exports:{}}}:module);var socket,config,app={username:null,uid:null,isFocused:!0,currentRoom:null,widgets:{},cacheBuster:null};!function(){function t(){if(c){var t=$("#reconnect");t.tooltip("destroy"),t.html('<i class="fa fa-check"></i>'),c=!1;var e,i=window.location.pathname.slice(RELATIVE_PATH.length).split("/").slice(1);switch(i[0]){case"user":e="user/"+ajaxify.variables.get("theirid");break;case"topic":e="topic_"+i[1];break;case"category":e="category_"+i[1];break;case"recent":case"unread":e="recent_posts";break;case"admin":e="admin";break;case"home":e="home"}app.currentRoom="",app.enterRoom(e),socket.emit("meta.reconnected"),$(window).trigger("action:reconnected"),setTimeout(function(){t.removeClass("active").addClass("hide")},3e3)}}function e(e){if(config=e,n(),socket)socket.disconnect(),setTimeout(function(){socket.socket.connect()},200);else{var i={"max reconnection attempts":config.maxReconnectionAttempts,"reconnection delay":config.reconnectionDelay,resource:RELATIVE_PATH.length?RELATIVE_PATH.slice(1)+"/socket.io":"socket.io"};utils.isAndroidBrowser()&&(i.transports=["xhr-polling"]),socket=io.connect(config.websocketAddress,i),c=!1,socket.on("event:connect",function(t){app.username=t.username,app.userslug=t.userslug,app.picture=t.picture,app.uid=t.uid,app.isAdmin=t.isAdmin,templates.setGlobal("loggedIn",0!==parseInt(t.uid,10)),app.showLoginMessage(),app.replaceSelfLinks(),$(window).trigger("action:connected")}),socket.on("event:alert",function(t){app.alert(t)}),socket.on("connect",t),socket.on("event:disconnect",function(){$(window).trigger("action:disconnected"),socket.socket.connect()}),socket.on("reconnecting",function(t,e){if(e===parseInt(config.maxReconnectionAttempts,10))return socket.socket.reconnectionAttempts=0,void(socket.socket.reconnectionDelay=config.reconnectionDelay);c=!0;var i=$("#reconnect");i.hasClass("active")||i.html('<i class="fa fa-spinner fa-spin"></i>'),i.addClass("active").removeClass("hide").tooltip({placement:"bottom"})}),socket.on("event:banned",function(){app.alert({title:"[[global:alert.banned]]",message:"[[global:alert.banned.message]]",type:"danger",timeout:1e3}),setTimeout(function(){window.location.href=RELATIVE_PATH+"/"},1e3)}),app.cacheBuster=config["cache-buster"],bootbox.setDefaults({locale:config.userLang})}}function i(){var t=window.location.pathname,e=t.split("/"),i=e[e.length-1];$("#main-nav li").removeClass("active"),i&&$("#main-nav li a").each(function(){var t=$(this).attr("href");return("sort-posts"===i||"sort-reputation"===i||"search"===i||"latest"===i||"online"===i)&&(i="users"),t&&t.match(i)?($(this.parentNode).addClass("active"),!1):void 0})}function n(){$(document).ready(function(){templates.setGlobal("relative_path",RELATIVE_PATH);for(var t in config)config.hasOwnProperty(t)&&templates.setGlobal("config."+t,config[t])})}function r(){"xs"!==utils.findBootstrapEnvironment()&&($("#header-menu li [title]").each(function(){$(this).tooltip({placement:"bottom",title:$(this).attr("title")})}),$("#search-form").parent().tooltip({placement:"bottom",title:$("#search-button i").attr("title")}),$("#user_dropdown").tooltip({placement:"bottom",title:$("#user_dropdown").attr("title")}))}function o(){function t(){n.hide(),i.show()}function e(){n.removeClass("hide").show(),i.hide(),r.focus()}var i=$("#search-button"),n=$("#search-fields"),r=$("#search-fields input");$("#search-form").on("submit",t),r.on("blur",t),i.on("click",function(t){return config.loggedIn||config.allowGuestSearching?(t.stopPropagation(),e(),!1):(app.alert({message:"[[error:search-requires-login]]",timeout:3e3}),ajaxify.go("login"),!1)}),require(["search","mousetrap"],function(t,i){$("#search-form").on("submit",function(e){e.preventDefault();var i=$(this).find("input"),n=i.val();t.query(n,function(){i.val("")})}),$(".topic-search").on("click",".prev",function(){t.topicDOM.prev()}).on("click",".next",function(){t.topicDOM.next()}),i.bind("ctrl+f",function(t){var i,n=ajaxify.currentPage.match(/^topic\/([\d]+)/);n&&(t.preventDefault(),i=n[1],r.val("in:topic-"+i+" "),e())})})}function a(){$("#main-nav a, #user-control-list a, #logged-out-menu li a, #logged-in-menu .visible-xs").off("click").on("click",function(){$(".navbar .navbar-collapse").hasClass("in")&&$(".navbar-header button").click()})}function s(){$("#user-control-list .user-status").off("click").on("click",function(t){var e=$(this).attr("data-status");socket.emit("user.setStatus",e,function(t){return t?app.alertError(t.message):void $("#logged-in-menu #user_label #user-profile-link>i").attr("class","fa fa-circle status "+e)}),t.preventDefault()})}var l=!1,c=!1;app.loadConfig=function(){$.ajax({url:RELATIVE_PATH+"/api/config",success:e,async:!1})},app.logout=function(){$.post(RELATIVE_PATH+"/logout",function(){window.location.href=RELATIVE_PATH+"/"})},app.alert=function(t){require(["alerts"],function(e){e.alert(t)})},app.removeAlert=function(t){require(["alerts"],function(e){e.remove(t)})},app.alertSuccess=function(t,e){app.alert({title:"[[global:alert.success]]",message:t,type:"success",timeout:e?e:2e3})},app.alertError=function(t,e){app.alert({title:"[[global:alert.error]]",message:t,type:"danger",timeout:e?e:2e3})},app.enterRoom=function(t){if(socket){if(app.currentRoom===t)return;socket.emit("meta.rooms.enter",{enter:t,leave:app.currentRoom,username:app.username,userslug:app.userslug,picture:app.picture}),app.currentRoom=t}},app.createUserTooltips=function(){$("img[title].teaser-pic,img[title].user-img").each(function(){$(this).tooltip({placement:"top",title:$(this).attr("title")})})},app.createStatusTooltips=function(){$("body").tooltip({selector:".fa-circle.status",placement:"top"})},app.replaceSelfLinks=function(t){t=t||$("a"),t.each(function(){var t=$(this).attr("href");t&&app.userslug&&$(this).attr("href",t.replace(/\[self\]/g,app.userslug))})},app.processPage=function(){i(),$("span.timeago").timeago(),utils.makeNumbersHumanReadable($(".human-readable-number")),utils.addCommasToNumbers($(".formatted-number")),app.createUserTooltips(),app.createStatusTooltips(),app.replaceSelfLinks(),setTimeout(function(){window.scrollTo(0,1)},100)},app.showLoginMessage=function(){function t(){app.alert({type:"success",title:"[[global:welcome_back]] "+app.username+"!",message:"[[global:you_have_successfully_logged_in]]",timeout:5e3})}l&&(l=!1,"complete"!==document.readyState?$(document).ready(t):t())},app.openChat=function(t,e){return t===app.username?app.alertError("[[error:cant-chat-with-yourself]]"):app.uid?void require(["chat"],function(i){function n(t){i.load(t.attr("UUID")),i.center(t)}i.modalExists(e)?n(i.getModal(e)):i.createModal(t,e,n)}):app.alertError("[[error:not-logged-in]]")};var u={active:!1,interval:void 0,titles:[]};app.alternatingTitle=function(t){"string"==typeof t&&(t.length>0&&!app.isFocused?(u.titles[0]||(u.titles[0]=window.document.title),translator.translate(t,function(t){u.titles[1]=t,u.interval&&clearInterval(u.interval),u.interval=setInterval(function(){var t=u.titles[1^u.titles.indexOf(window.document.title)];t&&(window.document.title=t)},2e3)})):(u.interval&&clearInterval(u.interval),u.titles[0]&&(window.document.title=u.titles[0])))},app.refreshTitle=function(t){if(!t){var e=document.createElement("a");e.href=document.location,t=e.pathname.slice(1)}socket.emit("meta.buildTitle",t,function(t,e,i){u.titles[0]=(i>0?"("+i+") ":"")+e,app.alternatingTitle("")})},app.toggleNavbar=function(t){var e=$(".navbar");e&&e.toggleClass("hidden",!t)},app.load=function(){$("document").ready(function(){var t=ajaxify.removeRelativePath(window.location.pathname.slice(1).replace(/\/$/,"")),e=ajaxify.getTemplateMapping(t),i=window.location.search,n=window.location.hash,l=$(window);l.trigger("action:ajaxify.start",{url:t}),a(),s(),o(),$("#logout-link").on("click",app.logout),l.blur(function(){app.isFocused=!1}),l.focus(function(){app.isFocused=!0,app.alternatingTitle("")}),r(),ajaxify.variables.parse(),ajaxify.currentPage=t,l.trigger("action:ajaxify.contentLoaded",{url:t}),window.history&&window.history.replaceState&&window.history.replaceState({url:t+i+n},t,RELATIVE_PATH+"/"+t+i+n),ajaxify.loadScript(e,function(){ajaxify.widgets.render(e,t,function(){app.processPage(),l.trigger("action:ajaxify.end",{url:t})})}),socket.removeAllListeners("event:nodebb.ready"),socket.on("event:nodebb.ready",function(t){app.cacheBusters&&app.cacheBusters.general===t.general&&app.cacheBusters.css===t.css&&app.cacheBusters.js===t.js||(app.cacheBusters=t,app.alert({alert_id:"forum_updated",title:"[[global:updated.title]]",message:"[[global:updated.message]]",clickfn:function(){window.location.reload()},type:"warning"}))}),require(["admin"],function(t){t.init()})})},l=-1!==window.location.href.indexOf("loggedin"),app.loadConfig(),app.alternatingTitle("")}();var ajaxify=ajaxify||{};if($(document).ready(function(){require(["templates"],function(t){function e(t,e,i,n){var r=t.data,o=t.textStatus;if($("#content, #footer").removeClass("ajaxifying"),r){if(404===r.status)return ajaxify.go("404");if(403===r.status)return app.alertError("[[global:please_log_in]]"),app.previousUrl=e,ajaxify.go("login");if(302===r.status)return ajaxify.go(r.responseJSON.slice(1),i,n)}else"abort"!==o&&app.alertError(r.responseJSON.error)}var i=document.location||window.location,n=i.protocol+"//"+(i.hostname||i.host)+(i.port?":"+i.port:""),r=null;window.onpopstate=function(t){null!==t&&t.state&&void 0!==t.state.url&&!ajaxify.initialLoad&&ajaxify.go(t.state.url,function(){$(window).trigger("action:popstate",{url:t.state.url})},!0)},ajaxify.currentPage=null,ajaxify.initialLoad=!1,ajaxify.preloader={},ajaxify.go=function(i,n,o){app.enterRoom(""),$(window).off("scroll"),$(window).trigger("action:ajaxify.start",{url:i}),$("#content").hasClass("ajaxifying")&&r&&r.abort(),i=i.replace(/\/$/,""),i=ajaxify.removeRelativePath(i);var a=ajaxify.getTemplateMapping(i),s="";if(ajaxify.initialLoad&&(s=window.location.hash?window.location.hash:""),ajaxify.isTemplateAvailable(a)&&!t.config.force_refresh[a]){ajaxify.currentPage=i,window.history&&window.history.pushState&&window.history[o?"replaceState":"pushState"]({url:i+s},i,RELATIVE_PATH+"/"+i+s),translator.load(config.defaultLang,a),$("#footer, #content").removeClass("hide").addClass("ajaxifying");var l=parseFloat($("#content").css("transition-duration"))||.2,c=(new Date).getTime();return ajaxify.variables.flush(),ajaxify.loadData(i,function(t,r){return t?e(t,i,n,o):($(window).trigger("action:ajaxify.loadingTemplates",{}),templates.parse(a,r,function(t){translator.translate(t,function(t){setTimeout(function(){$("#content").html(t),ajaxify.variables.parse(),ajaxify.widgets.render(a,i,function(){$(window).trigger("action:ajaxify.end",{url:i})}),$(window).trigger("action:ajaxify.contentLoaded",{url:i}),ajaxify.loadScript(a),"function"==typeof n&&n(),app.processPage(),$("#content, #footer").removeClass("ajaxifying"),ajaxify.initialLoad=!1,app.refreshTitle(i)},1e3*l-((new Date).getTime()-c))})}),void require(["search"],function(t){t.topicDOM.end()}))}),!0}return!1},ajaxify.removeRelativePath=function(t){return 0===t.indexOf(RELATIVE_PATH.slice(1))&&(t=t.slice(RELATIVE_PATH.length)),t},ajaxify.refresh=function(){ajaxify.go(ajaxify.currentPage)},ajaxify.loadScript=function(t,e){require(["forum/"+t],function(t){t&&t.init&&t.init(),e&&e()})},ajaxify.isTemplateAvailable=function(e){return-1!==$.inArray(e+".tpl",t.available)},ajaxify.getTemplateMapping=function(t){var e=ajaxify.getCustomTemplateMapping(t.split("?")[0]);if(e!==!1||templates[t])templates[t]&&(e=t);else{for(e=t.split("/");e.length;){if(ajaxify.isTemplateAvailable(e.join("/"))){e=e.join("/");break}e.pop()}e.length||(e=t.split("/")[0].split("?")[0])}return e},ajaxify.getCustomTemplateMapping=function(e){if(t.config&&t.config.custom_mapping&&void 0!==e)for(var i in t.config.custom_mapping)if(e.match(i))return t.config.custom_mapping[i];return!1},ajaxify.loadData=function(t,e){if(t=ajaxify.removeRelativePath(t),$(window).trigger("action:ajaxify.loadingData",{url:t}),ajaxify.preloader&&ajaxify.preloader[t]&&!ajaxify.preloader[t].loading)return e(null,ajaxify.preloader[t].data),void(ajaxify.preloader={});var i=(document.location||window.location,ajaxify.getCustomTemplateMapping(t.split("?")[0]));i||(i=ajaxify.getTemplateMapping(t)),r=$.ajax({url:RELATIVE_PATH+"/api/"+t,cache:!1,success:function(t){return t?(t.relative_path=RELATIVE_PATH,void(e&&e(null,t))):void ajaxify.go("404")},error:function(t,i){e({data:t,textStatus:i})}})},ajaxify.loadTemplate=function(t,e){templates.cache[t]?e(templates.cache[t]):$.ajax({url:RELATIVE_PATH+"/templates/"+t+".tpl"+(config["cache-buster"]?"?v="+config["cache-buster"]:""),type:"GET",success:function(t){e(t.toString())},error:function(e){throw new Error("Unable to load template: "+t+" ("+e.statusText+")")}})},$("document").ready(function(){function e(t){return void 0===t||""===t||"javascript:;"===t||t===window.location.href+"#"||"#"===t.slice(0,1)}window.history&&window.history.pushState&&($(document.body).on("click","a",function(t){if(!(e(this.href)||""!==this.target||"javascript:"===this.protocol||"false"===$(this).attr("data-ajaxify")||(window.location.pathname.match(/\/(403|404)$/g)||(app.previousUrl=window.location.href),t.ctrlKey||t.shiftKey||t.metaKey||1!==t.which)))if(this.host===window.location.host){var i=this.href.replace(n+"/","");window.location.pathname===this.pathname&&this.hash?(this.hash!==window.location.hash&&(window.location.hash=this.hash),ajaxify.loadScript(ajaxify.getTemplateMapping(i)),t.preventDefault()):ajaxify.go(i)&&t.preventDefault()}else"/outgoing"!==window.location.pathname&&(config.openOutgoingLinksInNewTab?(window.open(this.href,"_blank"),t.preventDefault()):config.useOutgoingLinksPage&&(ajaxify.go("outgoing?url="+encodeURIComponent(this.href)),t.preventDefault()))}),templates.registerLoader(ajaxify.loadTemplate),t.refresh(app.load))})})}),function(t){var e={};t.variables={},t.variables.set=function(t,i){e[t]=i},t.variables.get=function(t){return e[t]},t.variables.flush=function(){e={}},t.variables.parse=function(){$("#content [template-variable]").each(function(e,i){var n=null;switch($(i).attr("template-type")){case"boolean":n="true"===$(i).val()||"1"===$(i).val()?!0:!1;break;case"int":case"integer":n=parseInt($(i).val(),10);break;default:n=$(i).val()}t.variables.set($(i).attr("template-variable"),n)})}}(ajaxify||{}),function(t){t.widgets={},t.widgets.reposition=function(t){$("body [no-widget-class]").each(function(){var e=$(this);e.attr("no-widget-target")===t&&(e.removeClass(),e.addClass(e.attr("no-widget-class")))})},t.widgets.render=function(e,i,n){function r(r){$.get(RELATIVE_PATH+"/api/widgets/render",{locations:r,template:e+".tpl",url:i},function(e){for(var i=0;i<e.length;++i){for(var r=e[i].widgets,o=e[i].location,a="",s=0;s<r.length;++s)a+=templates.parse(r[s].html,{});var l=$('#content [widget-area="'+o+'"]');!l.length&&-1===window.location.pathname.indexOf("/admin")&&r.length&&("footer"!==o||$('#content [widget-area="footer"]').length?"sidebar"!==o||$('#content [widget-area="sidebar"]').length?"header"!==o||$('#content [widget-area="header"]').length||$("#content").prepend($('<div class="col-xs-12"><div widget-area="header"></div></div>')):($("#content > *").wrapAll($('<div class="col-lg-9 col-xs-12"></div>')),$("#content").append($('<div class="col-lg-3 col-xs-12"><div widget-area="sidebar"></div></div>'))):$("#content").append($('<div class="col-xs-12"><div widget-area="footer"></div></div>')),l=$('#content [widget-area="'+o+'"]')),l.html(a),r.length||(l.addClass("hidden"),t.widgets.reposition(o)),$("#content [widget-area] img:not(.user-img)").addClass("img-responsive")}$(window).trigger("action:widgets.loaded",{}),"function"==typeof n&&n()})}var o,a=["sidebar","footer","header"];$("#content [widget-area]").each(function(){var t=$(this).attr("widget-area");-1===$.inArray(t,a)&&a.push(t)}),o=a.length,o||t.widgets.reposition(),r(a)}}(ajaxify||{}),function(t){function e(t,e){var i=l[t];return i&&i.loaded&&i.loaded[e]&&!i.loading[e]}function i(t,e){return l[t]&&l[t].loading&&l[t].loading[e]}function n(t,e,i){l[t].callbacks=l[t].callbacks||{},l[t].callbacks[e]=l[t].callbacks[e]||[],l[t].callbacks[e].push(i)}function r(t,e,i){"undefined"!=typeof window?o(t,e,i):a(t,e,i)}function o(t,e,i){$.getJSON(config.relative_path+"/language/"+t+"/"+e+".json?v="+config["cache-buster"],i)}function a(t,e,i){var n=require("fs"),r=require("path"),o=require("winston"),a=require("../../src/meta");t=t||a.config.defaultLang||"en_GB",n.existsSync(r.join(__dirname,"../language",t))||(o.warn("[translator] Language '"+a.config.defaultLang+"' not found. Defaulting to 'en_GB'"),t="en_GB"),n.readFile(r.join(__dirname,"../language",t,e+".json"),function(t,n){if(t)return o.error("Could not load `"+e+"`: "+t.message+". Skipping..."),i({});try{i(JSON.parse(n.toString()))}catch(r){o.error("Could not parse `"+e+".json`, syntax error? Skipping..."),i({})}})}var s={},l={};t.exports=s,s.addTranslation=function(t,e,i){l[t]=l[t]||{},l[t].loaded=l[t].loaded||{},l[t].loaded[e]=i,l[t].loading=l[t].loading||{}},s.getLanguage=function(){return config.defaultLang},s.prepareDOM=function(){if("en_GB"!==config.userLang&&"en_US"!==config.userLang){var t;switch(config.userLang){case"cs":t="cz";break;case"fa_IR":t="fa";break;case"pt_BR":t="pt-br";break;case"zh_TW":t="zh-TW";break;case"zh_CN":t="zh-CN";break;default:t=config.userLang}$.getScript(RELATIVE_PATH+"/vendor/jquery/timeago/locales/jquery.timeago."+t+".js").success(function(){$("span.timeago").timeago()}).fail(function(){$.getScript(RELATIVE_PATH+"/vendor/jquery/timeago/locales/jquery.timeago.en.js")}),s.translate("[[language:dir]]",function(t){t&&$("html").css("direction",t).attr("data-dir",t)})}},s.translate=function(t,i,n){function r(t,e,i,n){if(i){for(var r=1,o=n.length;o>r;r++){var a=n[r].replace("]]","");i=i.replace("%"+r,a)}t=t.replace(e,i)}else{var s=e.split(":");t=t.replace(e,s[s.length-1].replace(/\]+$/,""))}return t}function o(){0===u&&n(t)}if("function"==typeof i)if(n=i,"undefined"!=typeof window&&config)i=config.userLang||"en_GB";else{var a=require("../../src/meta");i=a.config.defaultLang||"en_GB"}if(!t)return n(t);var c=t.match(/\[\[.*?\]\]/g),u=0;if(!c)return n(t);for(var h=0;h<c.length;++h){var d=c[h];d=""+d;var p=d.split(/[,][\s]*/),f=d.replace("[[","").replace("]]","").split(":");if(f[0]&&f[1]){var m=f[0];f=(""+f[1]).split(",")[0],e(i,m)?t=r(t,d,l[i].loaded[m][f],p):(u++,function(e,n,a,l){s.load(i,a,function(i){t=r(t,e,i[n],l),u--,o()})}(d,f,m,p))}}o()},s.compile=function(){var t=Array.prototype.slice.call(arguments,0);return"[["+t.join(", ")+"]]"},s.load=function(t,o,a){e(t,o)?a&&a(l[t].loaded[o]):i(t,o)?a&&n(t,o,a):(l[t]=l[t]||{loading:{},loaded:{},callbacks:[]},l[t].loading[o]=!0,r(t,o,function(e){for(l[t].loaded[o]=e,a&&a(e);l[t].callbacks[o]&&l[t].callbacks[o].length;)l[t].callbacks[o].pop()(e);l[t].loading[o]=!1}))},"undefined"!=typeof window&&(window.translator=t.exports)}("undefined"==typeof module?{module:{exports:{}}}:module),function(t){var e={};e.displayUsersLink=function(t){return t.loggedIn||!t.privateUserInfo},e.buildMetaTag=function(t){var e=t.name?'name="'+t.name+'" ':"",i=t.property?'property="'+t.property+'" ':"",n=t.content?'content="'+t.content.replace(/\n/g," ")+'" ':"";return"<meta "+e+i+n+"/>"},"undefined"!=typeof window&&$(document).ready(t.exports),t.exports=function(){var t=t||require("templates.js");t.registerHelper("displayUsersLink",e.displayUsersLink),t.registerHelper("buildMetaTag",e.buildMetaTag)}}("undefined"==typeof module?{module:{exports:{}}}:module),"undefined"!=typeof window){!function(t){function e(e,i,n){return e.each(function(){var e=t(this);translator.translate(n,function(t){e[i](t)})})}t.fn.getCursorPosition=function(){var e=t(this).get(0),i=0;if("selectionStart"in e)i=e.selectionStart;else if("selection"in document){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),i=n.text.length-r}return i},t.fn.selectRange=function(t,e){return e||(e=t),this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(t,e);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select()}})},t.fn.putCursorAtEnd=function(){return this.each(function(){if(t(this).focus(),this.setSelectionRange){var e=2*t(this).val().length;this.setSelectionRange(e,e)}else t(this).val(t(this).val());this.scrollTop=999999})},t.fn.translateHtml=function(t){return e(this,"html",t)},t.fn.translateText=function(t){return e(this,"text",t)},t.fn.translateVal=function(t){return e(this,"val",t)}}(jQuery||{fn:{}});var _clearMenus=$._data(document,"events").click.filter(function(t){return"bs.data-api.dropdown"===t.namespace&&void 0===t.selector});_clearMenus.length&&(_clearMenus=_clearMenus[0].handler),$(document).off("click.data-api.dropdown",_clearMenus).on("click.data-api.dropdown",function(t){2===t.button||_clearMenus()})}define("forum/category",["composer","forum/pagination","forum/infinitescroll","share","navigator","forum/categoryTools"],function(t,e,i,n,r,o){function a(){socket.removeListener("event:new_topic",h.onNewTopic),o.removeListeners()}function s(t){$(".watch, .ignore").on("click",function(){var e=$(this),i=e.hasClass("watch")?"watch":"ignore";socket.emit("categories."+i,t,function(t){return t?app.alertError(t.message):($(".watch").toggleClass("hidden","watch"===i),void $(".ignore").toggleClass("hidden","ignore"===i))})})}function l(){config.usePagination?(r.hide(),e.init(ajaxify.variables.get("currentPage"),ajaxify.variables.get("pageCount"))):i.init(h.loadMoreTopics)}function c(){socket.emit("categories.getTopicCount",ajaxify.variables.get("category_id"),function(t,e){return t?app.alertError(t.message):void r.setCount(e)})}function u(t,e){!utils.isNumber(t)||0===t&&$('#topics-container li.category-item[data-index="0"]').length||($(window).trigger("action:categories.loading"),i.loadMore("categories.loadMore",{cid:ajaxify.variables.get("category_id"),after:t},function(t,i){t.topics&&t.topics.length?(h.onTopicsLoaded(t,function(){i(),e()}),$("#topics-container").attr("data-nextstart",t.nextStart)):i(),$(window).trigger("action:categories.loaded")}))}var h={};return $(window).on("action:ajaxify.start",function(t,e){e&&0!==e.url.indexOf("category")&&(r.hide(),a())}),h.init=function(){var e=ajaxify.variables.get("category_id");app.enterRoom("category_"+e),n.addShareHandlers(ajaxify.variables.get("category_name")),$("#new_post").on("click",function(){t.newTopic(e)}),socket.on("event:new_topic",h.onNewTopic),o.init(e),l(),config.usePagination||r.init("#topics-container > .category-item",ajaxify.variables.get("topic_count"),h.toTop,h.toBottom,h.navigatorCallback),$("#topics-container").on("click",".topic-title",function(){var t=$(this).parents("li.category-item[data-tid]").attr("data-tid");$("#topics-container li.category-item").each(function(i,n){return $(n).offset().top-$(window).scrollTop()>0?(localStorage.setItem("category:"+e+":bookmark",$(n).attr("data-tid")),localStorage.setItem("category:"+e+":bookmark:clicked",t),!1):void 0})}),s(e)},h.toTop=function(){r.scrollTop(0)},h.toBottom=function(){socket.emit("categories.lastTopicIndex",ajaxify.variables.get("category_id"),function(t,e){r.scrollBottom(e)})},h.navigatorCallback=function(t){return parseInt(t.attr("data-index"),10)+1},$(window).on("action:popstate",function(t,i){if(0===i.url.indexOf("category/")){var n=i.url.match(/^category\/(\d+)/);if(n&&n[1]&&(n=n[1]),!n)return;var r=localStorage.getItem("category:"+n+":bookmark"),o=localStorage.getItem("category:"+n+":bookmark:clicked");if(!r)return;config.usePagination?socket.emit("topics.getTidPage",r,function(t,i){t||(parseInt(i,10)!==e.currentPage?e.loadPage(i):h.scrollToTopic(r,o,400))}):socket.emit("topics.getTidIndex",r,function(t,e){if(!t){if(0===e)return void h.highlightTopic(o);0>e&&(e=0),$("#topics-container").empty(),u(e,function(){h.scrollToTopic(r,o,0)})}})}}),h.highlightTopic=function(t){var e=$('#topics-container li.category-item[data-tid="'+t+'"]');e.length&&!e.hasClass("highlight")&&(e.addClass("highlight"),setTimeout(function(){e.removeClass("highlight")},5e3))},h.scrollToTopic=function(t,e,i,n){if(t&&(n||(n=0),$('#topics-container li.category-item[data-tid="'+t+'"]').length)){var o=ajaxify.variables.get("category_id"),a=$('#topics-container li.category-item[data-tid="'+t+'"]');o&&a.length&&$("html, body").animate({scrollTop:a.offset().top-$("#header-menu").height()-n+"px"},void 0!==i?i:400,function(){h.highlightTopic(e),r.update()})}},h.onNewTopic=function(t){$(window).trigger("filter:categories.new_topic",t),ajaxify.loadTemplate("category",function(i){var n=templates.parse(templates.getBlock(i,"topics"),{privileges:{editable:!!$(".thread-tools").length},topics:[t]});translator.translate(n,function(t){var i=$(t),n=$("#topics-container"),r=$("#topics-container").children(".category-item"),o=r.length;$("#topics-container, .category-sidebar").removeClass("hidden");var a=$("#category-no-topics");if(a.length&&(a.remove(),ajaxify.widgets.render("category",window.location.pathname.slice(1))),o>0)for(var s=0;o>s;s++){var l=$(r[s]).hasClass("pinned");{if(!l){i.insertBefore(r[s]);break}s===o-1&&i.insertAfter(r[s])}}else n.append(i);i.hide().fadeIn("slow"),socket.emit("categories.getPageCount",ajaxify.variables.get("category_id"),function(t,i){e.recreatePaginationLinks(i)}),i.find("span.timeago").timeago(),app.createUserTooltips(),c(),$(window).trigger("action:categories.new_topic.loaded")})})},h.onTopicsLoaded=function(t,e){function i(t){return t.filter(function(t){return 0===$('#topics-container li[data-tid="'+t.tid+'"]').length})}function n(){if($("#topics-container .category-item[data-tid]").length){var e=$("#topics-container .category-item[data-tid]").last(),i=e.attr("data-index"),n=t.topics[t.topics.length-1].index;n>i?r=e:o=$("#topics-container .category-item[data-tid]").first()}}if(t&&t.topics.length){var r=null,o=null;t.topics=i(t.topics),t.topics.length&&(n(),ajaxify.loadTemplate("category",function(i){var n=templates.parse(templates.getBlock(i,"topics"),t);translator.translate(n,function(t){var i=$("#topics-container"),n=$(t);$("#topics-container, .category-sidebar").removeClass("hidden"),$("#category-no-topics").remove(),config.usePagination?i.empty().append(n):r?n.insertAfter(r):o?n.insertBefore(o):i.append(n),"function"==typeof e&&e(),n.find("span.timeago").timeago(),app.createUserTooltips(),utils.makeNumbersHumanReadable(n.find(".human-readable-number"))})}))}},h.loadMoreTopics=function(t){$("#topics-container").length&&$("#topics-container").children().length&&i.calculateAfter(t,"#topics-container .category-item[data-tid]",config.topicsPerPage,!1,function(e,i,n){u(e,function(){0>t&&n&&h.scrollToTopic(n.attr("data-tid"),null,0,i)})})},h}),define("forum/categoryTools",["forum/topic/move","topicSelect"],function(t,e){function i(t,e){e.length&&translator.translate("[[topic:thread_tools."+t+"_confirm]]",function(i){bootbox.confirm(i,function(i){i&&socket.emit("topics."+t,{tids:e,cid:v.cid},r)})})}function n(){$(".thread-tools.open").find(".dropdown-toggle").trigger("click")}function r(t){return t?app.alertError(t.message):(n(),void e.unselectAll())}function o(){var t=e.getSelectedTids(),i=a(l,t),n=s(l,t),r=a(u,t),o=a(c,t);$(".delete_thread span").translateHtml('<i class="fa fa-fw '+(i?"fa-history":"fa-trash-o")+'"></i> [[topic:thread_tools.'+(i?"restore":"delete")+"]]"),$(".pin_thread").translateHtml('<i class="fa fa-fw fa-thumb-tack"></i> [[topic:thread_tools.'+(r?"unpin":"pin")+"]]"),$(".lock_thread").translateHtml('<i class="fa fa-fw fa-'+(o?"un":"")+'lock"></i> [[topic:thread_tools.'+(o?"un":"")+"lock]]"),$(".purge_thread").toggleClass("none",!n)}function a(t,e){for(var i=0;i<e.length;++i)if(t(e[i]))return!0;return!1}function s(t,e){for(var i=0;i<e.length;++i)if(!t(e[i]))return!1;return!0}function l(t){return h(t).hasClass("deleted")}function c(t){return h(t).hasClass("locked")}function u(t){return h(t).hasClass("pinned")}function h(t){return $('#topics-container li[data-tid="'+t+'"]')}function d(t){var e=h(t.tid);e.toggleClass("deleted",t.isDeleted),e.find(".fa-lock").toggleClass("hide",!t.isDeleted)}function p(t){var e=h(t.tid);e.toggleClass("pinned",t.isPinned),e.find(".fa-thumb-tack").toggleClass("hide",!t.isPinned),ajaxify.refresh()}function f(t){var e=h(t.tid);e.toggleClass("locked",t.isLocked),e.find(".fa-lock").toggleClass("hide",!t.isLocked)}function m(t){h(t.tid).remove()}function g(t){if(t)for(var e=0;e<t.length;++e)h(t[e]).remove()}var v={};return v.init=function(n){v.cid=n,e.init(o),$(".delete_thread").on("click",function(){var t=e.getSelectedTids();return i(a(l,t)?"restore":"delete",t),!1}),$(".purge_thread").on("click",function(){var t=e.getSelectedTids();return i("purge",t),!1}),$(".lock_thread").on("click",function(){var t=e.getSelectedTids();return t.length&&socket.emit(a(c,t)?"topics.unlock":"topics.lock",{tids:t,cid:v.cid},r),!1}),$(".pin_thread").on("click",function(){var t=e.getSelectedTids();return t.length&&socket.emit(a(u,t)?"topics.unpin":"topics.pin",{tids:t,cid:v.cid},r),!1}),$(".markAsUnreadForAll").on("click",function(){var t=e.getSelectedTids();return t.length&&socket.emit("topics.markAsUnreadForAll",t,function(t){return t?app.alertError(t.message):(app.alertSuccess("[[topic:markAsUnreadForAll.success]]"),void r())}),!1}),$(".move_thread").on("click",function(){var i=e.getSelectedTids();return i.length&&t.init(i,n,r),!1}),$(".move_all_threads").on("click",function(){t.init(null,n,function(){ajaxify.refresh()})}),socket.on("event:topic_deleted",d),socket.on("event:topic_restored",d),socket.on("event:topic_purged",g),socket.on("event:topic_locked",f),socket.on("event:topic_unlocked",f),socket.on("event:topic_pinned",p),socket.on("event:topic_unpinned",p),socket.on("event:topic_moved",m)},v.removeListeners=function(){socket.removeListener("event:topic_deleted",d),socket.removeListener("event:topic_restored",d),socket.removeListener("event:topic_purged",g),socket.removeListener("event:topic_locked",f),socket.removeListener("event:topic_unlocked",f),socket.removeListener("event:topic_pinned",p),socket.removeListener("event:topic_unpinned",p),socket.removeListener("event:topic_moved",m)},v}),define("forum/chats",["string","sounds","forum/infinitescroll"],function(t,e,i){function n(t){var e=s.getRecipientUid();e&&socket.emit("modules.chats.get",{touid:e,since:t},function(t,e){var i=$(".expanded-chat .chat-content");
i.find(".chat-message").remove(),s.parseMessage(e,r)})}function r(t){var e=$(t);e.insertBefore($(".user-typing")),e.find("span.timeago").timeago(),e.find('img:not(".chat-user-image")').addClass("img-responsive"),s.scrollToBottom($(".expanded-chat .chat-content"))}function o(){var t=$(".recent-chats");t.attr("loading")||(t.attr("loading",1),socket.emit("modules.chats.getRecentChats",{after:t.attr("data-nextstart")},function(e,i){return e?app.alertError(e.message):void(i&&i.users.length?a(i.users,function(){t.removeAttr("loading"),t.attr("data-nextstart",i.nextStart)}):t.removeAttr("loading"))}))}function a(t,e){return t=t.filter(function(t){return!$(".recent-chats li[data-uid="+t.uid+"]").length}),t.length?void i.parseAndTranslate("chats","chats",{chats:t},function(t){$(".recent-chats").append(t),e()}):e()}var s={initialised:!1},l=!1;return s.init=function(){var t=$(".expanded-chat ul");s.initialised||(s.addSocketListeners(),s.addGlobalEventListeners()),s.addEventListeners(),s.resizeMainWindow(),s.scrollToBottom(t),s.setActive(),s.initialised=!0},s.getRecipientUid=function(){return parseInt($(".expanded-chat").attr("data-uid"),10)},s.isCurrentChat=function(t){return s.getRecipientUid()===parseInt(t,10)},s.addEventListeners=function(){var t=$(".chat-input"),e=$('.expanded-chat button[data-action="send"]'),i=$('[data-action="pop-out"]');$(".chats-list").on("click","li",function(){ajaxify.go("chats/"+utils.slugify($(this).attr("data-username")))}),t.on("keypress",function(e){13===e.which&&s.sendMessage(s.getRecipientUid(),t)}),t.on("keyup",function(){var t=!!$(this).val();t&&"true"===$(this).attr("data-typing")||!t&&"false"===$(this).attr("data-typing")||(s.notifyTyping(s.getRecipientUid(),t),$(this).attr("data-typing",t))}),e.on("click",function(){return s.sendMessage(s.getRecipientUid(),t),!1}),i.on("click",function(){var t=$(".expanded-chat").attr("data-username"),e=s.getRecipientUid();ajaxify.go("chats",function(){app.openChat(t,e)},!0)}),$(".recent-chats").on("scroll",function(){var t=$(this),e=.9*(t[0].scrollHeight-t.height());t.scrollTop()>e&&o()}),$(".expanded-chat [data-since]").on("click",function(){var t=$(this).attr("data-since");return $(".expanded-chat [data-since]").removeClass("selected"),$(this).addClass("selected"),n(t),!1})},s.addGlobalEventListeners=function(){$(window).on("resize",s.resizeMainWindow),$(window).on("mousemove keypress click",function(){if(l){var t=s.getRecipientUid();t&&(socket.emit("modules.chats.markRead",t),l=!1)}})},s.addSocketListeners=function(){socket.on("event:chats.receive",function(t){$(".user-typing"),$(".expanded-chat ul");s.isCurrentChat(t.withUid)?(l=0===t.self,t.message.self=t.self,s.parseMessage(t.message,r)):($('.chats-list li[data-uid="'+t.withUid+'"]').addClass("unread"),app.alternatingTitle("[[modules:chat.user_has_messaged_you, "+t.message.fromUser.username+"]]"))}),socket.on("event:chats.userStartTyping",function(t){var e=$(".user-typing");s.isCurrentChat(t)&&e.removeClass("hide"),$('.chats-list li[data-uid="'+t+'"]').addClass("typing")}),socket.on("event:chats.userStopTyping",function(t){var e=$(".user-typing");s.isCurrentChat(t)&&e.addClass("hide"),$('.chats-list li[data-uid="'+t+'"]').removeClass("typing")}),socket.on("event:user_status_change",function(t){var e=$('.chats-list li[data-uid="'+t.uid+'"]');if(e.length){var i=e.find(".status");translator.translate("[[global:"+t.status+"]]",function(e){i.attr("class","fa fa-circle status "+t.status).attr("title",e).attr("data-original-title",e)})}})},s.resizeMainWindow=function(){var t=$(".expanded-chat ul");if(t.length){var e=$(".expanded-chat ul").outerHeight(!0)-$(".expanded-chat ul").height(),i=$(".chat-input").outerHeight(!0),n=t.offset().top;t.height($(window).height()-(n+i+4*e))}},s.notifyTyping=function(t,e){socket.emit("modules.chats.user"+(e?"Start":"Stop")+"Typing",{touid:t,fromUid:app.uid})},s.sendMessage=function(i,n){var r=t(n.val()).stripTags().s;r.length&&(r+="\n",socket.emit("modules.chats.send",{touid:i,message:r}),n.val(""),e.play("chat-outgoing"),s.notifyTyping(i,!1))},s.scrollToBottom=function(t){t.length&&t.scrollTop(t[0].scrollHeight-t.height())},s.setActive=function(){var t=s.getRecipientUid();t&&(socket.emit("modules.chats.markRead",t),$(".expanded-chat input").focus()),$(".chats-list li").removeClass("bg-primary"),$('.chats-list li[data-uid="'+t+'"]').addClass("bg-primary")},s.parseMessage=function(t,e){templates.parse("partials/chat_message"+(Array.isArray(t)?"s":""),{messages:t},e)},s}),define("forum/footer",["notifications","chat"],function(t,e){function i(t,e){return t?console.warn("Error updating unread count",t):void $("#unread-count").toggleClass("unread-count",e>0).attr("data-content",e>20?"20+":e)}function n(t,e){return t?console.warn("Error updating unread count",t):void $("#chat-count").toggleClass("unread-count",e>0).attr("data-content",e>20?"20+":e)}function r(){function t(t){if(t&&t.posts&&t.posts.length){var i=t.posts[0];parseInt(i.uid,10)===parseInt(app.uid,10)||r[i.topic.tid]||(e(),n(i.topic.tid),r[i.topic.tid]=!0)}}function e(){var t=parseInt($("#unread-count").attr("data-content"),10)+1;i(null,t)}function n(t){$('[data-tid="'+t+'"]').addClass("unread")}var r={};$(window).on("action:ajaxify.end",function(t,e){var i=e.url.match(/^topic\/(\d+)/);i&&i[1]&&delete r[i[1]]}),socket.on("event:new_post",t)}t.prepareDOM(),e.prepareDOM(),translator.prepareDOM(),socket.on("event:unread.updateCount",i),socket.emit("user.getUnreadCount",i),socket.on("event:unread.updateChatCount",n),socket.emit("user.getUnreadChatCount",n),r()}),define("forum/notifications",function(){var t={};return t.init=function(){var t=$(".notifications-list");$("span.timeago").timeago(),t.on("click","li",function(){this.querySelector("a").click()})},t}),define("forum/pagination",function(){function t(){var t=[1];1!==i.pageCount&&t.push(i.pageCount);var e=i.currentPage-1,n=i.currentPage+1;return e>1&&-1===t.indexOf(e)&&t.push(e),n<i.pageCount&&-1===t.indexOf(n)&&t.push(n),-1===t.indexOf(i.currentPage)&&t.push(i.currentPage),t.sort(function(t,e){return parseInt(t,10)-parseInt(e,10)}),t}function e(){$(".pagination").toggleClass("hide",0===i.pageCount||1===i.pageCount),$(".pagination .next").toggleClass("disabled",i.currentPage===i.pageCount),$(".pagination .previous").toggleClass("disabled",1===i.currentPage),$(".pagination .page").removeClass("active"),$('.pagination .page[data-page="'+i.currentPage+'"]').addClass("active"),$(".pagination .page").each(function(){var t=$(this),e=t.attr("data-page");t.find("a").attr("href",window.location.pathname+"?page="+e)})}var i={};return i.currentPage=0,i.pageCount=0,i.init=function(t,e){i.currentPage=parseInt(t,10),i.pageCount=parseInt(e,10),i.recreatePaginationLinks(e),$(".pagination").on("click",".previous",function(){return i.loadPage(i.currentPage-1)}).on("click",".next",function(){return i.loadPage(i.currentPage+1)}).on("click",".select_page",function(t){t.preventDefault(),bootbox.prompt("Enter page number:",function(t){i.loadPage(t)})})},i.recreatePaginationLinks=function(n){i.pageCount=parseInt(n,10);for(var r=t(),o="",a=0;a<r.length;++a)a>0&&r[a]-1!==r[a-1]&&(o+='<li><a class="select_page" href="#">|</a></li>'),o+='<li class="page" data-page="'+r[a]+'"><a href="#">'+r[a]+"</a></li>";$(".pagination li.page").remove(),$(".pagination li .select_page").parent().remove(),$(o).insertAfter($(".pagination li.previous")),e()},i.loadPage=function(t,e){return t=parseInt(t,10),!utils.isNumber(t)||1>t||t>i.pageCount?!1:(ajaxify.go(window.location.pathname.slice(1)+"?page="+t,function(){"function"==typeof e&&e()}),!0)},i}),define("forum/popular",["forum/recent","forum/infinitescroll"],function(t){var e={};return e.init=function(){app.enterRoom("recent_posts"),$("#new-topics-alert").on("click",function(){$(this).addClass("hide")}),t.selectActivePill()},e}),define("forum/recent",["forum/infinitescroll"],function(t){function e(){var t=window.location.href,e=t.split("/"),i=e[e.length-1];return i}function i(){++o,r.updateAlertText()}function n(){++a,r.updateAlertText()}var r={},o=0,a=0,s="";return $(window).on("action:ajaxify.start",function(t,e){0!==e.url.indexOf("recent")&&r.removeListeners()}),r.init=function(){app.enterRoom("recent_posts"),r.watchForNewPosts(),s=r.selectActivePill(),$("#new-topics-alert").on("click",function(){$(this).addClass("hide")}),t.init(r.loadMoreTopics)},r.selectActivePill=function(){var t=e();return $(".nav-pills li").removeClass("active"),$(".nav-pills li a").each(function(){var e=$(this);return e.attr("href").match(t)?(e.parent().addClass("active"),!1):void 0}),t},r.watchForNewPosts=function(){a=0,o=0,r.removeListeners(),socket.on("event:new_topic",i),socket.on("event:new_post",n)},r.removeListeners=function(){socket.removeListener("event:new_topic",i),socket.removeListener("event:new_post",n)},r.updateAlertText=function(){var t="There";o>1?t+=" are "+o+" new topics":1===o&&(t+=" is a new topic"),a>1?t+=(o?" and ":" are ")+a+" new posts":1===a&&(t+=(o?" and ":" is ")+" a new post"),t+=". Click here to reload.",$("#new-topics-alert").html(t).removeClass("hide").fadeIn("slow"),$("#category-no-topics").addClass("hide")},r.loadMoreTopics=function(e){0>e||!$("#topics-container").length||t.loadMore("topics.loadMoreRecentTopics",{after:$("#topics-container").attr("data-nextstart"),term:s},function(t,e){t.topics&&t.topics.length?(r.onTopicsLoaded("recent",t.topics,!1,e),$("#topics-container").attr("data-nextstart",t.nextStart)):e()})},r.onTopicsLoaded=function(e,i,n,r){return i=i.filter(function(t){return!$("#topics-container li[data-tid="+t.tid+"]").length}),i.length?void t.parseAndTranslate(e,"topics",{topics:i,showSelect:n},function(t){$("#category-no-topics").remove(),$("#topics-container").append(t),t.find("span.timeago").timeago(),app.createUserTooltips(),utils.makeNumbersHumanReadable(t.find(".human-readable-number")),r()}):r()},r}),define("forum/register",function(){function t(t,e){translator.translate(e,function(e){t.html(e),t.parent().removeClass("alert-success").addClass("alert-danger"),t.show()}),s=!0}function e(t,e){translator.translate(e,function(e){t.html(e),t.parent().removeClass("alert-danger").addClass("alert-success"),t.show()})}function i(i,n){n=n||function(){};var r=$("#email-notify");return i?utils.isEmailValid(i)?void socket.emit("user.emailExists",{email:i},function(i,o){return i?app.alertError(i.message):(o?t(r,"[[error:email-taken]]"):e(r,l),void n())}):void t(r,"[[error:invalid-email]]"):void(s=!0)}function n(i,n){n=n||function(){};var r=$("#username-notify");return i?void(i.length<config.minimumUsernameLength?t(r,"[[error:username-too-short]]"):i.length>config.maximumUsernameLength?t(r,"[[error:username-too-long]]"):utils.isUserNameValid(i)&&utils.slugify(i)?socket.emit("user.exists",{username:i},function(i,o){return i?app.alertError(i.message):(o?t(r,"[[error:username-taken]]"):e(r,l),void n())}):t(r,"[[error:invalid-username]]")):void(s=!0)}function r(i,n){if(!i)return void(s=!0);var r=$("#password-notify"),o=$("#password-confirm-notify");i.length<config.minimumPasswordLength?t(r,"[[user:change_password_error_length]]"):utils.isPasswordValid(i)?e(r,l):t(r,"[[user:change_password_error]]"),i!==n&&""!==n&&t(o,"[[user:change_password_error_match]]")}function o(i,n){var r=$("#password-notify"),o=$("#password-confirm-notify");i&&!r.hasClass("alert-error")&&(i!==n?t(o,"[[user:change_password_error_match]]"):e(o,l))}var a={},s=!1,l='<i class="fa fa-check"></i>';return a.init=function(){function t(t){s=!1,r(l.val(),c.val()),o(l.val(),c.val()),i(e.val(),function(){n(a.val(),t)})}var e=$("#email"),a=$("#username"),l=$("#password"),c=$("#password-confirm"),u=$("#register"),h=$("#agree-terms");$("#referrer").val(app.previousUrl),e.on("blur",function(){i(e.val())}),a.on("keyup",function(){$("#yourUsername").html(this.value.length>0?this.value:"username")}),a.on("blur",function(){n(a.val())}),l.on("blur",function(){r(l.val(),c.val())}),c.on("blur",function(){o(l.val(),c.val())}),u.on("click",function(e){var i=$(this);e.preventDefault(),t(function(){s||i.parents("form").trigger("submit")})}),h.length&&(h.on("click",function(){$(this).prop("checked")?u.removeAttr("disabled"):u.attr("disabled","disabled")}),u.attr("disabled","disabled"))},a}),define("forum/reset",function(){var t={};return t.init=function(){var t=$("#email"),e=$("#error"),i=$("#success");$("#reset").on("click",function(){t.val()&&-1!==t.val().indexOf("@")?socket.emit("user.reset.send",t.val(),function(n){return n?app.alertError(n.message):(e.addClass("hide").hide(),i.removeClass("hide").show(),void t.val(""))}):(i.addClass("hide").hide(),e.removeClass("hide").show())})},t}),define("forum/reset_code",function(){var t={};return t.init=function(){var t=ajaxify.variables.get("reset_code"),e=$("#reset"),i=$("#password"),n=$("#repeat"),r=$("#notice");e.on("click",function(){i.val().length<6?($("#error").addClass("hide").hide(),r.find("strong").html("Invalid Password"),r.find("p").html("The password entered is too short, please pick a different password."),r.removeClass("hide").css({display:"block"})):i.value!==n.value?($("#error").hide(),r.find("strong").html("Invalid Password"),r.find("p").html("The two passwords you've entered do not match."),r.removeClass("hide").css({display:"block"})):socket.emit("user.reset.commit",{code:t,password:i.val()},function(t){return t?app.alertError(t.message):($("#error").addClass("hide").hide(),$("#notice").addClass("hide").hide(),void $("#success").removeClass("hide").addClass("show").show())})}),socket.emit("user.reset.valid",t,function(t,i){if(t)return app.alertError(t.message);if(i)e.prop("disabled",!1);else{var n=$("#reset-form");$("#error").show(),n.remove()}})},t}),define("forum/search",["search"],function(t){var e={};return e.init=function(){for(var e=$("#post-results").attr("data-search-query"),i=[],n=e.split(" "),r=0;r<n.length;++r){var o=new RegExp(n[r],"gi");i.push({regex:o,term:n[r]})}$(".search-result-text").each(function(){for(var t=$(this),e=t.html(),n=0;n<i.length;++n)e=e.replace(i[n].regex,"<strong>"+i[n].term+"</strong>");t.html(e).find("img").addClass("img-responsive")}),$("#search-form input").val(e),$("#mobile-search-form").off("submit").on("submit",function(e){e.preventDefault();var i=$(this).find("input");t.query(i.val(),function(){i.val("")})})},e}),define("forum/tag",["forum/recent","forum/infinitescroll"],function(t,e){var i={};return i.init=function(){function i(i){0>i||!$("#topics-container").length||e.loadMore("topics.loadMoreFromSet",{set:"tag:"+ajaxify.variables.get("tag")+":topics",after:$("#topics-container").attr("data-nextstart")},function(e,i){e.topics&&e.topics.length?(t.onTopicsLoaded("tag",e.topics,!1,i),$("#topics-container").attr("data-nextstart",e.nextStart)):(i(),$("#load-more-btn").hide())})}app.enterRoom("tags"),$("body").height()<=$(window).height()&&$("#topics-container").children().length>=20&&$("#load-more-btn").show(),$("#load-more-btn").on("click",function(){i()}),e.init(i)},i}),define("forum/tags",["forum/infinitescroll"],function(t){function e(e,i,n){n=n||function(){},t.parseAndTranslate("tags","tags",{tags:e},function(t){$(".tag-list")[i?"html":"append"](t),utils.makeNumbersHumanReadable(t.find(".human-readable-number")),n()})}var i={},n=0;return i.init=function(){app.enterRoom("tags"),$("#tag-search").on("input propertychange",function(){n&&(clearTimeout(n),n=0),n=setTimeout(function(){socket.emit("topics.searchAndLoadTags",{query:$("#tag-search").val()},function(t,i){return t?app.alertError(t.message):void e(i,!0,function(){n=0})})},100)}),t.init(i.loadMoreTags)},i.loadMoreTags=function(i){0>i||!$(".tag-list").length||t.loadMore("topics.loadMoreTags",{after:$(".tag-list").attr("data-nextstart")},function(t,i){t&&t.tags&&t.tags.length?(e(t.tags,!1,i),$(".tag-list").attr("data-nextstart",t.nextStart)):i()})},i});var dependencies=["forum/pagination","forum/infinitescroll","forum/topic/threadTools","forum/topic/postTools","forum/topic/events","forum/topic/browsing","navigator"];define("forum/topic",dependencies,function(t,e,i,n,r,o,a){function s(e){var i=localStorage.getItem("topic:"+e+":bookmark"),n=l();n?a.scrollToPost(n-1,!0):i&&(!config.usePagination||config.usePagination&&1===t.currentPage)&&ajaxify.variables.get("postcount")>1&&app.alert({alert_id:"bookmark",message:"[[topic:bookmark_instructions]]",timeout:0,type:"info",clickfn:function(){a.scrollToPost(parseInt(i,10),!0)},closefn:function(){localStorage.removeItem("topic:"+e+":bookmark")}})}function l(){var t=window.location.pathname.split("/");return t[4]?parseInt(t[4],10):0}function c(){var t=$(".thread-sort");t.find("i").removeClass("fa-check");var e=t.find('a[data-sort="'+config.topicPostSort+'"]');e.find("i").addClass("fa-check"),$(".thread-sort").on("click","a",function(){var t=$(this).attr("data-sort");socket.emit("user.setTopicSort",t,function(){config.topicPostSort=t,ajaxify.go("topic/"+ajaxify.variables.get("topic_slug"))})})}function u(){($("#post-container .post-row").length>1||!$('#post-container li[data-index="0"]').length)&&$(".bottom-post-bar").removeClass("hide")}function h(t){var e=ajaxify.variables.get("topic_id");if(!(t&&t.posts&&t.posts.length&&t.posts[0].tid!==e)){if(config.usePagination)return y(t);for(var i=0;i<t.posts.length;++i){var n=$(".user_postcount_"+t.posts[i].uid);n.html(parseInt(n.html(),10)+1)}socket.emit("topics.markAsRead",[e]),b(t)}}function d(t){var e=ajaxify.variables.get("topic_id");t&&t.tid&&parseInt(t.tid,10)===parseInt(e,10)&&socket.emit("topics.markTopicNotificationsRead",e)}function p(){$("#post-container").on("click","blockquote .toggle",function(){var t=$(this).parent("blockquote"),e=$(this);t.toggleClass("uncollapsed");var i=!t.hasClass("uncollapsed");e.toggleClass("fa-angle-down",i).toggleClass("fa-angle-up",!i)})}function f(t){t.each(function(){var t=$(this);t.find(":hidden:not(br)").length&&!t.find(".toggle").length&&t.append('<i class="fa fa-angle-down pointer toggle"></i>')})}function m(){config.usePagination?(a.hide(),t.init(parseInt(ajaxify.variables.get("currentPage"),10),parseInt(ajaxify.variables.get("pageCount"),10))):e.init(k,$('#post-container .post-row[data-index="0"]').height())}function g(){$("#post-container li.deleted").each(function(){n.toggle($(this).attr("data-pid"),!0)})}function v(){$(window).scrollTop()>50?$(".header-topic-title").find("span").text(ajaxify.variables.get("topic_name")).show():$(".header-topic-title").find("span").text("").hide()}function y(e){e.posts;socket.emit("topics.getPageCount",ajaxify.variables.get("topic_id"),function(i,n){t.recreatePaginationLinks(n),t.currentPage===t.pageCount?b(e):e.posts&&e.posts.length&&parseInt(e.posts[0].uid,10)===parseInt(app.uid,10)&&t.loadPage(t.pageCount)})}function b(t,i){function n(){t.posts=t.posts.filter(function(t){return 0===$('#post-container li[data-pid="'+t.pid+'"]').length})}function r(){var e=parseInt(t.posts[0].timestamp,10),i=parseInt(t.posts[0].votes,10),n=t.posts[0].pid,r=$('#post-container li.post-row[data-index!="0"]').first(),s=$('#post-container li.post-row[data-index!="0"]').last();"oldest_to_newest"===config.topicPostSort?e<parseInt(r.attr("data-timestamp"),10)?a=r:e>=parseInt(s.attr("data-timestamp"),10)&&(o=s):"newest_to_oldest"===config.topicPostSort?e>parseInt(r.attr("data-timestamp"),10)?a=r:e<=parseInt(s.attr("data-timestamp"),10)&&(o=s):"most_votes"===config.topicPostSort&&(i>parseInt(r.attr("data-votes"),10)?a=r:i<parseInt(r.attr("data-votes"),10)?o=s:n>r.attr("data-pid")?a=r:n<=r.attr("data-pid")&&(o=s))}if(i=i||function(){},!t||t.posts&&!t.posts.length)return i(!1);var o=null,a=null;return n(),t.posts.length?(r(),t.title=$("<div></div>").text(ajaxify.variables.get("topic_name")).html(),t.viewcount=ajaxify.variables.get("viewcount"),void e.parseAndTranslate("topic","posts",t,function(e){if(o)e.insertAfter(o);else if(a){var n=$(document).height(),r=$(document).scrollTop(),s=$('li[data-index="0"]');e.insertBefore(a),r>s.offset().top&&$(document).scrollTop(r+($(document).height()-n))}else $("#post-container").append(e);e.hide().fadeIn("slow"),f(e.find(".post-content > blockquote")),$(window).trigger("action:posts.loaded"),w(e,t.posts),i(!0)})):i(!1)}function w(t,e){function i(e){socket.emit("posts.getPrivileges",e,function(e,i){return e?app.alertError(e.message):void x(t,i)})}for(var n=0,r=e.length;r>n;n++)i(e[n].pid);_(t)}function _(t){app.createUserTooltips(),app.replaceSelfLinks(t.find("a")),utils.addCommasToNumbers(t.find(".formatted-number")),utils.makeNumbersHumanReadable(t.find(".human-readable-number")),t.find("span.timeago").timeago(),t.find(".post-content img:not(.emoji)").addClass("img-responsive").each(function(){var t=$(this);t.parent().is("a")||t.wrap('<a href="'+t.attr("src")+'" target="_blank">')}),n.updatePostCount(),u()}function x(t,e){t.find(".edit, .delete").toggleClass("none",!e.editable),t.find(".move").toggleClass("none",!e.move),t.find(".reply, .quote").toggleClass("none",!$(".post_reply").length);var i=parseInt(t.attr("data-uid"),10)===parseInt(app.uid,10);t.find(".chat, .flag").toggleClass("none",i||!app.uid)}function k(t){if($("#post-container").length&&!a.scrollActive){var i="newest_to_oldest"===config.topicPostSort||"most_votes"===config.topicPostSort;e.calculateAfter(t,'#post-container .post-row[data-index!="0"]',config.postsPerPage,i,function(t){C(t)})}}function C(t){var i=ajaxify.variables.get("topic_id");if(utils.isNumber(i)&&utils.isNumber(t)&&(0!==t||!$('#post-container li.post-row[data-index="1"]').length)){var n=$(".loading-indicator");n.is(":animated")||n.fadeIn(),e.loadMore("topics.loadMore",{tid:i,after:t},function(t,e){n.fadeOut(),t&&t.posts&&t.posts.length?(b(t,function(){e()}),g()):(a.update(),e())})}}var T={},E="";return $(window).on("action:ajaxify.start",function(t,e){0!==e.url.indexOf("topic")&&(a.hide(),$(".header-topic-title").find("span").text("").hide(),app.removeAlert("bookmark"),r.removeListeners(),socket.removeListener("event:new_post",h),socket.removeListener("event:new_notification",d))}),T.init=function(){var t=ajaxify.variables.get("topic_id"),e={locked:ajaxify.variables.get("locked"),deleted:ajaxify.variables.get("deleted"),pinned:ajaxify.variables.get("pinned")},o=ajaxify.variables.get("postcount");$(window).trigger("action:topic.loading"),app.enterRoom("topic_"+t),_($(".topic")),u(),n.init(t,e),i.init(t,e),r.init(),c(),g(),m(),p(),f($(".topic .post-content > blockquote")),s(t),a.init(".posts > .post-row",o,T.toTop,T.toBottom,T.navigatorCallback,T.calculateIndex),socket.on("event:new_post",h),socket.on("event:new_notification",d),$(window).on("scroll",v),$(window).trigger("action:topic.loaded"),socket.emit("topics.enter",t)},T.toTop=function(){a.scrollTop(0)},T.toBottom=function(){socket.emit("topics.postcount",ajaxify.variables.get("topic_id"),function(t,e){"oldest_to_newest"!==config.topicPostSort&&(e=1),a.scrollBottom(e)})},T.calculateIndex=function(t,e){return 1!==t&&"oldest_to_newest"!==config.topicPostSort?e-t+2:t},T.navigatorCallback=function(t,e){var i=ajaxify.removeRelativePath(window.location.pathname.slice(1));if(!i.startsWith("topic"))return 1;var n=parseInt(t.attr("data-index"),10),r=n+1;"oldest_to_newest"!==config.topicPostSort&&(r=0===n?1:Math.max(e-n+1,1));var o=localStorage.getItem("topic:"+ajaxify.variables.get("topic_id")+":bookmark");if((!o||parseInt(n,10)>=parseInt(o,10))&&(localStorage.setItem("topic:"+ajaxify.variables.get("topic_id")+":bookmark",n),app.removeAlert("bookmark")),!a.scrollActive){var s=ajaxify.removeRelativePath(window.location.pathname.slice(1)).split("/"),l=s[1],c=s[2],u="topic/"+l+"/"+(c?c:"");if(n>0&&(u+="/"+(n+1)),u!==E){if(history.replaceState){var h=window.location.search?window.location.search:"";history.replaceState({url:u+h},null,window.location.protocol+"//"+window.location.host+RELATIVE_PATH+"/"+u+h)}E=u}}return r},T}),define("forum/unread",["forum/recent","topicSelect","forum/infinitescroll"],function(t,e,i){function n(t){r(t),app.alertSuccess("[[unread:topics_marked_as_read.success]]"),$("#topics-container").children().length||($("#category-no-topics").removeClass("hidden"),$(".markread").addClass("hidden"))}function r(t){for(var e=0;e<t.length;++e)$('#topics-container .category-item[data-tid="'+t[e]+'"]').remove()}function o(t,e){a(e)}function a(t){t=t.filter(function(t){return!t.disabled});for(var e=0;e<t.length;++e)s(t[e])}function s(t){var e=$('<a role="menuitem" href="#"></a>');e.append(t.icon?'<i class="fa fa-fw '+t.icon+'"></i> '+t.name:t.name),$('<li role="presentation" class="category" data-cid="'+t.cid+'"></li>').append(e).appendTo($(".markread .dropdown-menu"))}var l={};return $(window).on("action:ajaxify.start",function(e,i){0!==i.url.indexOf("unread")&&t.removeListeners()}),l.init=function(){function r(e){0>e||!$("#topics-container").length||i.loadMore("topics.loadMoreUnreadTopics",{after:$("#topics-container").attr("data-nextstart")},function(e,i){e.topics&&e.topics.length?(t.onTopicsLoaded("unread",e.topics,!0,i),$("#topics-container").attr("data-nextstart",e.nextStart)):(i(),$("#load-more-btn").hide())})}app.enterRoom("recent_posts"),$("#new-topics-alert").on("click",function(){$(this).addClass("hide")}),t.watchForNewPosts(),$("#markSelectedRead").on("click",function(){var t=e.getSelectedTids();t.length&&socket.emit("topics.markAsRead",t,function(e){return e?app.alertError(e.message):void n(t)})}),$("#markAllRead").on("click",function(){socket.emit("topics.markAllRead",function(t){return t?app.alertError(t.message):(app.alertSuccess("[[unread:topics_marked_as_read.success]]"),$("#topics-container").empty(),$("#category-no-topics").removeClass("hidden"),void $(".markread").addClass("hidden"))})}),$(".markread").on("click",".category",function(){function t(t){var e=[];return $('#topics-container .category-item[data-cid="'+t+'"]').each(function(){e.push($(this).attr("data-tid"))}),e}var e=$(this).attr("data-cid"),i=t(e);socket.emit("topics.markCategoryTopicsRead",e,function(t){return t?app.alertError(t.message):void n(i)})}),socket.emit("categories.get",o),e.init(),$("body").height()<=$(window).height()&&$("#topics-container").children().length>=20&&$("#load-more-btn").show(),$("#load-more-btn").on("click",function(){r()}),i.init(r)},l}),define("forum/users",function(){function t(){var t="",i=a();"latest"===i?t="users:joindate":"sort-posts"===i?t="users:postcount":"sort-reputation"===i?t="users:reputation":("online"===i||"users"===i)&&(t="users:online"),t&&e(t,$("#users-container").children(".registered-user").length)}function e(t,e){l=!0,socket.emit("user.loadMore",{set:t,after:e},function(t,e){e&&e.users.length?(i(e.users),$("#load-more-users-btn").removeClass("disabled")):$("#load-more-users-btn").addClass("disabled"),l=!1})}function i(t){t=t.filter(function(t){return!$('.users-box[data-uid="'+t.uid+'"]').length}),ajaxify.loadTemplate("users",function(e){var i=templates.parse(templates.getBlock(e,"users"),{users:t});translator.translate(i,function(t){$("#users-container").append(t),$("#users-container .anon-user").appendTo($("#users-container"))})})}function n(){var t=0,e=null;$("#search-user").on("keyup",function(){0!==t&&(clearTimeout(t),t=0),t=setTimeout(function(){function t(){n.html('<i class="fa fa-search"></i>'),n.parent().removeClass("btn-warning label-warning btn-success label-success")}var i=$("#search-user").val(),n=$("#user-notfound-notify");return""===i?(n.html('<i class="fa fa-circle-o"></i>'),void n.parent().removeClass("btn-warning label-warning btn-success label-success")):void(e!==i&&(e=i,n.html('<i class="fa fa-spinner fa-spin"></i>'),socket.emit("user.search",i,function(e,i){return e?(t(),app.alertError(e.message)):i?void ajaxify.loadTemplate("users",function(t){var e=templates.parse(templates.getBlock(t,"users"),i);translator.translate(e,function(t){$("#users-container").html(t),i.users.length?translator.translate("[[users:users-found-search-took, "+i.users.length+", "+i.timing+"]]",function(t){n.html(t),n.parent().addClass("btn-success label-success")}):translator.translate("[[users:user-not-found]]",function(t){n.html(t),n.parent().addClass("btn-warning label-warning")})})}):void t()})))},250)})}function r(t){var e=a();(0===e.indexOf("online")||0===e.indexOf("users"))&&o(t)}function o(t){if("offline"!==t.status){var e=$("#users-container"),i=e.find('li[data-uid="'+t.uid+'"]');if(i.length){var n=i.find(".status");translator.translate("[[global:"+t.status+"]]",function(e){n.attr("class","fa fa-circle status "+t.status).attr("title",e).attr("data-original-title",e)})}}}function a(){var t=window.location.href,e=t.split("/");return e[e.length-1]}var s={},l=!1;return s.init=function(){var e=a();$(".nav-pills li").removeClass("active"),$(".nav-pills li a").each(function(){var t=$(this);return t.attr("href").match(e)?(t.parent().addClass("active"),!1):void 0}),n(),socket.removeListener("event:user_status_change",r),socket.on("event:user_status_change",r),$("#load-more-users-btn").on("click",t),$(window).off("scroll").on("scroll",function(){var e=.9*($(document).height()-$(window).height());$(window).scrollTop()>e&&!l&&t()})},s}),define("forum/home",function(){function t(t,i){var n=$('.home .category-item[data-cid="'+t+'"]'),r=n.find(".category-box"),o=n.attr("data-numRecentReplies");if(o&&parseInt(o,10)){{var a=r.find(".post-preview");a.first()}e([i],function(t){t.hide(),0===a.length?t.appendTo(r):t.insertBefore(a.first()),t.fadeIn(),app.createUserTooltips(),r.find(".post-preview").length>parseInt(o,10)&&a.last().remove()})}}function e(t,e){ajaxify.loadTemplate("home",function(i){var n=templates.parse(templates.getBlock(i,"posts"),{categories:{posts:t}});translator.translate(n,function(t){t=$(t),t.find("img").addClass("img-responsive"),t.find("span.timeago").timeago(),e(t)})})}var i={};return $(window).on("action:ajaxify.start",function(t,e){""!==e.url&&socket.removeListener("event:new_post",i.onNewPost)}),i.init=function(){app.enterRoom("home"),socket.removeListener("event:new_post",i.onNewPost),socket.on("event:new_post",i.onNewPost),$(".home .category-header").tooltip({placement:"bottom"})},i.onNewPost=function(e){e&&e.posts&&e.posts.length&&e.posts[0].topic&&t(e.posts[0].topic.cid,e.posts[0])},i}),define("forum/infinitescroll",function(){function t(){var t=$('li[data-index="0"]'),i=.15*$(window).height()+o+(t?t.outerHeight():0),r=.85*($(document).height()-$(window).height()),a=$(window).scrollTop();i>a&&n>a?e(-1):a>r&&a>n&&e(1),n=a}var e,i={},n=0,r=!1,o=0;return i.init=function(i,n){e=i,o=n||0,$(window).off("scroll",t).on("scroll",t)},i.loadMore=function(t,e,i){r||(r=!0,socket.emit(t,e,function(t,e){return t?(r=!1,app.alertError(t.message)):void i(e,function(){r=!1})}))},i.parseAndTranslate=function(t,e,i,n){ajaxify.loadTemplate(t,function(t){var r=templates.parse(templates.getBlock(t,e),i);translator.translate(r,function(t){n($(t))})})},i.calculateAfter=function(t,e,i,n,r){var o=0,a=0,s=t>0?$(e).last():$(e).first(),i=n?-i:i,l=n?-1:1;t>0?o=parseInt(s.attr("data-index"),10)+l:(o=parseInt(s.attr("data-index"),10),isNaN(o)&&(o=0),o-=i,0>o&&(o=0),s&&s.offset()&&(a=s.offset().top-$("#header-menu").offset().top+$("#header-menu").height())),r(o,a,s)},i}),define("forum/login",function(){var t={};return t.init=function(){var t=$("#login-error-notify"),e=$("#login"),i=$("#login-form");e.on("click",function(n){n.preventDefault(),$("#username").val()&&$("#password").val()?(t.hide(),e.hasClass("disabled")||(e.addClass("disabled"),i.submit())):translator.translate("[[error:invalid-username-or-password]]",function(e){t.find("p").text(e),t.show()})}),$("#login-error-notify button").on("click",function(e){e.preventDefault(),t.hide()}),$("#content #username").focus()},t}),define("forum/account/edit",["forum/account/header","uploader"],function(t,e){function i(){var t={uid:$("#inputUID").val(),username:$("#inputUsername").val(),email:$("#inputEmail").val(),fullname:$("#inputFullname").val(),website:$("#inputWebsite").val(),birthday:$("#inputBirthday").val(),location:$("#inputLocation").val(),signature:$("#inputSignature").val()};return socket.emit("user.updateProfile",t,function(e,i){if(e)return app.alertError(e.message);
if(app.alertSuccess("[[user:profile_update_success]]"),i.picture&&($("#user-current-picture").attr("src",i.picture),$("#user_label img").attr("src",i.picture)),i.gravatarpicture&&($("#user-gravatar-picture").attr("src",i.gravatarpicture),m=i.gravatarpicture),i.userslug){var n=$(".account-username-box").attr("data-userslug");$(".account-username-box a").each(function(){$(this).attr("href",$(this).attr("href").replace(n,i.userslug))}),$(".account-username-box").attr("data-userslug",i.userslug),$("#user-profile-link").attr("href",config.relative_path+"/user/"+i.userslug),$("#user-header-name").text(t.username)}p!==i.email&&(p=i.email,$("#confirm-email").removeClass("hide"))}),!1}function n(){function t(t){$("#gravatar-box .fa-check").toggle("gravatar"===t),$("#uploaded-box .fa-check").toggle("uploaded"===t),v=t}$("#changePictureBtn").on("click",function(){return v="",c(),$("#change-picture-modal").modal("show"),$("#change-picture-modal").removeClass("hide"),!1}),$("#gravatar-box").on("click",function(){t("gravatar")}),$("#uploaded-box").on("click",function(){t("uploaded")}),$("#savePictureChangesBtn").on("click",function(){$("#change-picture-modal").modal("hide"),v&&(l(v),"gravatar"===v?($("#user-current-picture").attr("src",m),$("#user-header-picture").attr("src",m)):"uploaded"===v&&($("#user-current-picture").attr("src",g),$("#user-header-picture").attr("src",g)))})}function r(){$("#deleteAccountBtn").on("click",function(){return translator.translate("[[user:delete_account_confirm]]",function(t){bootbox.confirm(t+'<p><input type="text" class="form-control" id="confirm-username" /></p>',function(t){return t?$("#confirm-username").val()!==app.username?(app.alertError("[[error:invalid-username]]"),!1):void socket.emit("user.deleteAccount",{},function(t){t||app.logout()}):void 0})}),!1})}function o(){function t(t){t=t+"?"+(new Date).getTime(),$("#user-current-picture").attr("src",t),$("#user-uploaded-picture").attr("src",t),$("#user-header-picture").attr("src",t),g=t}$("#upload-picture-modal").on("hide",function(){$("#userPhotoInput").val("")}),$("#uploadPictureBtn").on("click",function(){return $("#change-picture-modal").modal("hide"),e.open(config.relative_path+"/api/user/"+ajaxify.variables.get("userslug")+"/uploadpicture",{},config.maximumProfileImageSize,function(e){t(e)}),!1}),$("#uploadFromUrlBtn").on("click",function(){$("#change-picture-modal").modal("hide");var e=$("#upload-picture-from-url-modal");return e.modal("show").removeClass("hide"),e.find(".upload-btn").on("click",function(){var i=e.find("#uploadFromUrl").val();if(i)return socket.emit("user.uploadProfileImageFromUrl",i,function(i,n){return i?app.alertError(i.message):(t(n),void e.modal("hide"))}),!1}),!1})}function a(){$("#confirm-email").on("click",function(){socket.emit("user.emailConfirm",{},function(t){return t?app.alertError(t.message):void app.alertSuccess("[[notifications:email-confirm-sent]]")})})}function s(){function t(){s=utils.isPasswordValid(o.val()),o.val().length<config.minimumPasswordLength?h(n,"[[user:change_password_error_length]]"):s?d(n,c):h(n,"[[user:change_password_error]]")}function e(){o.val()&&(o.val()!==a.val()?(h(r,"[[user:change_password_error_match]]"),l=!1):(d(r,c),l=!0))}var i=$("#inputCurrentPassword"),n=$("#password-notify"),r=$("#password-confirm-notify"),o=$("#inputNewPassword"),a=$("#inputNewPasswordAgain"),s=!1,l=!1,c='<i class="fa fa-check"></i>';o.on("blur",t),a.on("blur",e),$("#changePasswordBtn").on("click",function(){return(s&&l||app.isAdmin)&&socket.emit("user.changePassword",{currentPassword:i.val(),newPassword:o.val(),uid:ajaxify.variables.get("theirid")},function(t){return i.val(""),o.val(""),a.val(""),l=!1,s=!1,t?app.alertError(t.message):void app.alertSuccess("[[user:change_password_success]]")}),!1})}function l(t){socket.emit("user.changePicture",{type:t,uid:ajaxify.variables.get("theirid")},function(t){t&&app.alertError(t.message)})}function c(){var t=$("#user-current-picture").attr("src");m&&$("#user-gravatar-picture").attr("src",m),g&&$("#user-uploaded-picture").attr("src",g),$("#gravatar-box").toggle(!!m),$("#uploaded-box").toggle(!!g),$("#gravatar-box .fa-check").toggle(t!==g),$("#uploaded-box .fa-check").toggle(t===g)}function u(){function t(){return $("#inputSignature").length?"("+$("#inputSignature").val().length+"/"+config.maximumSignatureLength+")":""}$("#signatureCharCountLeft").html(t()),$("#inputSignature").on("keyup change",function(){$("#signatureCharCountLeft").html(t())})}function h(t,e){translator.translate(e,function(e){t.html(e),t.parent().removeClass("alert-success").addClass("alert-danger"),t.show()})}function d(t,e){translator.translate(e,function(e){t.html(e),t.parent().removeClass("alert-danger").addClass("alert-success"),t.show()})}var p,f={},m="",g="",v="";return f.init=function(){m=ajaxify.variables.get("gravatarpicture"),g=ajaxify.variables.get("uploadedpicture"),t.init(),$("#submitBtn").on("click",i),$("#inputBirthday").datepicker({changeMonth:!0,changeYear:!0,yearRange:"1900:+0"}),p=$("#inputEmail").val(),n(),r(),o(),a(),s(),u(),c()},f}),define("forum/account/favourites",["forum/account/header","forum/infinitescroll"],function(t,e){function i(t){0>t||e.loadMore("posts.loadMoreFavourites",{after:$(".user-favourite-posts").attr("data-nextstart")},function(t,e){t.posts&&t.posts.length?(n(t.posts,e),$(".user-favourite-posts").attr("data-nextstart",t.nextStart)):e()})}function n(t,i){e.parseAndTranslate("account/favourites","posts",{posts:t},function(t){$(".user-favourite-posts").append(t),t.find("img").addClass("img-responsive"),t.find("span.timeago").timeago(),app.createUserTooltips(),utils.makeNumbersHumanReadable(t.find(".human-readable-number")),i()})}var r={};return r.init=function(){t.init(),$(".user-favourite-posts img").addClass("img-responsive"),e.init(i)},r}),define("forum/account/followers",["forum/account/header"],function(t){var e={};return e.init=function(){t.init();var e=(ajaxify.variables.get("yourid"),ajaxify.variables.get("theirid"),ajaxify.variables.get("followersCount"));0===parseInt(e,10)&&$("#no-followers-notice").removeClass("hide")},e}),define("forum/account/following",["forum/account/header"],function(t){var e={};return e.init=function(){t.init();var e=ajaxify.variables.get("followingCount");0===parseInt(e,10)&&$("#no-following-notice").removeClass("hide")},e}),define("forum/account/header",function(){function t(){var t=ajaxify.variables.get("yourid"),e=ajaxify.variables.get("theirid");0!==parseInt(t,10)&&parseInt(t,10)===parseInt(e,10)?$("#editLink, #settingsLink, #favouritesLink").removeClass("hide"):$(".account-sub-links .plugin-link").each(function(){var t=$(this);t.toggleClass("hide",t.hasClass("private"))})}function e(){$(".account-sub-links li").removeClass("active").each(function(){var t=$(this).find("a").attr("href");return-1!==window.location.href.indexOf(t)?($(this).addClass("active"),!1):void 0})}var i={};return i.init=function(){t(),e()},i}),define("forum/account/posts",["forum/account/header","forum/infinitescroll"],function(t,e){function i(t){0>t||e.loadMore("posts.loadMoreUserPosts",{uid:$(".account-username-box").attr("data-uid"),after:$(".user-favourite-posts").attr("data-nextstart")},function(t,e){t.posts&&t.posts.length?(n(t.posts,e),$(".user-favourite-posts").attr("data-nextstart",t.nextStart)):e()})}function n(t,i){e.parseAndTranslate("account/posts","posts",{posts:t},function(t){$(".user-favourite-posts").append(t),t.find("img").addClass("img-responsive"),t.find("span.timeago").timeago(),app.createUserTooltips(),utils.makeNumbersHumanReadable(t.find(".human-readable-number")),i()})}var r={};return r.init=function(){t.init(),$(".user-favourite-posts img").addClass("img-responsive"),e.init(i)},r}),define("forum/account/profile",["forum/account/header","forum/infinitescroll"],function(t,e){function i(){$(".user-recent-posts img, .post-signature img").addClass("img-responsive")}function n(){var t=l===c||0===parseInt(l,10);$("#follow-btn").toggleClass("hide",u||t),$("#unfollow-btn").toggleClass("hide",!u||t),$("#chat-btn").toggleClass("hide",t)}function r(t){return socket.emit("user."+t,{uid:c},function(e){return e?app.alertError(e.message):($("#follow-btn").toggleClass("hide","follow"===t),$("#unfollow-btn").toggleClass("hide","unfollow"===t),void app.alertSuccess("[[global:alert."+t+", "+$(".account-username").html()+"]]"))}),!1}function o(t){var e=$(".account-online-status");parseInt(ajaxify.variables.get("theirid"),10)===parseInt(t.uid,10)&&translator.translate("[[global:"+t.status+"]]",function(i){e.attr("class","account-online-status fa fa-circle status "+t.status).attr("title",i).attr("data-original-title",i)})}function a(t){0>t||!$(".user-recent-posts").length||($(".loading-indicator").removeClass("hidden"),e.loadMore("user.loadMoreRecentPosts",{after:$(".user-recent-posts").attr("data-nextstart"),uid:c},function(t,e){t.posts&&t.posts.length?(s(t.posts,e),$(".user-recent-posts").attr("data-nextstart",t.nextStart)):e(),$(".loading-indicator").addClass("hidden")}))}function s(t,i){return t=t.filter(function(t){return!$(".user-recent-posts div[data-pid="+t.pid+"]").length}),t.length?void e.parseAndTranslate("account/profile","posts",{posts:t},function(t){$(".user-recent-posts .loading-indicator").before(t),t.find("span.timeago").timeago(),i()}):i()}var l,c,u,h={};return h.init=function(){t.init(),l=ajaxify.variables.get("yourid"),c=ajaxify.variables.get("theirid"),u=ajaxify.variables.get("isFollowing"),app.enterRoom("user/"+c),i(),n(),$("#follow-btn").on("click",function(){return r("follow")}),$("#unfollow-btn").on("click",function(){return r("unfollow")}),$("#chat-btn").on("click",function(){app.openChat($(".account-username").html(),c)}),socket.removeListener("event:user_status_change",o),socket.on("event:user_status_change",o),l!==c&&socket.emit("user.increaseViewCount",c),e.init(a)},h}),define("forum/account/settings",["forum/account/header"],function(t){var e={};return e.init=function(){t.init(),$("#submitBtn").on("click",function(){var t={};return $(".account").find("input, textarea, select").each(function(e,i){i=$(i);var n=i.attr("data-property");if(i.is("select"))return void(t[n]=i.val());switch(i.attr("type")){case"text":case"textarea":t[n]=i.val();break;case"checkbox":t[n]=i.is(":checked")?1:0}}),socket.emit("user.saveSettings",{uid:ajaxify.variables.get("theirid"),settings:t},function(t){return t?app.alertError(t.message):(app.alertSuccess("[[success:settings-saved]]"),app.loadConfig(),void(parseInt(app.uid,10)===parseInt(ajaxify.variables.get("theirid"),10)&&ajaxify.refresh()))}),!1}),socket.emit("user.getSettings",{uid:ajaxify.variables.get("theirid")},function(t,e){var i=$(".account").find("input, textarea, select");i.each(function(t,i){i=$(i);var n=i.attr("data-property");if(n){if(i.is("select"))return void i.val(e[n]);switch(i.attr("type")){case"text":case"textarea":i.val(e[n]);break;case"checkbox":i.prop("checked",!!e[n])}}})})},e}),define("forum/account/topics",["forum/account/header","forum/infinitescroll"],function(t,e){function i(t){0>t||e.loadMore("topics.loadMoreFromSet",{set:"uid:"+$(".account-username-box").attr("data-uid")+":topics",after:$(".user-topics").attr("data-nextstart")},function(t,e){t.topics&&t.topics.length?(n(t.topics,e),$(".user-topics").attr("data-nextstart",t.nextStart)):e()})}function n(t,i){e.parseAndTranslate("account/topics","topics",{topics:t},function(t){$("#topics-container").append(t),t.find("span.timeago").timeago(),app.createUserTooltips(),utils.makeNumbersHumanReadable(t.find(".human-readable-number")),i()})}var r={};return r.init=function(){t.init(),e.init(i)},r}),define("forum/groups/details",function(){var t={};return t.init=function(){var t=$(".groups.details .members");t.on("click","[data-slug]",function(){var t=this.getAttribute("data-slug");ajaxify.go("user/"+t)})},t}),define("forum/topic/browsing",function(){function t(t,e){translator.translate("[[global:"+e+"]]",function(i){t.siblings("i").attr("class","fa fa-circle status "+e).attr("title",i).attr("data-original-title",i)})}function e(t){var e=$(".thread_active_users"),i=e.find('a[data-uid="'+t.uid+'"]');i.length&&"offline"===t.status&&i.parent().remove()}function i(t){if(t.userslug){var e=$(".thread_active_users"),i=n(t.uid,t.picture,t.userslug,t.username);e.append(i),e.find("a[data-uid] img").tooltip({placement:"top"})}}function n(t,e,i,n){return $(".thread_active_users").find('[data-uid="'+t+'"]').length?void 0:$('<div class="inline-block"><a data-uid="'+t+'" data-count="1" href="'+config.relative_path+"/user/"+i+'"><img title="'+n+'" src="'+e+'"/></a></div>')}function r(){var t=$(".thread_active_users");socket.emit("modules.composer.getUsersByTid",ajaxify.variables.get("topic_id"),function(e,i){if(i&&i.length)for(var n=0;n<i.length;n++)t.find('[data-uid="'+i[n]+'"]').addClass("replying")})}var o={};return o.onUpdateUsersInRoom=function(t){if(t&&-1!==t.room.indexOf("topic_"+ajaxify.variables.get("topic_id"))){for(var e=0;e<t.users.length;++e)i(t.users[e]);r()}},o.onUserEnter=function(t){var e=$(".thread_active_users"),n=e.find('a[data-uid="'+t.uid+'"]');!n.length&&e.children().length<10?i(t):n.attr("data-count",parseInt(n.attr("data-count"),10)+1)},o.onUserLeave=function(t){var e=$(".thread_active_users"),i=e.find('a[data-uid="'+t+'"]');if(i.length){var n=Math.max(0,parseInt(i.attr("data-count"),10)-1);i.attr("data-count",n),0>=n&&i.remove()}},o.onUserStatusChange=function(i){t($('.username-field[data-uid="'+i.uid+'"]'),i.status),e(i)},o}),define("forum/topic/events",["forum/topic/browsing","forum/topic/postTools","forum/topic/threadTools"],function(t,e,i){function n(t){var e=$('li[data-pid="'+t.post.pid+'"] .votes'),i=$('.reputation[data-uid="'+t.post.uid+'"]');e.html(t.post.votes).attr("data-votes",t.post.votes),i.html(t.user.reputation).attr("data-reputation",t.user.reputation)}function r(t){$('li[data-pid="'+t.post.pid+'"] .favouriteCount').html(t.post.reputation).attr("data-favourites",t.post.reputation)}function o(t){i.setLockedState(t),i.setDeleteState(t)}function a(){ajaxify.go("category/"+ajaxify.variables.get("category_id"))}function s(t){t&&t.tid>0&&ajaxify.go("topic/"+t.tid)}function l(t){var e=$("#content_"+t.pid),i=$("#topic_title_"+t.pid);i.length&&i.fadeOut(250,function(){i.html(t.title).fadeIn(250)}),e.fadeOut(250,function(){e.html(t.content),e.find("img").addClass("img-responsive"),app.replaceSelfLinks(e.find("a")),e.fadeIn(250)}),t.tags&&t.tags.length!==$(".tags").first().children().length&&ajaxify.loadTemplate("partials/post_bar",function(e){var i=templates.parse(templates.getBlock(e,"tags"),{tags:t.tags}),n=$(".tags");n.fadeOut(250,function(){n.html(i).fadeIn(250)})})}function c(t){$('#post-container li[data-pid="'+t+'"]').fadeOut(500,function(){$(this).remove()})}function u(t){var i=$('#post-container li[data-pid="'+t.pid+'"]');if(i.length){i.toggleClass("deleted");var n=i.hasClass("deleted");e.toggle(t.pid,n),app.isAdmin||parseInt(t.uid,10)===parseInt(app.uid,10)||(n?i.find(".post-content").translateHtml("[[topic:post_is_deleted]]"):i.find(".post-content").html(t.content)),e.updatePostCount()}}function h(t){var e=$('li[data-pid="'+t.post.pid+'"] .favourite');if(e.length){e.addClass("btn-warning").attr("data-favourited",t.isFavourited);var i=e.find("i"),n=i.attr("class");(t.isFavourited?-1!==n.indexOf("-o"):-1===n.indexOf("-o"))&&i.attr("class",t.isFavourited?n.replace("-o",""):n+"-o")}}function d(t){var e=$('li[data-pid="'+t.post.pid+'"]');e.find(".upvote").toggleClass("btn-primary upvoted",t.upvote),e.find(".downvote").toggleClass("btn-primary downvoted",t.downvote)}function p(t){$('.thread_active_users [data-uid="'+t.uid+'"]').toggleClass("replying",t.isReplying)}var f={},m={"event:update_users_in_room":t.onUpdateUsersInRoom,"event:user_enter":t.onUserEnter,"event:user_leave":t.onUserLeave,"event:user_status_change":t.onUserStatusChange,"event:voted":n,"event:favourited":r,"event:topic_deleted":o,"event:topic_restored":o,"event:topic_purged":a,"event:topic_locked":i.setLockedState,"event:topic_unlocked":i.setLockedState,"event:topic_pinned":i.setPinnedState,"event:topic_unpinned":i.setPinnedState,"event:topic_moved":s,"event:post_edited":l,"event:post_purged":c,"event:post_deleted":u,"event:post_restored":u,"posts.favourite":h,"posts.unfavourite":h,"posts.upvote":d,"posts.downvote":d,"posts.unvote":d,"event:topic.toggleReply":p};return f.init=function(){f.removeListeners();for(var t in m)m.hasOwnProperty(t)&&socket.on(t,m[t])},f.removeListeners=function(){for(var t in m)m.hasOwnProperty(t)&&socket.removeListener(t,m[t])},f}),define("forum/topic/fork",function(){function t(){s=$("#fork-thread-modal"),l=s.find("#fork_thread_commit"),u.length=0,e(),r(),s.find(".close,#fork_thread_cancel").on("click",a),s.find("#fork-title").on("change",o),$("#post-container").on("click","li[data-pid]",function(){n($(this))}),l.on("click",i)}function e(){s.removeClass("hide").css("position","fixed").css("left",Math.max(0,($(window).width()-$(s).outerWidth())/2+$(window).scrollLeft())+"px").css("top","0px").css("z-index","2000")}function i(){socket.emit("topics.createTopicFromPosts",{title:s.find("#fork-title").val(),pids:u},function(t,e){function i(t){$('#post-container li[data-pid="'+t+'"]').fadeOut(500,function(){$(this).remove()})}if(t)return app.alertError(t.message);app.alert({timeout:5e3,title:"[[global:alert.success]]",message:"[[topic:fork_success]]",type:"success",clickfn:function(){ajaxify.go("topic/"+e.slug)}});for(var n=0;n<u.length;++n)i(u[n]);a()})}function n(t){var e=t.attr("data-pid");if(0!==parseInt(t.attr("data-index"),10)&&e){var i=u.indexOf(e);-1===i?(u.push(e),t.css("opacity","0.5")):(u.splice(i,1),t.css("opacity","1.0")),u.length?(u.sort(),s.find("#fork-pids").html(u.toString())):r(),o()}}function r(){s.find("#fork-pids").translateHtml("[[topic:fork_no_pids]]")}function o(){s.find("#fork-title").length&&u.length?l.removeAttr("disabled"):l.attr("disabled",!0)}function a(){for(var t=0;t<u.length;++t)$('#post-container li[data-pid="'+u[t]+'"]').css("opacity",1);s.addClass("hide"),$("#post-container").off("click","li[data-pid]")}var s,l,c={},u=[];return c.init=function(){$(".fork_thread").on("click",t)},c}),define("forum/topic/move",function(){function t(){var t=$("#categories-loading");t.length&&socket.emit("categories.get",e)}function e(t,e){return t?app.alertError(t.message):(o(e),a.on("click",".category-list li[data-cid]",function(){i($(this))}),void $("#move_thread_commit").on("click",n))}function i(t){a.find("#confirm-category-name").html(t.html()),$("#move-confirm").show(),s=t.attr("data-cid"),l=t.html(),$("#move_thread_commit").prop("disabled",!1)}function n(){var t=$("#move_thread_commit");!t.prop("disabled")&&s&&(t.prop("disabled",!0),r())}function r(){socket.emit(c.moveAll?"topics.moveAll":"topics.move",{tids:c.tids,cid:s,currentCid:c.currentCid},function(t){return a.modal("hide"),$("#move_thread_commit").prop("disabled",!1),t?app.alertError(t.message):(app.alertSuccess("[[topic:topic_move_success, "+l+"]]"),void("function"==typeof c.onComplete&&c.onComplete()))})}function o(t){templates.parse("partials/category_list",{categories:t},function(t){a.find(".modal-body").prepend(t),$("#categories-loading").remove()})}var a,s,l,c={};return c.init=function(e,i,n){a=$("#move_thread_modal"),c.tids=e,c.currentCid=i,c.onComplete=n,c.moveAll=e?!1:!0,a.on("shown.bs.modal",t),$("#move-confirm").hide(),(c.moveAll||e&&e.length>1)&&a.find(".modal-header h3").translateText("[[topic:move_topics]]"),a.modal("show")},c}),define("forum/topic/postTools",["composer","share","navigator"],function(t,e,i){function n(){$("#post-container").on("mouseenter",".post-row .votes",function(){r($(this),"posts.getUpvoters")})}function r(t,e){var i=t.parents(".post-row").attr("data-pid");socket.emit(e,i,function(e,i){e||o(t,i)})}function o(t,e){var i=e.usernames;i.length&&(i.length+e.otherCount>6?(i=i.join(", ").replace(/,/g,"|"),translator.translate("[[topic:users_and_others, "+i+", "+e.otherCount+"]]",function(e){e=e.replace(/\|/g,","),t.attr("title",e).tooltip("destroy").tooltip("show")})):(i=i.join(", "),t.attr("title",i).tooltip("destroy").tooltip("show")))}function a(e,i){$(".topic").on("click",".post_reply",function(){i.locked||s($(this),e,_)});var n=$("#post-container");n.on("click",".quote",function(){i.locked||l($(this),e,_)}),n.on("click",".favourite",function(){c($(this),h($(this),"data-pid"))}),n.on("click",".upvote",function(){return u($(this),".upvoted","posts.upvote")}),n.on("click",".downvote",function(){return u($(this),".downvoted","posts.downvote")}),n.on("click",".flag",function(){b(h($(this),"data-pid"))}),n.on("click",".edit",function(){t.editPost(h($(this),"data-pid"))}),n.on("click",".delete",function(){p($(this),e)}),n.on("click",".purge",function(){f($(this),e)}),n.on("click",".move",function(){g($(this))}),n.on("click",".chat",function(){w($(this))})}function s(e,i,n){var r="",o=window.getSelection?window.getSelection():document.selection.createRange();if($(o.baseNode).parents(".post-content").length>0){var a=o.toString();a.length&&(r="> "+a.replace(/\n/g,"\n> ")+"\n\n")}var s=d(r?$(o.baseNode):e);"0"===h(e,"data-uid")&&(s=""),r.length?t.addQuote(i,ajaxify.variables.get("topic_slug"),h(e,"data-index"),h(e,"data-pid"),n,s,r):t.newReply(i,h(e,"data-pid"),n,s?s+" ":"")}function l(e,i,n){var r=d(e),o=h(e,"data-pid");socket.emit("posts.getRawPost",o,function(a,s){if(a)return app.alertError(a.message);var l="";s&&(l="> "+s.replace(/\n/g,"\n> ")+"\n\n"),$(".composer").length?t.addQuote(i,ajaxify.variables.get("topic_slug"),h(e,"data-index"),o,n,r,l):t.newReply(i,o,n,"[[modules:composer.user_said, "+r+"]]\n"+l)})}function c(t,e){var i="false"===t.attr("data-favourited")?"posts.favourite":"posts.unfavourite";return socket.emit(i,{pid:e,room_id:app.currentRoom},function(t){t&&app.alertError(t.message)}),!1}function u(t,e,i){var n=t.parents(".post-row"),r=n.find(e).length;return socket.emit(r?"posts.unvote":i,{pid:n.attr("data-pid"),room_id:app.currentRoom},function(t){t&&app.alertError(t.message)}),!1}function h(t,e){return t.parents(".post-row").attr(e)}function d(t){var e="",i=t.parents("li[data-pid]");return i.length&&(e=i.attr("data-username").replace(/\s/g,"-")),i.length&&"0"!==i.attr("data-uid")&&(e="@"+e),e}function p(t,e){var i=h(t,"data-pid"),n=$('#post-container li[data-pid="'+i+'"]'),r=n.hasClass("deleted")?"restore":"delete";m(r,i,e)}function f(t,e){m("purge",h(t,"data-pid"),e)}function m(t,e,i){translator.translate("[[topic:post_"+t+"_confirm]]",function(n){bootbox.confirm(n,function(n){n&&socket.emit("posts."+t,{pid:e,tid:i},function(t){t&&app.alertError(t.message)})})})}function g(t){var e=$("#move-post-modal"),i=e.find("#move_post_commit"),n=e.find("#topicId");v(),e.find(".close,#move_post_cancel").on("click",function(){e.addClass("hide")}),n.on("change",function(){n.val().length?i.removeAttr("disabled"):i.attr("disabled",!0)}),i.on("click",function(){y(t.parents(".post-row"),h(t,"data-pid"),n.val())})}function v(){$("#move-post-modal").removeClass("hide").css("position","fixed").css("left",Math.max(0,($(window).width()-$($("#move-post-modal")).outerWidth())/2+$(window).scrollLeft())+"px").css("top","0px").css("z-index","2000")}function y(t,e,i){socket.emit("topics.movePost",{pid:e,tid:i},function(e){return $("#move-post-modal").addClass("hide"),e?($("#topicId").val(""),app.alertError(e.message)):(t.fadeOut(500,function(){t.remove()}),$("#topicId").val(""),void app.alertSuccess("[[topic:post_moved]]"))})}function b(t){translator.translate("[[topic:flag_confirm]]",function(e){bootbox.confirm(e,function(e){e&&socket.emit("posts.flag",t,function(t){return t?app.alertError(t.message):void app.alertSuccess("[[topic:flag_success]]")})})})}function w(t){var e=t.parents("li.post-row");return app.openChat(e.attr("data-username"),e.attr("data-uid")),t.parents(".btn-group").find(".dropdown-toggle").click(),!1}var _,x={};return x.init=function(t,i){_=ajaxify.variables.get("topic_name"),a(t,i),e.addShareHandlers(_),n()},x.toggle=function(t,e){var i=$('#post-container li[data-pid="'+t+'"]');i.find(".quote, .favourite, .post_reply, .chat").toggleClass("none",e),i.find(".purge").toggleClass("none",!e),i.find(".delete .i").toggleClass("fa-trash-o",!e).toggleClass("fa-history",e),i.find(".delete span").translateHtml(e?" [[topic:restore]]":" [[topic:delete]]")},x.updatePostCount=function(){socket.emit("topics.postcount",ajaxify.variables.get("topic_id"),function(t,e){t||($(".topic-post-count").html(e),i.setCount(e))})},x}),define("forum/topic/threadTools",["forum/topic/fork","forum/topic/move"],function(t,e){function i(t,e){translator.translate("[[topic:thread_tools."+t+"_confirm]]",function(i){bootbox.confirm(i,function(i){i&&socket.emit("topics."+t,{tids:[e],cid:ajaxify.variables.get("category_id")})})})}function n(t){$(".posts .follow").toggleClass("btn-success",t).attr("title",t?"You are currently receiving updates to this topic":"Be notified of new replies in this topic")}var r={};return r.init=function(o,a){r.threadState=a,a.locked&&r.setLockedState({tid:o,isLocked:!0}),a.deleted&&r.setDeleteState({tid:o,isDelete:!0}),a.pinned&&r.setPinnedState({tid:o,isPinned:!0}),$(".delete_thread").on("click",function(){return i(a.deleted?"restore":"delete",o),!1}),$(".purge_thread").on("click",function(){return i("purge",o),!1}),$(".lock_thread").on("click",function(){return socket.emit(a.locked?"topics.unlock":"topics.lock",{tids:[o],cid:ajaxify.variables.get("category_id")}),!1}),$(".pin_thread").on("click",function(){return socket.emit(a.pinned?"topics.unpin":"topics.pin",{tids:[o],cid:ajaxify.variables.get("category_id")}),!1}),$(".markAsUnreadForAll").on("click",function(){var t=$(this);return socket.emit("topics.markAsUnreadForAll",[o],function(e){return e?app.alertError(e.message):(app.alertSuccess("[[topic:markAsUnreadForAll.success]]"),void t.parents(".thread-tools.open").find(".dropdown-toggle").trigger("click"))}),!1}),$(".move_thread").on("click",function(){return e.init([o],ajaxify.variables.get("category_id")),!1}),t.init(),socket.emit("topics.followCheck",o,function(t,e){n(e)}),$(".posts").on("click",".follow",function(){return socket.emit("topics.follow",o,function(t,e){return t?app.alert({type:"danger",alert_id:"topic_follow",title:"[[global:please_log_in]]",message:"[[topic:login_to_subscribe]]",timeout:5e3}):(n(e),void app.alert({alert_id:"follow_thread",message:e?"[[topic:following_topic.message]]":"[[topic:not_following_topic.message]]",type:"success",timeout:5e3}))}),!1})},r.setLockedState=function(t){var e=$("#post-container");if(parseInt(t.tid,10)===parseInt(e.attr("data-tid"),10)){var i=t.isLocked&&!app.isAdmin;$(".lock_thread").translateHtml('<i class="fa fa-fw fa-'+(t.isLocked?"un":"")+'lock"></i> [[topic:thread_tools.'+(t.isLocked?"un":"")+"lock]]"),translator.translate(i?"[[topic:locked]]":"[[topic:reply]]",function(t){var n=i?"fa-lock":"fa-reply";e.find(".post_reply").html('<i class="fa '+n+'"></i> '+t),$(".topic-main-buttons .post_reply").attr("disabled",i).html(i?'<i class="fa fa-lock"></i> '+t:t)}),e.find(".quote, .edit, .delete").toggleClass("none",i),$(".topic-title i.fa-lock").toggleClass("hide",!t.isLocked),r.threadState.locked=t.isLocked}},r.setDeleteState=function(t){var e=$("#post-container");parseInt(t.tid,10)===parseInt(e.attr("data-tid"),10)&&($(".delete_thread span").translateHtml('<i class="fa fa-fw '+(t.isDelete?"fa-history":"fa-trash-o")+'"></i> [[topic:thread_tools.'+(t.isDelete?"restore":"delete")+"]]"),e.toggleClass("deleted",t.isDelete),r.threadState.deleted=t.isDelete,$(".purge_thread").toggleClass("none",!t.isDelete),t.isDelete?translator.translate("[[topic:deleted_message]]",function(t){$('<div id="thread-deleted" class="alert alert-warning">'+t+"</div>").insertBefore(e)}):$("#thread-deleted").remove())},r.setPinnedState=function(t){var e=$("#post-container");parseInt(t.tid,10)===parseInt(e.attr("data-tid"),10)&&(translator.translate('<i class="fa fa-fw fa-thumb-tack"></i> [[topic:thread_tools.'+(t.isPinned?"unpin":"pin")+"]]",function(e){$(".pin_thread").html(e),r.threadState.pinned=t.isPinned}),$(".topic-title i.fa-thumb-tack").toggleClass("hide",!t.isPinned))},r}),define("alerts",function(){function t(t){templates.parse("alert",t,function(r){translator.translate(r,function(r){var o=$("#"+t.alert_id);return o.length?e(o,t):(o=$(r),o.fadeIn(200),$(".alert-"+t.location).prepend(o),"function"==typeof t.closefn&&o.find("button").on("click",function(){return t.closefn(),i(o),!1}),t.timeout&&n(o,t.timeout),void("function"==typeof t.clickfn&&o.addClass("pointer").on("click",function(e){$(e.target).is(".close")||t.clickfn(),i(o)})))})})}function e(t,e){t.find("strong").html(e.title),t.find("p").html(e.message),t.attr("class","alert alert-dismissable alert-"+e.type),clearTimeout(parseInt(t.attr("timeoutId"),10)),e.timeout&&n(t,e.timeout),t.children().fadeOut(100),translator.translate(t.html(),function(e){t.children().fadeIn(100),t.html(e)})}function i(t){t.fadeOut(500,function(){$(this).remove()})}function n(t,e){var n=setTimeout(function(){i(t)},e);t.attr("timeoutId",n)}var r={};return r.alert=function(i){i.alert_id="alert_button_"+(i.alert_id?i.alert_id:(new Date).getTime()),i.title=i.title?i.title.trim()||"":"",i.message=i.message.trim(),i.location=i.location||"right-top",i.type=i.type||"info";var n=$("#"+i.alert_id);n.length?e(n,i):t(i)},r.remove=function(t){$("#alert_button_"+t).remove()},r}),define("chat",["taskbar","string","sounds","forum/chats"],function(t,e,i,n){function r(t){socket.emit("user.checkStatus",t.attr("touid"),function(t,e){return t?app.alertError(t.message):void o(e)})}function o(t){translator.translate("[[global:"+t+"]]",function(e){$("#chat-user-status").attr("class","fa fa-circle status "+t).attr("title",e).attr("data-original-title",e)})}function a(t,e){socket.emit("modules.chats.get",{touid:t.attr("touid"),since:"day"},function(i,n){c.appendChatMessage(t,n,e)})}function s(t,e,i){socket.emit("modules.chats.get",{touid:t.attr("touid"),since:e},function(e,n){var r=t.find("#chat-content");r.find(".chat-message").remove(),c.appendChatMessage(t,n,i)})}function l(t){var e=t.find("#chat-message-input");e.off("keypress").on("keypress",function(e){13===e.which&&n.sendMessage(t.attr("touid"),t.find("#chat-message-input"))}),e.off("keyup").on("keyup",function(){var e=!!$(this).val();e&&"true"===$(this).attr("data-typing")||!e&&"false"===$(this).attr("data-typing")||(n.notifyTyping(t.attr("touid"),e),$(this).attr("data-typing",e))}),t.find("#chat-message-send-btn").off("click").on("click",function(){return n.sendMessage(t.attr("touid"),t.find("#chat-message-input")),!1})}var c={},u=!1;return c.prepareDOM=function(){var e=$("#chat_dropdown"),r=$("#chat-list");e.on("click",function(){e.parent().hasClass("open")||socket.emit("modules.chats.getRecentChats",{after:0},function(t,e){if(t)return app.alertError(t.message);e=e.users;var i;if(r.empty(),!e.length)return void translator.translate("[[modules:chat.no_active]]",function(t){$("<li />").addClass("no_active").html('<a href="#">'+t+"</a>").appendTo(r)});for(var n=0;n<e.length;++n)i=e[n],$('<li class="'+(i.unread?"unread":"")+'"/>').attr("data-uid",i.uid).html("<a href=\"javascript:app.openChat('"+i.username+"', "+i.uid+');"><img src="'+i.picture+'" title="'+i.username+'" /><i class="fa fa-circle status '+i.status+'"></i> '+i.username+"</a>").appendTo(r);var o='<li class="pagelink"><a href="'+config.relative_path+'/chats">[[modules:chat.see_all]]</a></li>';translator.translate(o,function(t){$(t).appendTo(r)})})}),socket.on("event:chats.receive",function(e){if("chats/"!==ajaxify.currentPage.slice(0,6)){var r=e.message.fromUser.username,o=parseInt(e.message.fromUser.uid,10)===parseInt(app.uid,10);if(e.message.self=e.self,o&&(r=e.message.toUser.username),u=0===e.self,c.modalExists(e.withUid)){var a=c.getModal(e.withUid);c.appendChatMessage(a,e.message),a.is(":visible")?(c.bringModalToTop(a),t.updateActive(a.attr("UUID")),n.scrollToBottom(a.find("#chat-content"))):c.toggleNew(a.attr("UUID"),!0),o||a.is(":visible")&&app.isFocused||(app.alternatingTitle("[[modules:chat.user_has_messaged_you, "+r+"]]"),i.play("chat-incoming"))
}else c.createModal(r,e.withUid,function(t){c.toggleNew(t.attr("UUID"),!0),o||(app.alternatingTitle("[[modules:chat.user_has_messaged_you, "+r+"]]"),i.play("chat-incoming"))})}}),socket.on("event:chats.userStartTyping",function(t){var e=c.getModal(t),i=e.find("#chat-content");if(i.length){var r=i[0].scrollHeight-i.scrollTop()===i.innerHeight();e.find(".user-typing").removeClass("hide"),r&&n.scrollToBottom(i)}}),socket.on("event:chats.userStopTyping",function(t){var e=c.getModal(t);e.find(".user-typing").addClass("hide")}),socket.on("event:user_status_change",function(t){o(t.status)})},c.bringModalToTop=function(e){var i=0;$(".chat-modal").each(function(){var t=parseInt($(this).css("zIndex"),10);t>i&&(i=t)}),e.css("zIndex",i+1),t.updateActive(e.attr("UUID"))},c.getModal=function(t){return $("#chat-modal-"+t)},c.modalExists=function(t){return 0!==$("#chat-modal-"+t).length},c.createModal=function(e,i,n){templates.parse("chat",{},function(o){translator.translate(o,function(o){var h=$(o),d=utils.generateUUID();h.attr("id","chat-modal-"+i),h.attr("touid",i),h.attr("intervalId",0),h.attr("UUID",d),h.css("position","fixed"),h.appendTo($("body")),h.draggable({start:function(){c.bringModalToTop(h)},stop:function(){h.find("#chat-message-input").focus()},distance:10,handle:".modal-header"}),h.find(".modal-content").resizable({minHeight:250,minWidth:400}),h.find(".modal-content").on("resize",function(t,e){if(e.originalSize.height!==e.size.height){var i=h.find(".modal-content").outerHeight()-h.find(".modal-header").outerHeight(),n=parseInt(h.find(".modal-body").css("padding-top"),10)+parseInt(h.find(".modal-body").css("padding-bottom"),10),r=parseInt(h.find("#chat-content").css("margin-top"),10)+parseInt(h.find("#chat-content").css("margin-bottom"),10),o=h.find(".since-bar").outerHeight(!0),a=h.find(".input-group").outerHeight();h.find("#chat-content").css("height",i-n-r-o-a)}}),h.find("#chat-with-name").html(e),h.find("#chat-close-btn").on("click",function(){c.close(h)}),h.find('button[data-action="maximize"]').on("click",function(){ajaxify.go("chats/"+utils.slugify(e)),c.close(h)}),h.on("click",function(){c.bringModalToTop(h)}),h.on("mousemove keypress click",function(){u&&(socket.emit("modules.chats.markRead",i),u=!1)}),h.find("[data-since]").on("click",function(){var t=$(this).attr("data-since");return h.find("[data-since]").removeClass("selected"),$(this).addClass("selected"),s(h,t),!1}),l(h),a(h,function(){r(h)}),h.find(".user-typing .text").translateText("[[modules:chat.user_typing, "+e+"]]"),t.push("chat",h.attr("UUID"),{title:e,icon:"fa-comment",state:""}),$(window).trigger("action:chat.loaded",h),n(h)})})},c.close=function(e){clearInterval(e.attr("intervalId")),e.attr("intervalId",0),e.remove(),e.data("modal",null),t.discard("chat",e.attr("UUID")),n.notifyTyping(e.attr("touid"),!1)},c.center=function(t){return t.css("left",Math.max(0,($(window).width()-$(t).outerWidth())/2+$(window).scrollLeft())+"px"),t.css("top",Math.max(0,$(window).height()/4-$(t).outerHeight()/2)),t.css("zIndex",100),t.find("#chat-message-input").focus(),t},c.load=function(e){var i=$('div[UUID="'+e+'"]');i.removeClass("hide"),r(i),t.updateActive(e),n.scrollToBottom(i.find("#chat-content")),c.center(i),c.bringModalToTop(i),socket.emit("modules.chats.markRead",i.attr("touid"))},c.minimize=function(e){var i=$('div[UUID="'+e+'"]');i.addClass("hide"),t.minimize("chat",e),clearInterval(i.attr("intervalId")),i.attr("intervalId",0),n.notifyTyping(i.attr("touid"),!1)},c.appendChatMessage=function(t,e,i){var r=t.find("#chat-content"),o=t.find(".user-typing");n.parseMessage(e,function(t){var e=$(t);e.find('img:not(".chat-user-image")').addClass("img-responsive"),e.find("span.timeago").timeago(),e.insertBefore(o),n.scrollToBottom(r),"function"==typeof i&&i()})},c.toggleNew=function(e,i){t.toggleNew(e,i)},c});var dependencies=["taskbar","composer/controls","composer/uploads","composer/formatting","composer/drafts","composer/tags","composer/categoryList","composer/preview","composer/resize"];define("composer",dependencies,function(t,e,i,n,r,o,a,s,l){function c(){void 0!==x.active&&l.reposition($("#cmp-uuid-"+x.active))}function u(t){var e,i;t.hasOwnProperty("cid")?e="cid":t.hasOwnProperty("tid")?e="tid":t.hasOwnProperty("pid")&&(e="pid"),i=t[e];for(var n in x.posts)if(x.posts[n].hasOwnProperty(e)&&i===x.posts[n][e])return n;return!1}function h(e){var i=utils.generateUUID(),n=u(e);return n?(t.updateActive(n),x.load(n)):(translator.translate("[[topic:composer.new_topic]]",function(n){t.push("composer",i,{title:e.title?e.title:n})}),0!==parseInt(app.uid,10)&&(e.hasOwnProperty("cid")?e.save_id=["composer",app.uid,"cid",e.cid].join(":"):e.hasOwnProperty("tid")?e.save_id=["composer",app.uid,"tid",e.tid].join(":"):e.hasOwnProperty("pid")&&(e.save_id=["composer",app.uid,"pid",e.pid].join(":"))),x.posts[i]=e,void x.load(i))}function d(t){$(".action-bar button").removeAttr("disabled"),app.alert({type:"danger",timeout:3e3,title:"",message:t,alert_id:"post_error"})}function p(t){var e=config.allowTopicsThumbnail&&x.posts[t].isMain&&(config.hasImageUploadPlugin||config.allowFileUploads),c=x.posts[t]?!!x.posts[t].cid:!1,u=x.posts[t]?!!x.posts[t].isMain:!1;x.bsEnvironment=utils.findBootstrapEnvironment();var h="xs"===x.bsEnvironment||"sm"===x.bsEnvironment?"composer-mobile":"composer",d={allowTopicsThumbnail:e,showTags:c||u,isTopic:c};f(h,d,function(c){c=$(c),c.attr("id","cmp-uuid-"+t),$(document.body).append(c);var u=$(c[0]),h=x.posts[t],d=u.find("textarea"),p=r.getDraft(h.save_id);o.init(u,x.posts[t]),a.init(u,x.posts[t]),g(h,u),v(t),l.reposition(u),(config.allowFileUploads||config.hasImageUploadPlugin)&&i.initialize(t),n.addHandler(u),e&&i.toggleThumbEls(u,x.posts[t].topic_thumb||""),u.on("change","input, textarea",function(){x.posts[t].modified=!0}),u.on("click",'.action-bar button[data-action="post"]',function(){$(this).attr("disabled",!0),b(t)}),u.on("click",'.action-bar button[data-action="discard"]',function(){return x.posts[t].modified?void translator.translate("[[modules:composer.discard]]",function(e){bootbox.confirm(e,function(e){e&&_(t)})}):void _(t)}),d.on("input propertychange",function(){s.render(u)}),d.on("scroll",function(){s.matchScroll(u)}),d.val(p?p:h.body),s.render(u,function(){s.matchScroll(u)}),r.init(u,h),l.handleResize(u),m(u),$(window).trigger("action:composer.loaded",{post_uuid:t}),n.addComposerButtons(),y(u)})}function f(t,e,i){templates.parse(t,e,function(t){translator.translate(t,i)})}function m(t){var e=t.find(".help");socket.emit("modules.composer.renderHelp",function(t,i){!t&&i&&i.length>0&&(e.removeClass("hidden"),e.on("click",function(){bootbox.alert(i)}))})}function g(t,e){var i=e.find(".title");parseInt(t.tid,10)>0?(i.translateVal("[[topic:composer.replying_to, "+t.title+"]]"),i.prop("disabled",!0)):parseInt(t.pid,10)>0?(i.val(t.title),i.prop("disabled",!0),socket.emit("modules.composer.editCheck",t.pid,function(t,e){!t&&e.titleEditable&&i.prop("disabled",!1)})):(i.val(t.title),i.prop("disabled",!1))}function v(t){x.active&&x.active!==t&&x.minimize(x.active),x.active=t}function y(t){var e=t.find(".title"),i=t.find("textarea");e.is(":disabled")?i.focus().putCursorAtEnd():e.focus()}function b(t){function e(e){return $(".action-bar button").removeAttr("disabled"),e?"[[error:email-not-confirmed]]"===e.message?w(e):app.alertError(e.message):(_(t),r.removeDraft(n.save_id),void $(window).trigger("action:composer."+h,p))}var n=x.posts[t],a=$("#cmp-uuid-"+t),s=a.find(".title"),l=a.find("textarea"),c=a.find("input#topic-thumb-url");s.val(s.val().trim()),l.val(l.val().trim()),c.length&&c.val(c.val().trim());var u=parseInt(n.cid,10)||parseInt(n.pid,10);if(i.inProgress[t]&&i.inProgress[t].length)return d("[[error:still-uploading]]");if(u&&s.val().length<parseInt(config.minimumTitleLength,10))return d("[[error:title-too-short, "+config.minimumTitleLength+"]]");if(u&&s.val().length>parseInt(config.maximumTitleLength,10))return d("[[error:title-too-long, "+config.maximumTitleLength+"]]");if(u&&!utils.slugify(s.val()).length)return d("[[error:invalid-title]]");if(l.val().length<parseInt(config.minimumPostLength,10))return d("[[error:content-too-short, "+config.minimumPostLength+"]]");var h,p={};parseInt(n.cid,10)>0?(p={title:s.val(),content:l.val(),topic_thumb:c.val()||"",category_id:n.cid,tags:o.getTags(t)},h="topics.post",socket.emit(h,p,function(t,i){e(t),t||ajaxify.go("topic/"+i.slug)})):parseInt(n.tid,10)>0?(p={tid:n.tid,content:l.val(),toPid:n.toPid},h="posts.reply",socket.emit(h,p,e)):parseInt(n.pid,10)>0&&(p={pid:n.pid,content:l.val(),title:s.val(),topic_thumb:c.val()||"",tags:o.getTags(t)},h="posts.edit",socket.emit(h,p,e))}function w(t){app.alert({id:"email_confirm",title:"[[global:alert.error]]",message:t.message,type:"danger",timeout:0,clickfn:function(){app.removeAlert("email_confirm"),socket.emit("user.emailConfirm",{},function(t){return t?app.alertError(t.message):void app.alertSuccess("[[notifications:email-confirm-sent]]")})}})}function _(e){x.posts[e]&&($("#cmp-uuid-"+e).remove(),r.removeDraft(x.posts[e].save_id),delete x.posts[e],x.active=void 0,t.discard("composer",e),$("body").css({"margin-bottom":0}),$(".action-bar button").removeAttr("disabled"),app.toggleNavbar(!0),socket.emit("modules.composer.unregister",e))}var x={active:void 0,posts:{},bsEnvironment:void 0};return socket.on("event:composer.ping",function(t){x.active===t&&socket.emit("modules.composer.pingActive",t)}),$(window).off("resize",c).on("resize",c),x.addButton=function(t,e){n.addButton(t,e)},x.newTopic=function(t){h({cid:t,title:"",body:"",modified:!1,isMain:!0})},x.addQuote=function(t,e,i,n,r,o,a){function l(t){x.posts[c].body=(d.length?d+"\n\n":"")+t+a,h.val(x.posts[c].body),y(u),s.render(u)}var c=x.active;if(void 0===c)return void x.newReply(t,n,r,"[[modules:composer.user_said, "+o+"]]\n"+a);var u=$("#cmp-uuid-"+c),h=u.find("textarea"),d=h.val();if(parseInt(t,10)!==parseInt(x.posts[c].tid,10)){var p="["+r+"](/topic/"+e+"/"+(parseInt(i,10)+1)+")";translator.translate("[[modules:composer.user_said_in, "+o+", "+p+"]]\n",config.defaultLang,l)}else translator.translate("[[modules:composer.user_said, "+o+"]]\n",config.defaultLang,l)},x.newReply=function(t,e,i,n){translator.translate(n,config.defaultLang,function(n){h({tid:t,toPid:e,title:i,body:n,modified:!1,isMain:!1})})},x.editPost=function(t){socket.emit("modules.composer.push",t,function(e,i){return e?app.alertError(e.message):void h({pid:t,title:$("<div/>").html(i.title).text(),body:i.body,modified:!1,isMain:i.isMain,topic_thumb:i.topic_thumb,tags:i.tags})})},x.load=function(t){var e=$("#cmp-uuid-"+t);e.length?(v(t),l.reposition(e),y(e)):p(t);var i=x.posts[t];i.tid&&socket.emit("modules.composer.register",{uuid:t,tid:i.tid,uid:app.uid})},x.minimize=function(e){var i=$("#cmp-uuid-"+e);i.css("visibility","hidden"),x.active=void 0,t.minimize("composer",e),socket.emit("modules.composer.unregister",e)},x}),define("navigator",["forum/pagination"],function(t){function e(t){var e=window.location.pathname.split("/");return e[1]+"/"+e[2]+"/"+e[3]+(t?"/"+t:"")}function i(t){var e=ajaxify.removeRelativePath(window.location.pathname.slice(1));(!t||e.startsWith("topic")||e.startsWith("category"))&&$(".pagination-block").toggleClass("hidden",!t)}function n(t){var e=$(window).scrollTop()+$("#header-menu").height(),i=e+$(window).height(),n=t.offset().top,r=n+Math.floor(t.height());return n>=e&&i>=r||e>=n&&r>=e}function r(t,e,i,n){function r(){$("html, body").animate({scrollTop:s.offset().top-$("#header-menu").height()-n+"px"},i,function(){l||(l=!0,o.scrollActive=!1,o.update(),a(),$("body").scrollTop($("body").scrollTop()-1),$("html").scrollTop($("html").scrollTop()-1))})}function a(){e&&(s.parent().find(".topic-item").addClass("highlight"),setTimeout(function(){s.parent().find(".topic-item").removeClass("highlight")},3e3))}var s=$("#post_anchor_"+t);if(!s)return void(o.scrollActive=!1);var l=!1;$("#post-container").length&&r()}var o={},a=1,s=0;return o.scrollActive=!1,o.init=function(t,i,n,r,s,l){a=1,o.selector=t,o.callback=s,n=n||function(){},r=r||function(){},$(window).on("scroll",o.update),$(".pagination-block .dropdown-menu").off("click").on("click",function(t){t.stopPropagation()}),$(".pagination-block").off("shown.bs.dropdown",".dropdown").on("shown.bs.dropdown",".dropdown",function(){setTimeout(function(){$(".pagination-block input").focus()},100)}),$(".pagination-block .pageup").off("click").on("click",o.scrollUp),$(".pagination-block .pagedown").off("click").on("click",o.scrollDown),$(".pagination-block .pagetop").off("click").on("click",n),$(".pagination-block .pagebottom").off("click").on("click",r),$(".pagination-block input").on("keydown",function(t){if(13===t.which){var n=$(this);if(!utils.isNumber(n.val()))return void n.val("");var r=parseInt(n.val(),10);"function"==typeof l&&(r=l(r,i));var o=e(r);n.val(""),$(".pagination-block .dropdown-toggle").trigger("click"),ajaxify.go(o)}}),o.setCount(i),o.update()},o.setCount=function(t){s=parseInt(t,10),o.updateTextAndProgressBar()},o.show=function(){i(!0)},o.hide=function(){i(!1)},o.update=function(){i(!!s),$($(o.selector).get().reverse()).each(function(){var t=$(this);return n(t)?("function"==typeof o.callback&&(a=o.callback(t,s),o.updateTextAndProgressBar()),!1):void 0})},o.updateTextAndProgressBar=function(){a=a>s?s:a,$("#pagination").translateHtml("[[global:pagination.out_of, "+a+", "+s+"]]"),$(".pagination-block .progress-bar").width(a/s*100+"%")},o.scrollUp=function(){$("body,html").animate({scrollTop:$("body").scrollTop()-$(window).height()})},o.scrollDown=function(){$("body,html").animate({scrollTop:$("body").scrollTop()+$(window).height()})},o.scrollTop=function(t){$('li[data-index="'+t+'"]').length?o.scrollToPost(t,!0):ajaxify.go(e())},o.scrollBottom=function(t){$('li[data-index="'+t+'"]').length?o.scrollToPost(t,!0):(t=parseInt(t,10)+1,ajaxify.go(e(t)))},o.scrollToPost=function(e,i,n,a){if(utils.isNumber(e)){if(a=a||0,n=void 0!==n?n:400,o.scrollActive=!0,$("#post_anchor_"+e).length)return r(e,i,n,a);if(config.usePagination){if(-1!==window.location.search.indexOf("page"))return void o.update();var s=Math.ceil((e+1)/config.postsPerPage);parseInt(s,10)!==t.currentPage?t.loadPage(s,function(){r(e,i,n,a)}):r(e,i,n,a)}else o.scrollActive=!1}},o}),define("notifications",["sounds"],function(t){var e={};return e.prepareDOM=function(){function e(t){t>0?a.removeClass("fa-bell-o").addClass("fa-bell"):a.removeClass("fa-bell").addClass("fa-bell-o"),a.toggleClass("unread-count",t>0),a.attr("data-content",t>20?"20+":t),Tinycon.setBubble(t)}function i(){var t=parseInt(a.attr("data-content"),10)+1;e(t)}var n=$(".notifications"),r=n.children("a"),o=$("#notif-list"),a=$(".notifications > a > i");r.on("click",function(t){t.preventDefault(),n.hasClass("open")||socket.emit("notifications.get",null,function(t,i){function n(t){return s=t.image?'<img class="image" src="'+t.image+'" />':"",'<li class="'+(t.readClass||"")+'"><a href="'+(t.path||"#")+'">'+s+'<span class="pull-right relTime">'+utils.relativeTime(t.datetime,!0)+'</span><span class="text">'+t.bodyShort+"</span></a></li>"}var r,a="";if(!t&&i.read.length+i.unread.length>0){var s="";for(r=0;r<i.unread.length;r++)a+=n(i.unread[r]);for(r=0;r<i.read.length;r++)a+=n(i.read[r])}else a+='<li class="no-notifs"><a>[[notifications:no_notifs]]</a></li>';a+='<li class="pagelink"><a href="'+config.relative_path+'/notifications">[[notifications:see_all]]</a></li>',o.translateHtml(a),e(i.unread.length),socket.emit("modules.notifications.markAllRead",null,function(t){t||e(0)})})}),socket.emit("notifications.getCount",function(t,i){e(t?0:i)}),socket.on("event:new_notification",function(){app.alert({alert_id:"new_notif",title:"[[notifications:new_notification]]",message:"[[notifications:you_have_unread_notifications]]",type:"warning",timeout:2e3}),app.refreshTitle(),"notifications"===ajaxify.currentPage&&ajaxify.refresh(),i(),t.play("notification")}),socket.on("event:notifications.updateCount",function(t){e(t)})},e}),define("search",["navigator"],function(t){var e={current:{}};return e.query=function(t,i){try{t=encodeURIComponent(t)}catch(n){return app.alertError("[[error:invalid-search-term]]")}var r=t.match(/in:topic-([\d]+)/);if(r){var o=t.replace(r[0],""),a=r[1];e.queryTopic(a,o,i)}else t=t.replace(/^[ ?#]*/,""),ajaxify.go("search/"+t),i()},e.queryTopic=function(t,i,n){socket.emit("topics.search",{tid:t,term:i},function(r,o){n(r),e.current={results:o.sort(function(t,e){return t-e}),tid:t,term:i},e.topicDOM.update(0)})},e.checkPagePresence=function(t,e){ajaxify.currentPage.match(new RegExp("^topic/"+t))?e():ajaxify.go("topic/"+t,e)},e.topicDOM={},e.topicDOM.prev=function(){e.topicDOM.update(0===e.current.index?e.current.results.length-1:e.current.index-1)},e.topicDOM.next=function(){e.topicDOM.update(e.current.index===e.current.results.length-1?0:e.current.index+1)},e.topicDOM.update=function(i){var n=$(".topic-search");e.current.index=i,e.current.results.length>0?(n.find(".count").html(i+1+" / "+e.current.results.length),n.removeClass("hidden").find(".prev, .next").removeAttr("disabled"),e.checkPagePresence(e.current.tid,function(){socket.emit("posts.getPidIndex",e.current.results[i],function(e,i){t.scrollToPost(i-1,!0)})})):(translator.translate("[[search:no-matches]]",function(t){n.find(".count").html(t)}),n.removeClass("hidden").find(".prev, .next").attr("disabled","disabled"))},e.topicDOM.end=function(){$(".topic-search").addClass("hidden")},e}),define("settings",function(){function t(t,i){var n,r;return"string"!=typeof t&&(t=$(t),t=t.data("type")||t.attr("type")||t.prop("tagName")),r=e.plugins[t.toLowerCase()],null==r?void 0:(n=r[i],"function"==typeof n?n:null)}var e,i,n=["settings/checkbox","settings/number","settings/textarea","settings/select","settings/array","settings/key"],r=[],o=0;return i={deepClone:function(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t},createElement:function(t,e,i){var n=document.createElement(t);for(var r in e)e.hasOwnProperty(r)&&n.setAttribute(r,e[r]);return i&&n.appendChild(document.createTextNode(i)),n},initElement:function(i){var n=t(i,"init");null!=n&&n.call(e,$(i))},destructElement:function(i){var n=t(i,"destruct");null!=n&&n.call(e,$(i))},createElementOfType:function(n,r,o){var a,s=t(n,"create");return null!=s?a=$(s.call(e,n,r,o)):(null==o&&(o={}),null!=n&&(o.type=n),a=$(i.createElement(r||"input",o))),a.data("type",n),i.initElement(a),a},cleanArray:function(t,e,i){var n=[];if(!e&&i)return t;for(var r=0;r<t.length;r++){var o=t[r];e&&(o=o===!0?1:o===!1?0:"function"==typeof o.trim?o.trim():o),(i||(null!=o?o.length:void 0))&&n.push(o)}return n},isTrue:function(t){return"true"===t||1===+t},isFalse:function(t){return"false"===t||0===+t},readValue:function(n){var r,o=!i.isFalse(n.data("empty")),a=!i.isFalse(n.data("trim")),s=n.data("split"),l=t(n,"get");if(null!=l)return l.call(e,n,a,o);if(null!=s){o=i.isTrue(n.data("empty")),r=n.val();var c=(null!=r?r.split(s||","):void 0)||[];return i.cleanArray(c,a,o)}return r=n.val(),a&&null!=r&&"function"==typeof r.trim&&(r=r.trim()),o||void 0!==r&&(null==r||0!==r.length)?r:void 0},fillField:function(i,n){var r=t(i,"set"),o=i.data("trim");return o="false"!==o&&0!==+o,null!=r?r.call(e,i,n,o):(n instanceof Array&&(n=n.join(i.data("split")||(o?", ":","))),o&&n&&"function"==typeof n.trim?(n=n.trim(),"function"==typeof n.toString&&(n=n.toString())):null!=n?("function"==typeof n.toString&&(n=n.toString()),o&&(n=n.trim())):n="",void(void 0!==n&&i.val(n)))},initFields:function(n){$("[data-key]",n).each(function(n,r){r=$(r);var o=t(r,"init"),a=r.data("key").split("."),s=e.get();null!=o&&o.call(e,r);for(var l=0;l<a.length;l++){var c=a[l];c&&null!=s&&(s=s[c])}i.fillField(r,s)})},registerReadyJobs:function(t){return o+=t},beforeReadyJobsDecreased:function(t){if(null==t&&(t=1),o>0&&(o-=t,0>=o)){for(var e=0;e<r.length;e++)r[e]();r=[]}},whenReady:function(t){0>=o?t():r.push(t)},persistSettings:function(t,e,n,r){null!=e&&null!=e._&&"string"!=typeof e._&&(e=i.deepClone(e),e._=JSON.stringify(e._)),socket.emit("admin.settings.set",{hash:t,values:e},function(e){n&&(e?(app.alert({title:"Settings Not Saved",type:"danger",message:"NodeBB failed to save the settings.",timeout:5e3}),console.log("[settings] Unable to set settings for hash: ",t)):app.alert({title:"Settings Saved",type:"success",timeout:2500})),"function"==typeof r&&r(e)})},use:function(t){try{t._=JSON.parse(t._)}catch(i){}e.cfg=t}},e={helper:i,plugins:{},cfg:{},get:function(){return null!=e.cfg&&void 0!==e.cfg._?e.cfg._:e.cfg},registerPlugin:function(t,i){null==i?i=t.types:t.types=i,"function"==typeof t.use&&t.use.call(e);for(var n=0;n<i.length;n++){var r=i[n].toLowerCase();null==e.plugins[r]&&(e.plugins[r]=t)}},set:function(t,e,n,r,o){null==o&&(o=!0),i.whenReady(function(){i.use(e),i.initFields(n||"form"),i.persistSettings(t,e,o,r)})},sync:function(t,e,n){socket.emit("admin.settings.get",{hash:t},function(r,o){r?(console.log("[settings] Unable to load settings for hash: ",t),"function"==typeof n&&n(r)):i.whenReady(function(){i.use(o),i.initFields(e||"form"),"function"==typeof n&&n()})})},persist:function(t,n,r,o){var a=[],s=$("[data-key]",n||"form").toArray();null==o&&(o=!0);for(var l=0;l<s.length;l++){var c=$(s[l]),u=i.readValue(c),h=e.get(),d=c.data("key").split("."),p=d[d.length-1];if(d.length>1)for(var f=0;f<d.length-1;f++){var m=d[f];m&&null!=h&&(h=h[m])}null!=h?null!=u?h[p]=u:delete h[p]:a.push(c.data("key"))}a.length&&app.alert({title:"Attributes Not Saved",message:"'"+a.join(", ")+"' could not be saved. Please contact the plugin-author!",type:"danger",timeout:5e3}),i.persistSettings(t,e.cfg,o,r)},load:function(t,e,i){i=i||function(){},socket.emit("admin.settings.get",{hash:t},function(n,r){return n?(console.log("[settings] Unable to load settings for hash: ",t),i(n)):($(e).deserialize(r),void i(null,r))})},save:function(t,e,i){if(e=$(e),e.length){var n=e.serializeObject();e.find('input[type="checkbox"]').each(function(t,e){e=$(e),e.is(":checked")||(n[e.attr("id")]="off")}),socket.emit("admin.settings.set",{hash:t,values:n},function(){"function"==typeof i?i():app.alert({title:"Settings Saved",type:"success",timeout:2500})})}else console.log("[settings] Form not found.")}},i.registerReadyJobs(1),require(n,function(){for(var t=0;t<arguments.length;t++)e.registerPlugin(arguments[t]);i.beforeReadyJobsDecreased()}),e}),define("share",function(){function t(t,e){$("#content").off("click",t).on("click",t,e)}function e(t){var e=window.location.pathname.split("/"),i=parseInt(t.parents(".post-row").attr("data-index"),10);return"/"+e[1]+"/"+e[2]+(e[3]?"/"+e[3]:"")+(i?"/"+(i+1):"")}var i={};return i.addShareHandlers=function(i){function n(t,e,i,n){return window.open(t+encodeURIComponent(r+e),"_blank","width="+i+",height="+n+",scrollbars=no,status=no"),!1}var r=window.location.protocol+"//"+window.location.host;$("#content").off("shown.bs.dropdown",".share-dropdown").on("shown.bs.dropdown",".share-dropdown",function(){var t=$(this).find(".post-link");t.val(r+e($(this))),setTimeout(function(){t.putCursorAtEnd().select()},50)}),t(".post-link",function(t){return t.preventDefault(),!1}),t(".twitter-share",function(){return n("https://twitter.com/intent/tweet?text="+i+"&url=",e($(this)),550,420)}),t(".facebook-share",function(){return n("https://www.facebook.com/sharer/sharer.php?u=",e($(this)),626,436)}),t(".google-share",function(){return n("https://plus.google.com/share?url=",e($(this)),500,570)})},i}),define("sounds",["buzz"],function(t){function e(){socket.emit("modules.sounds.getSounds",function(t,e){return t?console.log("[sounds] Could not initialise!"):void(l=e)})}function i(){socket.emit("modules.sounds.getMapping",function(t,e){return t?console.log("[sounds] Could not load sound mapping!"):void(s=e)})}function n(t){return a[t]}function r(e,i){return n(e)?i():(l&&l[e]&&(a[e]=new t.sound(l[e])),void i())}var o={},a={},s={},l={};return e(),i(),socket.on("event:sounds.reloadMapping",i),o.play=function(t){config.notificationSounds&&o.playFile(s[t])},o.playFile=function(t){function e(){a[t]?a[t].play():console.log("[sounds] Not found:",t)}n(t)?e():r(t,e)},o}),!function(){function t(t,e){t.s=null!==e&&void 0!==e?"string"==typeof e?e:e.toString():e,t.orig=e,null!==e&&void 0!==e?t.__defineGetter__?t.__defineGetter__("length",function(){return t.s.length}):t.length=e.length:t.length=-1}function e(e){t(this,e)}function i(){for(var t in h)(function(t){var e=h[t];u.hasOwnProperty(t)||(d.push(t),u[t]=function(){return String.prototype.s=this,e.apply(this,arguments)})})(t)}function n(){for(var t=0;t<d.length;++t)delete String.prototype[d[t]];d.length=0}function r(){for(var t=o(),e={},i=0;i<t.length;++i){var n=t[i],r=u[n];try{var a=typeof r.apply("teststring",[]);e[n]=a}catch(s){}}return e}function o(){var t=[];if(Object.getOwnPropertyNames)return t=Object.getOwnPropertyNames(u),t.splice(t.indexOf("valueOf"),1),t.splice(t.indexOf("toString"),1),t;var e={};for(var i in String.prototype)e[i]=i;for(var i in Object.prototype)delete e[i];for(var i in e)t.push(i);return t}function a(t){return new e(t)}function s(t,e){var i,n=[];for(i=0;i<t.length;i++)n.push(t[i]),e&&e.call(t,t[i],i);return n}var l="1.7.0",c={},u=String.prototype,h=e.prototype={between:function(t,e){var i=this.s,n=i.indexOf(t),r=i.indexOf(e),o=n+t.length;return new this.constructor(r>n?i.slice(o,r):"")},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(t,e,i){return i?i.toUpperCase():""});return new this.constructor(t)},capitalize:function(){return new this.constructor(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(t){return this.s.charAt(t)},chompLeft:function(t){var e=this.s;return 0===e.indexOf(t)?(e=e.slice(t.length),new this.constructor(e)):this},chompRight:function(t){if(this.endsWith(t)){var e=this.s;return e=e.slice(0,e.length-t.length),new this.constructor(e)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new this.constructor(t)},contains:function(t){return this.s.indexOf(t)>=0},count:function(t){for(var e=0,i=this.s.indexOf(t);i>=0;)e+=1,i=this.s.indexOf(t,i+1);return e},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new this.constructor(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,function(t,e){return String.fromCharCode(e)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(t,e){return String.fromCharCode(parseInt(e,16))}).replace(/&([^;\W]+;?)/g,function(t,e){var i=e.replace(/;$/,""),n=c[e]||e.match(/;$/)&&c[i];return"number"==typeof n?String.fromCharCode(n):"string"==typeof n?n:t}),new this.constructor(t)},endsWith:function(t){var e=this.s.length-t.length;return e>=0&&this.s.indexOf(t,e)===e},escapeHTML:function(){return new this.constructor(this.s.replace(/[&<>"']/g,function(t){return"&"+g[t]+";"}))},ensureLeft:function(t){var e=this.s;return 0===e.indexOf(t)?this:new this.constructor(t+e)},ensureRight:function(t){var e=this.s;return this.endsWith(t)?this:new this.constructor(e+t)},humanize:function(){if(null===this.s||void 0===this.s)return new this.constructor("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new this.constructor(t)},isAlpha:function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s?!0:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(t>=0){var e=this.s.substr(0,t);return new this.constructor(e)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,e){if(null==e&&(e=" "),this.s.length>=t)return new this.constructor(this.s);t-=this.s.length;var i=Array(Math.ceil(t/2)+1).join(e),n=Array(Math.floor(t/2)+1).join(e);return new this.constructor(i+this.s+n)},padLeft:function(t,e){return null==e&&(e=" "),new this.constructor(this.s.length>=t?this.s:Array(t-this.s.length+1).join(e)+this.s)},padRight:function(t,e){return null==e&&(e=" "),new this.constructor(this.s.length>=t?this.s:this.s+Array(t-this.s.length+1).join(e))},parseCSV:function(t,e,i,n){t=t||",",i=i||"\\","undefined"==typeof e&&(e='"');var r=0,o=[],a=[],s=this.s.length,l=!1,c=this,u=function(t){return c.s.charAt(t)};if("undefined"!=typeof n)var h=[];for(e||(l=!0);s>r;){var d=u(r);switch(d){case i:if(l&&(i!==e||u(r+1)===e)){r+=1,o.push(u(r));break}if(i!==e)break;case e:l=!l;break;case t:l&&e?o.push(d):(a.push(o.join("")),o.length=0);break;case n:l?o.push(d):h&&(a.push(o.join("")),h.push(a),a=[],o.length=0);break;default:l&&o.push(d)}r+=1}return a.push(o.join("")),h?(h.push(a),h):a},replaceAll:function(t,e){var i=this.s.split(t).join(e);return new this.constructor(i)},right:function(t){if(t>=0){var e=this.s.substr(this.s.length-t,t);return new this.constructor(e)}return this.left(-t)},setValue:function(e){return t(this,e),this},slugify:function(){var t=new e(this.s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new this.constructor(t)},startsWith:function(t){return 0===this.s.lastIndexOf(t,0)},stripPunctuation:function(){return new this.constructor(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var t=this.s,e=arguments.length>0?arguments:[""];return s(e,function(e){t=t.replace(RegExp("</?"+e+"[^<>]*>","gi"),"")}),new this.constructor(t)},template:function(t,e,i){var n=this.s,e=e||a.TMPL_OPEN,i=i||a.TMPL_CLOSE,r=e.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),o=i.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),s=new RegExp(r+"(.+?)"+o,"g"),l=n.match(s)||[];return l.forEach(function(r){var o=r.substring(e.length,r.length-i.length);"undefined"!=typeof t[o]&&(n=n.replace(r,t[o]))}),new this.constructor(n)},times:function(t){return new this.constructor(new Array(t+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var t=this.s.toLowerCase();return"true"===t||"yes"===t||"on"===t}return this.orig===!0||1===this.orig},toFloat:function(t){var e=parseFloat(this.s);return t?parseFloat(e.toFixed(t)):e},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t="undefined"==typeof u.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new this.constructor(t)},trimLeft:function(){var t;return t=u.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new this.constructor(t)},trimRight:function(){var t;return t=u.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new this.constructor(t)},truncate:function(t,i){var n=this.s;if(t=~~t,i=i||"...",n.length<=t)return new this.constructor(n);var r=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},o=n.slice(0,t+1).replace(/.(?=\W*\w*$)/g,r);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):new e(o.slice(0,o.length-1)).trimRight().s,new e((o+i).length>n.length?n:n.slice(0,o.length)+i)},toCSV:function(){function t(t){return null!==t&&""!==t}var i=",",n='"',r="\\",o=!0,a=!1,s=[];if("object"==typeof arguments[0]?(i=arguments[0].delimiter||i,i=arguments[0].separator||i,n=arguments[0].qualifier||n,o=!!arguments[0].encloseNumbers,r=arguments[0].escape||r,a=!!arguments[0].keys):"string"==typeof arguments[0]&&(i=arguments[0]),"string"==typeof arguments[1]&&(n=arguments[1]),null===arguments[1]&&(n=null),this.orig instanceof Array)s=this.orig;else for(var l in this.orig)this.orig.hasOwnProperty(l)&&s.push(a?l:this.orig[l]);for(var c=r+n,u=[],h=0;h<s.length;++h){var d=t(n);if("number"==typeof s[h]&&(d&=o),d&&u.push(n),null!==s[h]&&void 0!==s[h]){var p=new e(s[h]).replaceAll(n,c).s;u.push(p)}else u.push("");d&&u.push(n),i&&u.push(i)}return u.length=u.length-1,new this.constructor(u.join(""))
},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new e(this.s.charAt(0)).isUpper()&&(t="_"+t),new this.constructor(t)},unescapeHTML:function(){return new this.constructor(this.s.replace(/\&([^;]+);/g,function(t,e){var i;return e in m?m[e]:(i=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(i[1],16)):(i=e.match(/^#(\d+)$/))?String.fromCharCode(~~i[1]):t}))},valueOf:function(){return this.s.valueOf()}},d=[],p=r();for(var f in p)(function(t){var e=u[t];"function"==typeof e&&(h[t]||(h[t]="string"===p[t]?function(){return new this.constructor(e.apply(this,arguments))}:e))})(f);h.repeat=h.times,h.include=h.contains,h.toInteger=h.toInt,h.toBool=h.toBoolean,h.decodeHTMLEntities=h.decodeHtmlEntities,h.constructor=e,a.extendPrototype=i,a.restorePrototype=n,a.VERSION=l,a.TMPL_OPEN="{{",a.TMPL_CLOSE="}}",a.ENTITIES=c,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:"function"==typeof define&&define.amd?define("string",[],function(){return a}):window.S=a;var m={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},g={};for(var v in m)g[m[v]]=v;c={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this),define("taskbar",function(){var t={initialized:!1,init:function(){this.taskbar=$("<div />").html('<div class="navbar-inner"><ul class="nav navbar-nav pull-right"></ul></div>').addClass("taskbar navbar navbar-default navbar-fixed-bottom").attr("id","taskbar"),this.tasklist=this.taskbar.find("ul"),$(document.body).append(this.taskbar),this.taskbar.on("click","li",function(){var e=$(this),i=e.attr("data-module"),n=e.attr("data-uuid");require([i],function(i){e.hasClass("active")?i.minimize(n):(t.minimizeAll(),i.load(n),t.toggleNew(n,!1),app.alternatingTitle(""),t.tasklist.removeClass("active"),e.addClass("active"))})}),this.taskbar.on("click","li a",function(t){t.preventDefault()}),t.initialized=!0},update:function(){var e=t.tasklist.find("li");e.length>0?t.taskbar.attr("data-active","1"):t.taskbar.removeAttr("data-active")},discard:function(e,i){var n=t.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]');n.remove(),t.update()},push:function(e,i,n){var r=t.tasklist.find('li[data-uuid="'+i+'"]');if(!r.length){var o=$("<div></div>").text(n.title||"NodeBB Task").html(),a=$("<li />").html('<a href="#">'+(n.icon?'<i class="fa '+n.icon+'"></i> ':"")+(n.image?'<img src="'+n.image+'"/> ':"")+"<span>"+o+"</span></a>").attr({"data-module":e,"data-uuid":i}).addClass(void 0!==n.state?n.state:"active");n.state&&"active"!==n.state||t.minimizeAll(),t.tasklist.append(a),t.update()}},minimize:function(e,i){var n=t.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]');n.removeClass("active")},minimizeAll:function(){t.tasklist.find(".active").removeClass("active")},toggleNew:function(e,i){var n=t.tasklist.find('[data-uuid="'+e+'"]');n.toggleClass("new",i)},updateActive:function(e){var i=t.tasklist.find("li");i.removeClass("active"),i.filter('[data-uuid="'+e+'"]').addClass("active")}};return t.initialized||t.init(),{push:t.push,discard:t.discard,minimize:t.minimize,toggleNew:t.toggleNew,updateActive:t.updateActive}}),define("templates",function(){var t={};return t.refresh=function(e){$.getJSON(RELATIVE_PATH+"/api/get_templates_listing",function(i){t.config=i.templatesConfig,t.available=i.availableTemplates,e&&e()})},t}),define("topicSelect",function(){function t(t,e){t.toggleClass("fa-check-square-o",e),t.toggleClass("fa-square-o",!e),t.parents(".category-item").toggleClass("selected",e)}function e(t){r||(r=$(".category-item[data-tid]").first().find(".select"));var e=$('.category-item[data-tid="'+t+'"]').hasClass("selected"),o=n(t),a=n(r.parents(".category-item[data-tid]").attr("data-tid"));i(o,a,!e)}function i(e,i,n){if(e>i){var r=e;e=i,i=r}for(var o=e;i>=o;++o){var a=$(".category-item[data-tid]").eq(o);t(a.find(".select"),n)}}function n(t){return $('.category-item[data-tid="'+t+'"]').index(".category-item")}var r,o={};return o.init=function(i){$("#topics-container").on("selectstart",function(){return!1}),$("#topics-container").on("click",".select",function(n){var o=$(this);if(n.shiftKey)return e($(this).parents(".category-item").attr("data-tid")),r=o,!1;var a=o.hasClass("fa-check-square-o");t(o,!a),r=o,"function"==typeof i&&i()})},o.getSelectedTids=function(){var t=[];return $("#topics-container .category-item.selected").each(function(){t.push($(this).attr("data-tid"))}),t},o.unselectAll=function(){$("#topics-container .category-item.selected").removeClass("selected"),$("#topics-container .select").toggleClass("fa-check-square-o",!1).toggleClass("fa-square-o",!0)},o}),define("uploader",function(){var t={},e=function(t){if("string"==typeof t)try{return $.parseJSON(t)}catch(e){return{error:"Something went wrong while parsing server response"}}return t};return t.open=function(i,n,r,o){$("#upload-picture-modal").modal("show").removeClass("hide"),t.hideAlerts();var a=$("#uploadForm");a[0].reset(),a.attr("action",i),a.find("#params").val(JSON.stringify(n)),a.find("#csrfToken").val($("#csrf").attr("data-csrf")),r?(a.find("#upload-file-size").html(r),a.find("#file-size-block").removeClass("hide")):a.find("#file-size-block").addClass("hide"),$("#pictureUploadSubmitBtn").off("click").on("click",function(){$("#uploadForm").submit()}),a.off("submit").submit(function(){function i(e){t.hideAlerts(),$("#alert-status").text(e).removeClass("hide")}function n(e){t.hideAlerts(),$("#alert-success").text(e).removeClass("hide")}function r(e){t.hideAlerts(),$("#alert-error").text(e).removeClass("hide")}return i("uploading the file ..."),$("#upload-progress-bar").css("width","0%"),$("#upload-progress-box").show().removeClass("hide"),$("#userPhotoInput").val()?($(this).ajaxSubmit({error:function(t){t=e(t),r("Error: "+t.status)},uploadProgress:function(t,e,i,n){$("#upload-progress-bar").css("width",n+"%")},success:function(i){return i=e(i),i.error?void r(i.error):(o(i.path),n("File uploaded successfully!"),void setTimeout(function(){t.hideAlerts(),$("#upload-picture-modal").modal("hide")},750))}}),!1):(r("select an image to upload!"),!1)})},t.hideAlerts=function(){$("#alert-status").addClass("hide"),$("#alert-success").addClass("hide"),$("#alert-error").addClass("hide"),$("#upload-progress-box").addClass("hide")},t}),define("composer/categoryList",function(){var t={};return t.init=function(t,e){var i=t.find(".category-list");i.length&&(socket.emit("categories.getCategoriesByPrivilege","topics:create",function(t,n){return t?app.alertError(t.message):(n.forEach(function(t){$('<option value="'+t.cid+'">'+t.name+"</option>").appendTo(i)}),void(e.cid&&i.find('option[value="'+e.cid+'"]').prop("selected",!0)))}),i.on("change",function(){e.cid&&(e.cid=this.value)}))},t}),define("composer/controls",function(){var t={};return t.insertIntoTextarea=function(t,e){var i=$(t),n=i.val();i.val(n.slice(0,t.selectionStart)+e+n.slice(t.selectionStart))},t.wrapSelectionInTextareaWith=function(t,e,i){void 0===i&&(i=e);var n=$(t),r=n.val();n.val(r.slice(0,t.selectionStart)+e+r.slice(t.selectionStart,t.selectionEnd)+i+r.slice(t.selectionEnd))},t.updateTextareaSelection=function(t,e,i){t.setSelectionRange(e,i),$(t).focus()},t}),define("composer/drafts",function(){function t(){n&&(clearTimeout(n),n=0)}function e(t,e){var n;i()&&e&&e.save_id&&t.length&&(n=t.find("textarea").val(),n.length?localStorage.setItem(e.save_id,n):r.removeDraft(e.save_id))}function i(){if(o)return o;try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),o=!0,!0}catch(t){return o=!1,!1}}var n,r={},o=!1;return r.init=function(i,r){var o=i.find("textarea");o.on("keyup",function(){t(),n=setTimeout(function(){e(i,r)},1e3)})},r.getDraft=function(t){return localStorage.getItem(t)},r.removeDraft=function(e){return t(),localStorage.removeItem(e)},r}),define("composer/formatting",["composer/controls","composer/preview"],function(t,e){var i={},n={"fa fa-bold":function(e,i,n){i===n?(t.insertIntoTextarea(e,"**bolded text**"),t.updateTextareaSelection(e,i+2,i+13)):(t.wrapSelectionInTextareaWith(e,"**"),t.updateTextareaSelection(e,i+2,n+2))},"fa fa-italic":function(e,i,n){i===n?(t.insertIntoTextarea(e,"*italicised text*"),t.updateTextareaSelection(e,i+1,i+16)):(t.wrapSelectionInTextareaWith(e,"*"),t.updateTextareaSelection(e,i+1,n+1))},"fa fa-list":function(e,i,n){i===n?(t.insertIntoTextarea(e,"\n* list item"),t.updateTextareaSelection(e,i+3,i+12)):(t.wrapSelectionInTextareaWith(e,"\n* ",""),t.updateTextareaSelection(e,i+3,n+3))},"fa fa-link":function(e,i,n){i===n?(t.insertIntoTextarea(e,"[link text](link url)"),t.updateTextareaSelection(e,i+12,n+20)):(t.wrapSelectionInTextareaWith(e,"[","](link url)"),t.updateTextareaSelection(e,n+3,n+11))},"fa fa-picture-o":function(){$("#files").click()},"fa fa-upload":function(){$("#files").click()}},r=[];return i.addComposerButtons=function(){for(var t in r)r.hasOwnProperty(t)&&$(".formatting-bar .btn-group form").before('<span class="btn btn-link" tabindex="-1"><i class="'+r[t].iconClass+'"></i></span>')},i.addButton=function(t,e){n[t]=e,r.push({iconClass:t})},i.addHandler=function(t){t.on("click",".formatting-bar span",function(){var i=$(this).find("i").attr("class"),r=$(this).parents(".composer").find("textarea")[0];n.hasOwnProperty(i)&&(n[i](r,r.selectionStart,r.selectionEnd),e.render(t))})},i}),define("composer/preview",function(){var t={},e=0;return t.render=function(t,i){i=i||function(){},e&&(clearTimeout(e),e=0);var n=t.find("textarea");e=setTimeout(function(){socket.emit("modules.composer.renderPreview",n.val(),function(n,r){e=0,n||(r=$(r),r.find("img").addClass("img-responsive"),t.find(".preview").html(r),i())})},250)},t.matchScroll=function(t){var e=t.find("textarea"),i=t.find(".preview"),n=e[0].scrollHeight-e.height();if(0!==n){var r=e.scrollTop()/n;i.scrollTop(Math.max(i[0].scrollHeight-i.height(),0)*r)}},t}),define("composer/resize",function(){function t(t,i){i&&("md"===n||"lg"===n)&&t.css("height",Math.floor($(window).height()*i)+"px"),("sm"===n||"xs"===n)&&(app.toggleNavbar(!1),t.css("height",$(window).height())),config.hasImageUploadPlugin&&(t.find(".img-upload-btn").removeClass("hide"),t.find("#files.lt-ie9").removeClass("hide")),config.allowFileUploads&&(t.find(".file-upload-btn").removeClass("hide"),t.find("#files.lt-ie9").removeClass("hide")),t.css("visibility","visible").css("z-index",2),$("body").css({"margin-bottom":t.css("height")}),e(t)}function e(t){var e=t.find(".title-container").outerHeight(!0),i=t.find(".category-tag-row").outerHeight(!0),n=t.find(".formatting-bar").outerHeight(!0),r=t.find(".topic-thumb-container").outerHeight(!0),o=$(".taskbar").height(),a=e+i+n+r+o;t.find(".write-preview-container").css("height",t.height()-a)}var i={},n=utils.findBootstrapEnvironment(),r=0;return i.reposition=function(e){var i=localStorage.getItem("composer:resizePercentage");t(e,i)},i.handleResize=function(i){function n(t){var e=f[0].getBoundingClientRect(),i=e.top+e.height/2;d=i-t.clientY,h=!0,p=t.clientY,$(window).on("mousemove",l),$(window).on("mouseup",o),$("body").on("touchmove",s)}function o(t){h=!1,a(t),i.find("textarea").focus(),$(window).off("mousemove",l),$(window).off("mouseup",o),$("body").off("touchmove",s)}function a(e){var n=$(".resizer i");if(e.clientY-p===0){var o=($(window).height()-$("#header-menu").height()-20)/$(window).height();n.hasClass("fa-chevron-up")?(r=u(i),t(i,o),n.addClass("fa-chevron-down").removeClass("fa-chevron-up")):(t(i,r),n.addClass("fa-chevron-up").removeClass("fa-chevron-down"))}else n.addClass("fa-chevron-up").removeClass("fa-chevron-down")}function s(t){t.preventDefault(),l(t.touches[0])}function l(t){if(h){var n=t.clientY+d,r=$(window).height()-n;r>$(window).height()-$("#header-menu").height()-20?r=$(window).height()-$("#header-menu").height()-20:100>r&&(r=100),i.css("height",r),$("body").css({"margin-bottom":r}),e(i),c(r)}return t.preventDefault(),!1}function c(t){var e=t/$(window).height();localStorage.setItem("composer:resizePercentage",e)}function u(t){return t.height()/$(window).height()}var h=!1,d=0,p=0,f=i.find(".resizer");f.on("mousedown",n),f.on("touchstart",function(t){t.preventDefault(),n(t.touches[0])}),f.on("touchend",function(t){t.preventDefault(),o()})},i}),define("composer/tags",function(){function t(t){var e=jQuery.Event("keypress");e.which=13,e.keyCode=13,setTimeout(function(){t.trigger(e)},100)}function e(t,e){if(t&&t.length)for(var i=0;i<t.length;++i)e.tagsinput("add",t[i])}var i={};return i.init=function(i,n){var r=i.find(".tags");if(r.length){r.tagsinput({maxTags:config.tagsPerTopic,confirmKeys:[13,44]}),r.on("itemAdded",function(t){$(window).trigger("action:tag.added",{cid:n.cid,tagEl:r,tag:t.item})}),e(n.tags,r);var o=i.find(".bootstrap-tagsinput input");o.autocomplete({delay:100,source:function(t,e){socket.emit("topics.searchTags",{query:t.term,cid:n.cid},function(t,i){return t?app.alertError(t.message):(i&&e(i),void $(".ui-autocomplete a").attr("data-ajaxify","false"))})},select:function(){t(o)}}),o.attr("tabIndex",r.attr("tabIndex")),o.on("blur",function(){t(o)})}},i.getTags=function(t){return $("#cmp-uuid-"+t+" .tags").tagsinput("items")},i}),define("composer/uploads",["composer/preview"],function(t){function e(t){var e=$("#cmp-uuid-"+t);e.find("#files").on("change",function(e){var i=(e.target||{}).files||($(this).val()?[{name:$(this).val(),type:utils.fileMimeType($(this).val())}]:null);i&&c({files:i,post_uuid:t,route:"/api/post/upload"})}),e.find("#topic-thumb-file").on("change",function(e){var i,n=(e.target||{}).files||($(this).val()?[{name:$(this).val(),type:utils.fileMimeType($(this).val())}]:null);if(n){if(window.FormData){i=new FormData;for(var r=0;r<n.length;++r)i.append("files[]",n[r],n[r].name)}u({files:n,post_uuid:t,route:"/api/topic/thumb/upload",formData:i})}})}function i(t){var e=$("#cmp-uuid-"+t);e.on("click",".topic-thumb-clear-btn",function(t){e.find("input#topic-thumb-url").val("").trigger("change"),n(e.find("input#topic-thumb-file")),$(this).addClass("hide"),t.preventDefault()}),e.on("paste change keypress","input#topic-thumb-url",function(){var t=$(this);setTimeout(function(){var i=t.val();i?e.find(".topic-thumb-clear-btn").removeClass("hide"):(n(e.find("input#topic-thumb-file")),e.find(".topic-thumb-clear-btn").addClass("hide")),e.find("img.topic-thumb-preview").attr("src",i)},100)})}function n(t){t.wrap("<form />").closest("form").get(0).reset(),t.unwrap()}function r(t){function e(){r||(a.css("top",o.find(".write-preview-container").position().top+"px"),a.css("height",s.height()),a.css("line-height",s.height()+"px"),a.show(),a.on("dragleave",function(){a.hide(),a.off("dragleave")}))}function i(e){e.preventDefault();var i,n=e.files||(e.dataTransfer||{}).files||(e.target.value?[e.target.value]:[]);if(n.length){if(window.FormData){i=new FormData;for(var r=0;r<n.length;++r)i.append("files[]",n[r],n[r].name)}c({files:n,post_uuid:t,route:"/api/post/upload",formData:i})}return a.hide(),!1}function n(t){return t.preventDefault(),!1}-1===$.event.props.indexOf("dataTransfer")&&$.event.props.push("dataTransfer");var r=!1,o=$("#cmp-uuid-"+t),a=o.find(".imagedrop"),s=o.find("textarea");$(document).off("dragstart").on("dragstart",function(){r=!0}).off("dragend").on("dragend",function(){r=!1}),s.on("dragenter",e),a.on("dragover",n),a.on("dragenter",n),a.on("drop",i)}function o(t){$(window).off("paste").on("paste",function(e){var i,n=(e.clipboardData||e.originalEvent.clipboardData||{}).items;if(n&&n.length){var r=n[0].getAsFile();r&&(r.name="upload-"+utils.generateUUID(),window.FormData&&(i=new FormData,i.append("files[]",r,r.name)),c({files:[r],post_uuid:t,route:"/api/post/upload",formData:i}))}})}function a(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function s(t){if("string"==typeof t)try{return $.parseJSON(t)}catch(e){return{status:500,message:"Something went wrong while parsing server response"}}return t}function l(t,e,i){return t.slice(0,e)+i+t.slice(e)}function c(e){var i=e.files,n=e.post_uuid,r=e.formData,o=$("#cmp-uuid-"+n),c=o.find("textarea"),u=c.val(),p=o.find("#fileForm");p.attr("action",e.route);for(var f=0;f<i.length;++f){var m=i[f].type.match(/image./);if(u=l(u,c.getCursorPosition(),(m?"!":"")+"["+i[f].name+"](uploading...) "),i[f].size>1024*parseInt(config.maximumFileSize,10))return p[0].reset(),app.alertError("[[error:file-too-big, "+config.maximumFileSize+"]]")}c.val(u),p.off("submit").submit(function(){function e(t,e){var i=c.val(),n=new RegExp(a(t)+"]\\([^)]+\\)","g");c.val(i.replace(n,t+"]("+e+")"))}return $(this).find("#postUploadCsrf").val($("#csrf").attr("data-csrf")),r&&r.append("_csrf",$("#csrf").attr("data-csrf")),d.inProgress[n]=d.inProgress[n]||[],d.inProgress[n].push(1),$(this).ajaxSubmit({resetForm:!0,clearForm:!0,formData:r,error:h,uploadProgress:function(t,n,r,o){for(var a=0;a<i.length;++a)e(i[a].name,"uploading "+o+"%")},success:function(i){if(i=s(i),i&&i.length)for(var n=0;n<i.length;++n)e(i[n].name,i[n].url);t.render(o),c.focus()},complete:function(){p[0].reset(),d.inProgress[n].pop()}}),!1}),p.submit()}function u(t){var e=t.post_uuid,i=t.formData,n=$("#cmp-uuid-"+e),r=n.find(".topic-thumb-spinner"),o=n.find("#thumbForm");o.attr("action",t.route),o.off("submit").submit(function(){var t=$("#csrf").attr("data-csrf");return $(this).find("#thumbUploadCsrf").val(t),i&&i.append("_csrf",t),r.removeClass("hide"),d.inProgress[e]=d.inProgress[e]||[],d.inProgress[e].push(1),$(this).ajaxSubmit({formData:i,error:h,success:function(t){t=s(t),n.find("#topic-thumb-url").val((t[0]||{}).url||"").trigger("change")},complete:function(){d.inProgress[e].pop(),r.addClass("hide")}}),!1}),o.submit()}function h(t){t=s(t),app.alertError("[[error:upload-error, "+t.responseText+"]]")}var d={inProgress:{}};return d.initialize=function(t){r(t),o(t),e(t),i(t)},d.toggleThumbEls=function(t,e){var i=t.find(".topic-thumb-toggle-btn");t.find("input#topic-thumb-url").val(e),t.find("img.topic-thumb-preview").attr("src",e),e&&t.find(".topic-thumb-clear-btn").removeClass("hide"),i.removeClass("hide"),i.off("click").on("click",function(){var e=t.find(".topic-thumb-container");e.toggleClass("hide",!e.hasClass("hide"))})},d}),define("settings/array",function(){function t(t){var e=$(o.createElement("button",{"class":"btn btn-xs btn-primary remove",title:"Remove Item"},"-"));return e.click(function(i){i.preventDefault(),t.remove(),e.remove(),t.each(function(t,e){e=$(e),e.is("[data-key]")&&o.destructElement(e)})}),e}function e(e,i,n,r,a,s){n=o.deepClone(n);var l=n["data-type"]||n.type||"text",c=$(o.createElementOfType(l,n.tagName,n));c.attr("data-parent","_"+i),delete n["data-type"],delete n.tagName;for(var u in n){var h=n[u];0===u.search("data-")?c.data(u.substring(5),h):0===u.search("prop-")?c.prop(u.substring(5),h):c.attr(u,h)}o.fillField(c,r),$('[data-parent="_'+i+'"]',e).length&&s(a),s(c),s(t(c.add(a)))}function i(t,i,n,r){var a=$(document.createTextNode(" ")),s=t.data("new")||"",l=$(o.createElement("button",{"class":"btn btn-sm btn-primary add",title:"Expand Array"},"+"));l.click(function(o){o.preventDefault(),e(t,i,n,s,r.clone(),function(t){a.before(t)})}),t.append(a),t.append(l)}var n,r=null,o=null;return n={types:["array","div"],use:function(){o=(r=this).helper},create:function(t,e){return o.createElement(e||"div")},set:function(t,n){var r=t.data("attributes"),o=t.data("key")||t.data("parent"),a=t.data("split")||", ";a=function(){try{return $(a)}catch(t){return $(document.createTextNode(a))}}(),"object"!=typeof r&&(r={}),t.empty(),n instanceof Array||(n=[]);for(var s=0;s<n.length;s++)e(t,o,r,n[s],a.clone(),function(e){t.append(e)});i(t,o,r,a)},get:function(t,e,i){var n=t.data("key")||t.data("parent"),r=$('[data-parent="_'+n+'"]',t),a=[];return r.each(function(t,e){e=$(e);var i=o.readValue(e),n=o.isTrue(e.data("empty"));return n||void 0!==i&&(null==i||0!==i.length)?a.push(i):void 0}),i||a.length?a:void 0}}}),define("settings/checkbox",function(){var t,e=null;return t={types:["checkbox"],use:function(){e=this},create:function(){return e.helper.createElement("input",{type:"checkbox"})},set:function(t,e){t.prop("checked",e)},get:function(t,e,i){var n=t.prop("checked");return null==n?void 0:i?e?n?1:0:n:n||void 0}}}),define("settings/key",function(){function t(){this.c=!1,this.a=!1,this.s=!1,this.m=!1,this.code=0,this.char=""}function e(e){var n=e.ctrlKey!==c.c||e.altKey!==c.a||e.shiftKey!==c.s||e.metaKey!==c.m,r=e.ctrlKey+e.altKey+e.shiftKey+e.metaKey-c.c-c.a-c.s-c.m,o=new t;if(o.c=e.ctrlKey,o.a=e.altKey,o.s=e.shiftKey,o.m=e.metaKey,c=o,n){if(0>r)return null;o.code=u.code,o.char=u.char}else o.code=e.which,o.char=i(o.code);return u=o}function i(t){return t=+t,0===t?"":t>=48&&90>=t?String.fromCharCode(t).toUpperCase():t>=112&&123>=t?"F"+(t-111):h[t]||"#"+t}function n(e,i,n,r){var o="";return e instanceof t?e.char?((!r||/CtrlAShifMea#/.test(r))&&(r=i?" + ":"+"),e.c&&(o+=(n?"C":"Ctrl")+r),e.a&&(o+=(n?"A":"Alt")+r),e.s&&(o+=(n?"S":"Shift")+r),e.m&&(o+=(n?"M":"Meta")+r),o+(i?e.char:e.code?"#"+e.code:"")):i?"Enter a key":"":o}function r(e){if(e instanceof t)return e;for(var n=new t,r=/([^CtrlAShifMea#\d]+)(?:#|\d)/.exec(e),o=null!=r?e.split(r[1]):[e],a=0;a<o.length;a++){var s=o[a];switch(s){case"C":case"Ctrl":n.c=!0;break;case"A":case"Alt":n.a=!0;break;case"S":case"Shift":n.s=!0;break;case"M":case"Meta":n.m=!0;break;default:var l=/\d+/.exec(s);null!=l&&(n.code=l[0]),n.char=i(n.code)}}return n}function o(t,i){i=i||window.event,i.which=i.which||i.keyCode||i.key;var n=e(i);null!=n&&a.set(t,n)}var a,s=null,l=null,c=null,u=null,h=Object.freeze({0:"",8:"Backspace",9:"Tab",13:"Enter",27:"Escape",32:"Space",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",187:"=",189:"-",190:".",191:"/",219:"[",220:"\\",221:"]"});return a={types:["key"],use:function(){l=(s=this).helper},init:function(e){return e.focus(function(){u=e.data("keyData")||new t,c=new t}).keydown(function(t){t.preventDefault(),o(e,t)}).keyup(function(t){o(e,t)}),e},set:function(t,e){var i=r(e||"");t.data("keyData",i),i.code?t.removeClass("alert-danger"):t.addClass("alert-danger"),t.val(n(i,!0,!1," + "))},get:function(t,e,i){var r=t.data("keyData"),o=t.data("split")||t.data("separator")||"+",a=!l.isFalse(t.data("short"));return e?i||null!=r&&r.char?n(r,!1,a,o):void 0:i||null!=r&&r.code?r:void 0}}}),define("settings/number",function(){return{types:["number"],get:function(t,e,i){var n=t.val();return i?n?+n:0:n?+n:void 0}}}),define("settings/select",function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=r.text||r.value;delete r.text,t.append($(i.helper.createElement("option",r)).text(o))}}var e,i=null;return e={types:["select"],use:function(){i=this},create:function(e,n,r){var o=$(i.helper.createElement("select"));return t(o,r["data-options"]),delete r["data-options"],o},init:function(e){var i=e.data("options");null!=i&&t(e,i)},set:function(t,e){t.val(e||"")},get:function(t,e,i){var n=t.val();return i||n?n:void 0}}}),define("settings/textarea",function(){var t,e=null;return t={types:["textarea"],use:function(){e=this},create:function(){return e.helper.createElement("textarea")},set:function(t,e,i){i&&null!=e&&"function"==typeof e.trim&&(e=e.trim()),t.val(e||"")},get:function(t,e,i){var n=t.val();return e&&(n=null==n?void 0:n.trim()),i||n?n:void 0}}}),function(){function t(){$(".category-item .topic-title").each(function(){var t,e=$(this);e.html().match(/^\[.+\].+/)&&(t=e.html().match(/^\[.+\]/),e.html(t[0].replace("[",'<div class="badge topic-badge pull-right">').replace("]","</div>")+e.html().replace(t[0],"")))})}function e(t,e){return t=t.match(/^\[.+\]/)?t.replace(/^\[.+\]/,"["+e+"]"):"["+e+"] "+t}jQuery("document").ready(function(){$(window).on("action:ajaxify.end",function(i,n){(n.url.match(/^category/)||n.url.match(/^unread/)||n.url.match(/^recent/)||n.url.match(/^popular/))&&t(),n.url.match(/^topic/)&&$(".thread-tools .mark-solved").on("click",function(t){var i=e(ajaxify.variables.get("topic_name"),"Solved");return socket.emit("admin.topics.renameTopic",{tid:ajaxify.variables.get("topic_id"),title:i},function(t){t||$(".topic-title").html(i)}),t.preventDefault(),!1})}),$(window).on("action:categories.loaded",t),$(window).on("action:categories.new_topic.loaded",t)})}();var hljs=new function(){function t(t){return t.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function e(t){return t.nodeName.toLowerCase()}function i(t,e){var i=t&&t.exec(e);return i&&0==i.index}function n(t){var e=(t.className+" "+(t.parentNode?t.parentNode.className:"")).split(/\s+/);return e=e.map(function(t){return t.replace(/^lang(uage)?-/,"")}),e.filter(function(t){return v(t)||/no(-?)highlight/.test(t)})[0]}function r(t,e){var i={};for(var n in t)i[n]=t[n];if(e)for(var n in e)i[n]=e[n];return i}function o(t){var i=[];return function n(t,r){for(var o=t.firstChild;o;o=o.nextSibling)3==o.nodeType?r+=o.nodeValue.length:1==o.nodeType&&(i.push({event:"start",offset:r,node:o}),r=n(o,r),e(o).match(/br|hr|img|input/)||i.push({event:"stop",offset:r,node:o}));return r}(t,0),i}function a(i,n,r){function o(){return i.length&&n.length?i[0].offset!=n[0].offset?i[0].offset<n[0].offset?i:n:"start"==n[0].event?i:n:i.length?i:n}function a(i){function n(e){return" "+e.nodeName+'="'+t(e.value)+'"'}u+="<"+e(i)+Array.prototype.map.call(i.attributes,n).join("")+">"}function s(t){u+="</"+e(t)+">"}function l(t){("start"==t.event?a:s)(t.node)}for(var c=0,u="",h=[];i.length||n.length;){var d=o();if(u+=t(r.substr(c,d[0].offset-c)),c=d[0].offset,d==i){h.reverse().forEach(s);do l(d.splice(0,1)[0]),d=o();while(d==i&&d.length&&d[0].offset==c);h.reverse().forEach(a)}else"start"==d[0].event?h.push(d[0].node):h.pop(),l(d.splice(0,1)[0])}return u+t(r.substr(c))}function s(t){function e(t){return t&&t.source||t}function i(i,n){return RegExp(e(i),"m"+(t.cI?"i":"")+(n?"g":""))}function n(o,a){if(!o.compiled){if(o.compiled=!0,o.k=o.k||o.bK,o.k){var s={},l=function(e,i){t.cI&&(i=i.toLowerCase()),i.split(" ").forEach(function(t){var i=t.split("|");s[i[0]]=[e,i[1]?Number(i[1]):1]})};"string"==typeof o.k?l("keyword",o.k):Object.keys(o.k).forEach(function(t){l(t,o.k[t])}),o.k=s}o.lR=i(o.l||/\b[A-Za-z0-9_]+\b/,!0),a&&(o.bK&&(o.b="\\b("+o.bK.split(" ").join("|")+")\\b"),o.b||(o.b=/\B|\b/),o.bR=i(o.b),o.e||o.eW||(o.e=/\B|\b/),o.e&&(o.eR=i(o.e)),o.tE=e(o.e)||"",o.eW&&a.tE&&(o.tE+=(o.e?"|":"")+a.tE)),o.i&&(o.iR=i(o.i)),void 0===o.r&&(o.r=1),o.c||(o.c=[]);var c=[];o.c.forEach(function(t){t.v?t.v.forEach(function(e){c.push(r(t,e))}):c.push("self"==t?o:t)}),o.c=c,o.c.forEach(function(t){n(t,o)}),o.starts&&n(o.starts,a);var u=o.c.map(function(t){return t.bK?"\\.?("+t.b+")\\.?":t.b}).concat([o.tE,o.i]).map(e).filter(Boolean);o.t=u.length?i(u.join("|"),!0):{exec:function(){return null}}}}n(t)}function l(e,n,r,o){function a(t,e){for(var n=0;n<e.c.length;n++)if(i(e.c[n].bR,t))return e.c[n]}function u(t,e){return i(t.eR,e)?t:t.eW?u(t.parent,e):void 0}function h(t,e){return!r&&i(e.iR,t)}function d(t,e){var i=x.cI?e[0].toLowerCase():e[0];return t.k.hasOwnProperty(i)&&t.k[i]}function p(t,e,i,n){var r=n?"":y.classPrefix,o='<span class="'+r,a=i?"":"</span>";return o+=t+'">',o+e+a}function f(){if(!C.k)return t(E);var e="",i=0;C.lR.lastIndex=0;for(var n=C.lR.exec(E);n;){e+=t(E.substr(i,n.index-i));var r=d(C,n);r?(S+=r[1],e+=p(r[0],t(n[0]))):e+=t(n[0]),i=C.lR.lastIndex,n=C.lR.exec(E)}return e+t(E.substr(i))}function m(){if(C.sL&&!b[C.sL])return t(E);var e=C.sL?l(C.sL,E,!0,k):c(E);return C.r>0&&(S+=e.r),"continuous"==C.subLanguageMode&&(k=e.top),p(e.language,e.value,!1,!0)}function g(){return void 0!==C.sL?m():f()}function w(e,i){var n=e.cN?p(e.cN,"",!0):"";e.rB?($+=n,E=""):e.eB?($+=t(i)+n,E=""):($+=n,E=i),C=Object.create(e,{parent:{value:C}})}function _(e,i){if(E+=e,void 0===i)return $+=g(),0;var n=a(i,C);if(n)return $+=g(),w(n,i),n.rB?0:i.length;var r=u(C,i);if(r){var o=C;o.rE||o.eE||(E+=i),$+=g();do C.cN&&($+="</span>"),S+=C.r,C=C.parent;while(C!=r.parent);return o.eE&&($+=t(i)),E="",r.starts&&w(r.starts,""),o.rE?0:i.length}if(h(i,C))throw new Error('Illegal lexeme "'+i+'" for mode "'+(C.cN||"<unnamed>")+'"');return E+=i,i.length||1}var x=v(e);if(!x)throw new Error('Unknown language: "'+e+'"');s(x);for(var k,C=o||x,$="",T=C;T!=x;T=T.parent)T.cN&&($=p(T.cN,"",!0)+$);var E="",S=0;try{for(var N,D,I=0;;){if(C.t.lastIndex=I,N=C.t.exec(n),!N)break;D=_(n.substr(I,N.index-I),N[0]),I=N.index+D}_(n.substr(I));for(var T=C;T.parent;T=T.parent)T.cN&&($+="</span>");return{r:S,value:$,language:e,top:C}}catch(A){if(-1!=A.message.indexOf("Illegal"))return{r:0,value:t(n)};throw A}}function c(e,i){i=i||y.languages||Object.keys(b);var n={r:0,value:t(e)},r=n;return i.forEach(function(t){if(v(t)){var i=l(t,e,!1);i.language=t,i.r>r.r&&(r=i),i.r>n.r&&(r=n,n=i)}}),r.language&&(n.second_best=r),n}function u(t){return y.tabReplace&&(t=t.replace(/^((<[^>]+>|\t)+)/gm,function(t,e){return e.replace(/\t/g,y.tabReplace)})),y.useBR&&(t=t.replace(/\n/g,"<br>")),t}function h(t){var e=n(t);if(!/no(-?)highlight/.test(e)){var i;y.useBR?(i=document.createElementNS("http://www.w3.org/1999/xhtml","div"),i.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):i=t;
var r=i.textContent,s=e?l(e,r,!0):c(r),h=o(i);if(h.length){var d=document.createElementNS("http://www.w3.org/1999/xhtml","div");d.innerHTML=s.value,s.value=a(h,o(d),r)}s.value=u(s.value),t.innerHTML=s.value,t.className+=" hljs "+(!e&&s.language||""),t.result={language:s.language,re:s.r},s.second_best&&(t.second_best={language:s.second_best.language,re:s.second_best.r})}}function d(t){y=r(y,t)}function p(){if(!p.called){p.called=!0;var t=document.querySelectorAll("pre code");Array.prototype.forEach.call(t,h)}}function f(){addEventListener("DOMContentLoaded",p,!1),addEventListener("load",p,!1)}function m(t,e){var i=b[t]=e(this);i.aliases&&i.aliases.forEach(function(e){w[e]=t})}function g(){return Object.keys(b)}function v(t){return b[t]||b[w[t]]}var y={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},b={},w={};this.highlight=l,this.highlightAuto=c,this.fixMarkup=u,this.highlightBlock=h,this.configure=d,this.initHighlighting=p,this.initHighlightingOnLoad=f,this.registerLanguage=m,this.listLanguages=g,this.getLanguage=v,this.inherit=r,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]},this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]},this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}};hljs.registerLanguage("bash",function(t){var e={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)\}/}]},i={cN:"string",b:/"/,e:/"/,c:[t.BE,e,{cN:"variable",b:/\$\(/,e:/\)/,c:[t.BE]}]},n={cN:"string",b:/'/,e:/'/};return{aliases:["sh","zsh"],l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for break continue while in do done exit return set declare case esac export exec",literal:"true false",built_in:"printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"shebang",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[t.inherit(t.TM,{b:/\w[\w\d_]*/})],r:0},t.HCM,t.NM,i,n,e]}}),hljs.registerLanguage("cs",function(t){var e="abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await protected public private internal ascending descending from get group into join let orderby partial select set value var where yield",i=t.IR+"(<"+t.IR+">)?";return{aliases:["csharp"],k:e,i:/::/,c:[{cN:"comment",b:"///",e:"$",rB:!0,c:[{cN:"xmlDocTag",v:[{b:"///",r:0},{b:"<!--|-->"},{b:"</?",e:">"}]}]},t.CLCM,t.CBCM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line region endregion pragma checksum"},{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},t.ASM,t.QSM,t.CNM,{bK:"class namespace interface",e:/[{;=]/,i:/[^\s:]/,c:[t.TM,t.CLCM,t.CBCM]},{bK:"new",e:/\s/,r:0},{cN:"function",b:"("+i+"\\s+)+"+t.IR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:e,c:[{b:t.IR+"\\s*\\(",rB:!0,c:[t.TM]},{cN:"params",b:/\(/,e:/\)/,k:e,c:[t.ASM,t.QSM,t.CNM,t.CBCM]},t.CLCM,t.CBCM]}]}}),hljs.registerLanguage("ruby",function(t){var e="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",i="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",n={cN:"yardoctag",b:"@[A-Za-z]+"},r={cN:"value",b:"#<",e:">"},o={cN:"comment",v:[{b:"#",e:"$",c:[n]},{b:"^\\=begin",e:"^\\=end",c:[n],r:10},{b:"^__END__",e:"\\n$"}]},a={cN:"subst",b:"#\\{",e:"}",k:i},s={cN:"string",c:[t.BE,a],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:"%[qw]?\\(",e:"\\)"},{b:"%[qw]?\\[",e:"\\]"},{b:"%[qw]?{",e:"}"},{b:"%[qw]?<",e:">"},{b:"%[qw]?/",e:"/"},{b:"%[qw]?%",e:"%"},{b:"%[qw]?-",e:"-"},{b:"%[qw]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},l={cN:"params",b:"\\(",e:"\\)",k:i},c=[s,r,o,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[t.inherit(t.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+t.IR+"::)?"+t.IR}]},o]},{cN:"function",bK:"def",e:" |$|;",r:0,c:[t.inherit(t.TM,{b:e}),l,o]},{cN:"constant",b:"(::)?(\\b[A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:t.UIR+"(\\!|\\?)?:",r:0},{cN:"symbol",b:":",c:[s,{b:e}],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{b:"("+t.RSR+")\\s*",c:[r,o,{cN:"regexp",c:[t.BE,a],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}],r:0}];a.c=c,l.c=c;var u=[{b:/^\s*=>/,cN:"status",starts:{e:"$",c:c}},{cN:"prompt",b:/^\S[^=>\n]*>+/,starts:{e:"$",c:c}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:i,c:[o].concat(u).concat(c)}}),hljs.registerLanguage("diff",function(){return{aliases:["patch"],c:[{cN:"chunk",r:10,v:[{b:/^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"header",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\-\-\-/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+\+\+/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}}),hljs.registerLanguage("javascript",function(t){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},t.ASM,t.QSM,t.CLCM,t.CBCM,t.CNM,{b:"("+t.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[t.CLCM,t.CBCM,t.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[t.inherit(t.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[t.CLCM,t.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+t.IR,r:0}]}}),hljs.registerLanguage("xml",function(){var t="[A-Za-z0-9\\._:-]+",e={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},i={eW:!0,i:/</,r:0,c:[e,{cN:"attribute",b:t,r:0},{b:"=",r:0,c:[{cN:"value",v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xsl","plist"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"<!--",e:"-->",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[i],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[i],starts:{e:"</script>",rE:!0,sL:"javascript"}},{b:"<%",e:"%>",sL:"vbscript"},e,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:/[^ \/><\n\t]+/,r:0},i]}]}}),hljs.registerLanguage("markdown",function(){return{aliases:["md","mkdown","mkd"],c:[{cN:"header",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"blockquote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"`.+?`"},{b:"^( {4}|	)",e:"$",r:0}]},{cN:"horizontal_rule",b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"link_label",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link_url",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"link_reference",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:"^\\[.+\\]:",rB:!0,c:[{cN:"link_reference",b:"\\[",e:"\\]:",eB:!0,eE:!0,starts:{cN:"link_url",e:"$"}}]}]}}),hljs.registerLanguage("css",function(t){var e="[a-zA-Z-][a-zA-Z0-9_-]*",i={cN:"function",b:e+"\\(",rB:!0,eE:!0,e:"\\("};return{cI:!0,i:"[=/|']",c:[t.CBCM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[i,t.ASM,t.QSM,t.CSSNM]}]},{cN:"tag",b:e,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[t.CBCM,{cN:"rule",b:"[^\\s]",rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{cN:"value",eW:!0,eE:!0,c:[i,t.CSSNM,t.QSM,t.ASM,t.CBCM,{cN:"hexcolor",b:"#[0-9A-Fa-f]+"},{cN:"important",b:"!important"}]}}]}]}]}}),hljs.registerLanguage("http",function(){return{i:"\\S",c:[{cN:"status",b:"^HTTP/[0-9\\.]+",e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{cN:"request",b:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{cN:"string",e:"$"}},{b:"\\n\\n",starts:{sL:"",eW:!0}}]}}),hljs.registerLanguage("java",function(t){var e=t.UIR+"(<"+t.UIR+">)?",i="false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private";return{aliases:["jsp"],k:i,i:/<\//,c:[{cN:"javadoc",b:"/\\*\\*",e:"\\*/",r:0,c:[{cN:"javadoctag",b:"(^|\\s)@[A-Za-z]+"}]},t.CLCM,t.CBCM,t.ASM,t.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},t.UTM]},{bK:"new",e:/\s/,r:0},{cN:"function",b:"("+e+"\\s+)+"+t.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:i,c:[{b:t.UIR+"\\s*\\(",rB:!0,c:[t.UTM]},{cN:"params",b:/\(/,e:/\)/,k:i,c:[t.ASM,t.QSM,t.CNM,t.CBCM]},t.CLCM,t.CBCM]},t.CNM,{cN:"annotation",b:"@[A-Za-z]+"}]}}),hljs.registerLanguage("php",function(t){var e={cN:"variable",b:"(\\$|->)+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},i={cN:"preprocessor",b:/<\?(php)?|\?>/},n={cN:"string",c:[t.BE,i],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},t.inherit(t.ASM,{i:null}),t.inherit(t.QSM,{i:null})]},r={v:[t.BNM,t.CNM]};return{aliases:["php3","php4","php5","php6"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[t.CLCM,t.HCM,{cN:"comment",b:"/\\*",e:"\\*/",c:[{cN:"phpdoc",b:"\\s@[A-Za-z]+"},i]},{cN:"comment",b:"__halt_compiler.+?;",eW:!0,k:"__halt_compiler",l:t.UIR},{cN:"string",b:"<<<['\"]?\\w+['\"]?$",e:"^\\w+;",c:[t.BE]},i,e,{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[t.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",e,t.CBCM,n,r]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},t.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[t.UTM]},{bK:"use",e:";",c:[t.UTM]},{b:"=>"},n,r]}}),hljs.registerLanguage("python",function(t){var e={cN:"prompt",b:/^(>>>|\.\.\.) /},i={cN:"string",c:[t.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[e],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[e],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},t.ASM,t.QSM]},n={cN:"number",r:0,v:[{b:t.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:t.CNR+"[lLjJ]?"}]},r={cN:"params",b:/\(/,e:/\)/,c:["self",e,n,i]},o={e:/:/,i:/[${=;\n]/,c:[t.UTM,r]};return{aliases:["py","gyp"],k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[e,n,i,t.HCM,t.inherit(o,{cN:"function",bK:"def",r:10}),t.inherit(o,{cN:"class",bK:"class"}),{cN:"decorator",b:/@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("sql",function(t){var e={cN:"comment",b:"--",e:"$"};return{cI:!0,i:/[<>]/,c:[{cN:"operator",bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate savepoint release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup",e:/;/,eW:!0,k:{keyword:"abs absolute acos action add adddate addtime aes_decrypt aes_encrypt after aggregate all allocate alter analyze and any are as asc ascii asin assertion at atan atan2 atn2 authorization authors avg backup before begin benchmark between bin binlog bit_and bit_count bit_length bit_or bit_xor both by cache call cascade cascaded case cast catalog ceil ceiling chain change changed char_length character_length charindex charset check checksum checksum_agg choose close coalesce coercibility collate collation collationproperty column columns columns_updated commit compress concat concat_ws concurrent connect connection connection_id consistent constraint constraints continue contributors conv convert convert_tz corresponding cos cot count count_big crc32 create cross cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime data database databases datalength date_add date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts datetimeoffsetfromparts day dayname dayofmonth dayofweek dayofyear deallocate declare decode default deferrable deferred degrees delayed delete des_decrypt des_encrypt des_key_file desc describe descriptor diagnostics difference disconnect distinct distinctrow div do domain double drop dumpfile each else elt enclosed encode encrypt end end-exec engine engines eomonth errors escape escaped event eventdata events except exception exec execute exists exp explain export_set extended external extract fast fetch field fields find_in_set first first_value floor flush for force foreign format found found_rows from from_base64 from_days from_unixtime full function get get_format get_lock getdate getutcdate global go goto grant grants greatest group group_concat grouping grouping_id gtid_subset gtid_subtract handler having help hex high_priority hosts hour ident_current ident_incr ident_seed identified identity if ifnull ignore iif ilike immediate in index indicator inet6_aton inet6_ntoa inet_aton inet_ntoa infile initially inner innodb input insert install instr intersect into is is_free_lock is_ipv4 is_ipv4_compat is_ipv4_mapped is_not is_not_null is_used_lock isdate isnull isolation join key kill language last last_day last_insert_id last_value lcase lead leading least leaves left len lenght level like limit lines ln load load_file local localtime localtimestamp locate lock log log10 log2 logfile logs low_priority lower lpad ltrim make_set makedate maketime master master_pos_wait match matched max md5 medium merge microsecond mid min minute mod mode module month monthname mutex name_const names national natural nchar next no no_write_to_binlog not now nullif nvarchar oct octet_length of old_password on only open optimize option optionally or ord order outer outfile output pad parse partial partition password patindex percent_rank percentile_cont percentile_disc period_add period_diff pi plugin position pow power pragma precision prepare preserve primary prior privileges procedure procedure_analyze processlist profile profiles public publishingservername purge quarter query quick quote quotename radians rand read references regexp relative relaylog release release_lock rename repair repeat replace replicate reset restore restrict return returns reverse revoke right rlike rollback rollup round row row_count rows rpad rtrim savepoint schema scroll sec_to_time second section select serializable server session session_user set sha sha1 sha2 share show sign sin size slave sleep smalldatetimefromparts snapshot some soname soundex sounds_like space sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sql_variant_property sqlstate sqrt square start starting status std stddev stddev_pop stddev_samp stdev stdevp stop str str_to_date straight_join strcmp string stuff subdate substr substring subtime subtring_index sum switchoffset sysdate sysdatetime sysdatetimeoffset system_user sysutcdatetime table tables tablespace tan temporary terminated tertiary_weights then time time_format time_to_sec timediff timefromparts timestamp timestampadd timestampdiff timezone_hour timezone_minute to to_base64 to_days to_seconds todatetimeoffset trailing transaction translation trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse ucase uncompress uncompressed_length unhex unicode uninstall union unique unix_timestamp unknown unlock update upgrade upped upper usage use user user_resources using utc_date utc_time utc_timestamp uuid uuid_short validate_password_strength value values var var_pop var_samp variables variance varp version view warnings week weekday weekofyear weight_string when whenever where with work write xml xor year yearweek zon",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int integer interval number numeric real serial smallint varchar varying int8 serial8 text"},c:[{cN:"string",b:"'",e:"'",c:[t.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[t.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[t.BE]},t.CNM,t.CBCM,e]},t.CBCM,e]}}),hljs.registerLanguage("ini",function(t){return{cI:!0,i:/\S/,c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:!0,k:"on off true false yes no",c:[t.QSM,t.NM],r:0}]}]}}),hljs.registerLanguage("perl",function(t){var e="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",i={cN:"subst",b:"[$@]\\{",e:"\\}",k:e},n={b:"->{",e:"}"},r={cN:"variable",v:[{b:/\$\d/},{b:/[\$\%\@](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/},{b:/[\$\%\@][^\s\w{]/,r:0}]},o={cN:"comment",b:"^(__END__|__DATA__)",e:"\\n$",r:5},a=[t.BE,i,r],s=[r,t.HCM,o,{cN:"comment",b:"^\\=\\w",e:"\\=cut",eW:!0},n,{cN:"string",c:a,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[t.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[t.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+t.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[t.HCM,o,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[t.BE],r:0}]},{cN:"sub",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",r:5},{cN:"operator",b:"-\\w\\b",r:0}];return i.c=s,n.c=s,{aliases:["pl"],k:e,c:s}}),hljs.registerLanguage("objectivec",function(t){var e={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"NSString NSData NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView NSView NSViewController NSWindow NSWindowController NSSet NSUUID NSIndexSet UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection NSURLSession NSURLSessionDataTask NSURLSessionDownloadTask NSURLSessionUploadTask NSURLResponseUIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},i=/[a-zA-Z@][a-zA-Z0-9_]*/,n="@interface @class @protocol @implementation";return{aliases:["m","mm","objc","obj-c"],k:e,l:i,i:"</",c:[t.CLCM,t.CBCM,t.CNM,t.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[t.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"preprocessor",b:"#",e:"$",c:[{cN:"title",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+n.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:n,l:i,c:[t.UTM]},{cN:"variable",b:"\\."+t.UIR,r:0}]}}),hljs.registerLanguage("coffeescript",function(t){var e={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",reserved:"case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",built_in:"npm require console print module global window document"},i="[A-Za-z$_][0-9A-Za-z$_]*",n=t.inherit(t.TM,{b:i}),r={cN:"subst",b:/#\{/,e:/}/,k:e},o=[t.BNM,t.inherit(t.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[t.BE]},{b:/'/,e:/'/,c:[t.BE]},{b:/"""/,e:/"""/,c:[t.BE,r]},{b:/"/,e:/"/,c:[t.BE,r]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[r,t.HCM]},{b:"//[gim]*",r:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{cN:"property",b:"@"+i},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];return r.c=o,{aliases:["coffee","cson","iced"],k:e,i:/\/\*/,c:o.concat([{cN:"comment",b:"###",e:"###"},t.HCM,{cN:"function",b:"(^\\s*|\\B)("+i+"\\s*=\\s*)?(\\(.*\\))?\\s*\\B[-=]>",e:"[-=]>",rB:!0,c:[n,{cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:e,c:["self"].concat(o)}]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[n]},n]},{cN:"attribute",b:i+":",e:":",rB:!0,eE:!0,r:0}])}}),hljs.registerLanguage("nginx",function(t){var e={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+t.UIR}]},i={eW:!0,l:"[a-z/_]+",k:{built_in:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[t.HCM,{cN:"string",c:[t.BE,e],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{cN:"url",b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[e]},{cN:"regexp",c:[t.BE,e],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},e]};return{aliases:["nginxconf"],c:[t.HCM,{b:t.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"title",b:t.UIR,starts:i}],r:0}],i:"[^\\s\\}]"}}),hljs.registerLanguage("json",function(t){var e={literal:"true false null"},i=[t.QSM,t.CNM],n={cN:"value",e:",",eW:!0,eE:!0,c:i,k:e},r={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[t.BE],i:"\\n",starts:n}],i:"\\S"},o={b:"\\[",e:"\\]",c:[t.inherit(n,{cN:null})],i:"\\S"};return i.splice(i.length,0,r,o),{c:i,k:e,i:"\\S"}}),hljs.registerLanguage("apache",function(t){var e={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[t.HCM,{cN:"tag",b:"</?",e:">"},{cN:"keyword",b:/\w+/,r:0,k:{common:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"sqbracket",b:"\\s\\[",e:"\\]$"},{cN:"cbracket",b:"[\\$%]\\{",e:"\\}",c:["self",e]},e,t.QSM]}}],i:/\S/}}),hljs.registerLanguage("cpp",function(t){var e={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"};return{aliases:["c","h","c++","h++"],k:e,i:"</",c:[t.CLCM,t.CBCM,t.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},t.CNM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line pragma",c:[{b:'include\\s*[<"]',e:'[>"]',k:"include",i:"\\n"},t.CLCM]},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:e,c:["self"]},{b:t.IR+"::"}]}}),hljs.registerLanguage("makefile",function(t){var e={cN:"variable",b:/\$\(/,e:/\)/,c:[t.BE]};return{aliases:["mk","mak"],c:[t.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{cN:"constant",e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[e]}}},{cN:"title",b:/^[\w]+:\s*$/},{cN:"phony",b:/^\.PHONY:/,e:/$/,k:".PHONY",l:/[\.\w]+/},{b:/^\t+/,e:/$/,r:0,c:[t.QSM,e]}]}}),$(document).ready(function(){var t={};t.init=function(){$.get(RELATIVE_PATH+"/markdown/config",function(t){window.Markdown=t;var e=document.createElement("link");e.rel="stylesheet",e.href=RELATIVE_PATH+"/plugins/nodebb-plugin-markdown/styles/"+t.theme,document.head.appendChild(e)})},t.highlight=function(e,i){if(window.Markdown){if(window.Markdown.highlight){var n=$(".topic-text pre code");n.each(function(t,e){hljs.highlightBlock(e)})}}else i||setTimeout(function(){t.highlight(null,!0)},1e3)},$(window).on("action:connected",t.init),$(window).on("action:posts.loaded action:topic.loaded",t.highlight)}),function(){$(window).on("action:ajaxify.end",function(t,e){if("login"===e.url||"register"===e.url){var i=$(".alt-logins li.nodebb");i.css("display","none"),$('<a href="'+RELATIVE_PATH+'/auth/nodebb" class="btn btn-default"><i class="fa fa-external-link"></i> Login via NodeBB.org</a>').insertAfter(i)}})}(),!function(t){var e=function(t){var e,n;return e=function(){n=!1},function(){var r;n||(n=!0,r=i(arguments),r.unshift(e),t.apply(this,r))}},i=function(t){var e;return e=Array.prototype.slice.call(t)},n=function(){var e;return e=t("<div></div>").css(["color"]).color,"undefined"!=typeof e?function(t,e){return t.css(e)}:function(e,i){var n;return n={},t.each(i,function(t,i){n[i]=e.css(i)}),n}}(),r=function(t){return t},o=function(t){var e={};return function(i,n){e[i]?n(e[i]):t.call(this,i,function(t){e[i]=(e[i]||[]).concat(t),n.apply(null,arguments)})}},a=function(t,e){var i,n;if(t.indexOf)return-1!=t.indexOf(e);for(i=0,n=t.length;n>i;i++)if(t[i]===e)return!0;return!1},s=function(){function i(e){var i;this.el=e.get(0),i=this.el===document.activeElement,this.$el=u(e),this.id="textComplete"+c++,this.strategies=[],i?(this.initialize(),this.$el.focus()):this.$el.one("focus.textComplete",t.proxy(this.initialize,this))}var r,o,a,s,c;r={wrapper:'<div class="textcomplete-wrapper"></div>',list:'<ul class="dropdown-menu"></ul>'},o={wrapper:{position:"relative"},list:{position:"absolute",top:0,left:0,zIndex:"100",display:"none"}},a=t(r.wrapper).css(o.wrapper),s=t(r.list).css(o.list),c=0,t.extend(i.prototype,{initialize:function(){var e,i;
e=s.clone(),this.listView=new l(e,this),this.$el.before(e).on({"keyup.textComplete":t.proxy(this.onKeyup,this),"keydown.textComplete":t.proxy(this.listView.onKeydown,this.listView)}),i={},i["click."+this.id]=t.proxy(this.onClickDocument,this),i["keyup."+this.id]=t.proxy(this.onKeyupDocument,this),t(document).on(i)},register:function(t){this.strategies=this.strategies.concat(t)},renderList:function(t){this.clearAtNext&&(this.listView.clear(),this.clearAtNext=!1),t.length&&(this.listView.shown||(this.listView.setPosition(this.getCaretPosition()).clear().activate(),this.listView.strategy=this.strategy),t=t.slice(0,this.strategy.maxCount),this.listView.render(t)),!this.listView.data.length&&this.listView.shown&&this.listView.deactivate()},searchCallbackFactory:function(t){var e=this;return function(i,n){e.renderList(i),n||(t(),e.clearAtNext=!0)}},onKeyup:function(t){var e,i;if(!this.skipSearch(t))if(e=this.extractSearchQuery(this.getTextFromHeadToCaret()),e.length){if(i=e[1],this.term===i)return;this.term=i,this.search(e)}else this.term=null,this.listView.deactivate()},skipSearch:function(t){if(this.skipNextKeyup)return this.skipNextKeyup=!1,!0;switch(t.keyCode){case 40:case 38:return!0}},onSelect:function(e){var i,n,r;i=this.getTextFromHeadToCaret(),n=this.el.value.substring(this.el.selectionEnd),r=this.strategy.replace(e),t.isArray(r)&&(n=r[1]+n,r=r[0]),i=i.replace(this.strategy.match,r),this.$el.val(i+n).trigger("change").trigger("textComplete:select",e),this.el.focus(),this.el.selectionStart=this.el.selectionEnd=i.length,this.skipNextKeyup=!0},onClickDocument:function(t){t.originalEvent&&!t.originalEvent.keepTextCompleteDropdown&&this.listView.deactivate()},onKeyupDocument:function(t){this.listView.shown&&27===t.keyCode&&(this.listView.deactivate(),this.$el.focus())},destroy:function(){var e;this.$el.off(".textComplete"),t(document).off("."+this.id),this.listView&&this.listView.destroy(),e=this.$el.parent(),e.after(this.$el).remove(),this.$el.data("textComplete",void 0),this.$el=null},getCaretPosition:function(){if(0!==this.el.selectionEnd){var e,i,r,o,a,s;return s=this.$el.attr("dir")||this.$el.css("direction"),e=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left"],i=t.extend({position:"absolute",overflow:"auto","white-space":"pre-wrap",top:0,left:-9999,direction:s},n(this.$el,e)),r=t("<div></div>").css(i).text(this.getTextFromHeadToCaret()),o=t("<span></span>").text(".").appendTo(r),this.$el.before(r),a=o.position(),a.top+=o.height()-this.$el.scrollTop(),"rtl"===s&&(a.left-=this.listView.$el.width()),r.remove(),a}},getTextFromHeadToCaret:function(){var t,e,i;return e=this.el.selectionEnd,"number"==typeof e?t=this.el.value.substring(0,e):document.selection&&(i=this.el.createTextRange(),i.moveStart("character",0),i.moveEnd("textedit"),t=i.text),t},extractSearchQuery:function(t){var e,i,n,r;for(e=0,i=this.strategies.length;i>e;e++)if(n=this.strategies[e],r=t.match(n.match))return[n,r[n.index]];return[]},search:e(function(t,e){var i;this.strategy=e[0],i=e[1],this.strategy.search(i,this.searchCallbackFactory(t))})});var u=function(t){return t.wrap(a.clone().css("display",t.css("display")))};return i}(),l=function(){function e(e,i){this.data=[],this.$el=e,this.index=0,this.completer=i,this.$el.on("click.textComplete","li.textcomplete-item",t.proxy(this.onClick,this))}return t.extend(e.prototype,{shown:!1,render:function(t){var e,i,n,r,o;for(e="",i=0,n=t.length;n>i&&(o=t[i],a(this.data,o)||(r=this.data.length,this.data.push(o),e+='<li class="textcomplete-item" data-index="'+r+'"><a>',e+=this.strategy.template(o),e+="</a></li>",this.data.length!==this.strategy.maxCount));i++);this.$el.append(e),this.data.length?this.activateIndexedItem():this.deactivate()},clear:function(){return this.data=[],this.$el.html(""),this.index=0,this},activateIndexedItem:function(){this.$el.find(".active").removeClass("active"),this.getActiveItem().addClass("active")},getActiveItem:function(){return t(this.$el.children().get(this.index))},activate:function(){return this.shown||(this.$el.show(),this.completer.$el.trigger("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.completer.$el.trigger("textComplete:hide"),this.shown=!1,this.data=this.index=null),this},setPosition:function(t){return this.$el.css(t),this},select:function(t){var e=this;this.completer.onSelect(this.data[t]),setTimeout(function(){e.deactivate()},0)},onKeydown:function(t){this.shown&&(38===t.keyCode?(t.preventDefault(),0===this.index?this.index=this.data.length-1:this.index-=1,this.activateIndexedItem()):40===t.keyCode?(t.preventDefault(),this.index===this.data.length-1?this.index=0:this.index+=1,this.activateIndexedItem()):(13===t.keyCode||9===t.keyCode)&&(t.preventDefault(),this.select(parseInt(this.getActiveItem().data("index"),10))))},onClick:function(e){var i=t(e.target);e.originalEvent.keepTextCompleteDropdown=!0,i.hasClass("textcomplete-item")||(i=i.parents("li.textcomplete-item")),this.select(parseInt(i.data("index"),10))},destroy:function(){this.deactivate(),this.$el.off("click.textComplete").remove(),this.$el=null}}),e}();t.fn.textcomplete=function(e){var i,n,a,l;if(l="textComplete","destroy"===e)return this.each(function(){var e=t(this).data(l);e&&e.destroy()});for(i=0,n=e.length;n>i;i++)a=e[i],a.template||(a.template=r),null==a.index&&(a.index=2),a.cache&&(a.search=o(a.search)),a.maxCount||(a.maxCount=10);return this.each(function(){var i,n;i=t(this),n=i.data(l),n||(n=new s(i),i.data(l,n)),n.register(e)})}}(window.jQuery||window.Zepto),!function(){var t;return t=window.emojiExtended={addCompletion:function(t,e){return this.ready.then(function(i){return i(t,e)},e),null},path:""+RELATIVE_PATH+"/plugins/nodebb-plugin-emoji-extended/images/",getPath:function(t){return null!=t?""+this.path+encodeURIComponent(t.toLowerCase())+".png":this.path},list:[],ready:$.Deferred()},$(document).ready(function(){return socket.emit("modules.emojiExtended",null,function(e,i){var n,r,o,a,s,l,c,u,h,d;return null!=e?(console.error("Error while initializing emoji-extended."),console.error(e),t.ready.reject(e)):(t.list=i.list,c=i.settings.maxCount,u=i.settings.minChars,r=i.settings.completePrefix,d=i.settings.zoom,o=20,h='<style type="text/css">\n  .emoji {\n    width: 20px;\n    height: 20px;\n    transition: z-index,margin,width,height;\n    transition-timing-function: ease-in-out;\n    transition-duration: 0.2s;\n    transition-delay: 0.2s;\n    z-index: 0;\n  }',d>0&&(d>512&&(d=512),h+=".emoji:hover {\n  width: "+d+"px;\n  height: "+d+"px;\n  margin: "+-(d-o)/2+"px;\n  z-index: "+d+";\n}"),$("head").append(h+"\n</style>"),s=function(t){var e,i,n,r,o,a,s,l,c;for(i=0,r=0,o=!1,e=!0,s="",a=/^\s+`*$/,l=0,c=t.length;c>l;l++)n=t[l],"`"!==n||o&&e||a.test(s)?r===i&&i?(i=r=0,e=!0,s=""):(e&&i&&(e=!1),s+=n,r=0):e?i++:(r++,s+=n),o="\\"===n;return i},n=function(t){return 3===t?/^( {8}\s|( {0,3}\t){2}\s| {0,3}\t {4}\s| {4,7}\t\s)/:new RegExp("^( {"+(t+6)+"}|( {0,3}\\t){2}| {0,3}\\t( {0,"+(t+2)+"})| {4,7}\\t)")},a=function(t){var e,i,r,o,a,s,l,c,u,h,d,p;for(c=!1,e=!1,h=!0,a=/^\s*$/,u=/^( {0,3})[\+*-]\s/,r=/^ {4,}| {0,3}\t/,i=null,d=0,p=t.length;p>d;d++)l=t[d],o=a.test(l),c=c&&!(h&&o),(s=l.match(u))&&(c=!0,i=n(s[1].length)),e=c&&i.test(l)||!c&&(h||e)&&r.test(l),h=o;return e},l=function(t){var e;return e=t.match(/^.*$/gm),!(s(e[e.length-1])||a(e))},t.ready.resolve.call(t,function(e,i){return e instanceof $||(e=$(e)),e.data("emoji-extended-added")?void("function"==typeof i&&i(new Error("Already added"))):(e.data("emoji-extended-added","1"),e.textcomplete([{match:new RegExp("^((([\\s\\S]*)("+r+")):[\\w\\d+-]{"+u+",})$","i"),search:function(e,i){var n,r;return l(e)?(r=e.match(/:([\w\d\+-]*)$/)[1],n=new RegExp("^"+r.replace(/\+/g,"\\+"),"i"),i($.grep(t.list,function(t){return n.test(t)}))):void i([])},replace:function(t){return"$2:"+t.toLowerCase()+": "},template:function(e){return"<img class='emoji emoji-extended img-responsive' src='"+t.getPath(e)+"' /> "+e},maxCount:c,index:1}]),e.closest(".textcomplete-wrapper").css("height","100%").find("textarea").css("height","100%"),"function"==typeof i?i():void 0)}))})}),$(window).on("action:composer.loaded",function(e,i){return t.addCompletion($("#cmp-uuid-"+i.post_uuid+" .write"))}),$(window).on("action:chat.loaded",function(){return t.addCompletion($("#chat-message-input"))}),$(window).trigger("emoji-extended:initialized",t),t.ready.then(function(){var e;return e={people:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"],nature:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"],objects:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"],places:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"],symbols:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]},require(["composer","composer/controls"],function(i,n){return i.addButton("fa fa-smile-o",function(i,r,o){var a,s,l,c,u,h,d,p,f,m,g,v,y,b,w,_,x,k,C;for(l=function(e){var s;return s=$("<a class='emoji-link' title='"+e+"'></a>"),s.html("<img class='emoji emoji-extended img-responsive' src='"+t.getPath(e)+"' />&nbsp;:"+e+":"),s.click(function(){return a.modal("hide"),n.updateTextareaSelection(i,o,o),n.insertIntoTextarea(i,":"+e+": "),n.updateTextareaSelection(i,r===o?o+3+e.length:r,o+3+e.length)})},s=$("<p></p>"),s.append("<h5>People</h5>"),w=e.people,u=0,f=w.length;f>u;u++)c=w[u],s.append(l(c));for(s.append("<hr /><h5>Nature</h5>"),_=e.nature,h=0,m=_.length;m>h;h++)c=_[h],s.append(l(c));for(s.append("<hr /><h5>Objects</h5>"),x=e.objects,d=0,g=x.length;g>d;d++)c=x[d],s.append(l(c));for(s.append("<hr /><h5>Places</h5>"),k=e.places,p=0,v=k.length;v>p;p++)c=k[p],s.append(l(c));for(s.append("<hr /><h5>Symbols</h5>"),C=e.symbols,b=0,y=C.length;y>b;b++)c=C[b],s.append(l(c));return a=bootbox.dialog({title:"Emojis",message:s}),a.addClass("emoji-dialog")})})})}(),$(function(){$(window).on("action:ajaxify.end",function(t,e){if("register"===e.url&&window.plugin&&plugin["spam-be-gone"]&&plugin["spam-be-gone"].recaptchaArgs&&$("#"+plugin["spam-be-gone"].recaptchaArgs.targetId).length){var i=function(t,e,i){i||(i={});var n=document.createElement(t);n.onload=i.onload||null;var r=n.setAttribute?function(t,e,i){return t.setAttribute(e,i),t}:function(t,e,i){return t[e]=i,t};if(Object.keys(e).forEach(function(t){n=r(n,t,e[t])}),i.insertBefore)i.insertBefore.parentNode.insertBefore(n,i.insertBefore);else if(i.appendChild)i.appendChild.appendChild(n);else{var o=document.getElementsByTagName("script");o[o.length-1].parentNode.appendChild(n)}},n=function(t,e){e||(e={}),i("script",{src:t,type:"text/javascript"},e)},r=function(){var t=plugin["spam-be-gone"].recaptchaArgs;window.Recaptcha&&Recaptcha.create(t.publicKey,t.targetId,{theme:t.options.theme,lang:t.options.lang,tabIndex:t.options.tabindex,callback:function(){var t=utils.param("error");t&&app.alertError(t)}})};$('script[scr$="recaptcha_ajax.js"]').length?r():n("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",{onload:r})}})});var __slice=[].slice;!function(){var t,e,i,n,r,o,a,s,l;return r=!1,l=function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],console.log.apply(console,["Shortcuts DEBUG -"].concat(__slice.call(t)))},n=function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],r?l.apply(null,t):void 0},n("Debug-mode is enabled."),a=["TEXTAREA","INPUT"],s={0:"",8:"Backspace",9:"Tab",13:"Enter",27:"Escape",32:"Space",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",187:"=",189:"-",190:".",191:"/",219:"[",220:"\\",221:"]"},i=function(t){return t=+t,t>=48&&90>=t?String.fromCharCode(t).toUpperCase():t>=112&&123>=t?"F"+(t-111):s[t]||"#"+t},t=function(){function t(t,e){var n,r,o,a,s,l,c,u,h;for(r=!1,n=!1,c=!1,s=!1,this.action=e,l=t.split("+"),this.keyCode=+/\d+/.exec(l[l.length-1])[0],o=u=0,h=l.length;h>u;o=++u)a=l[o],o!==l.length-1&&(this.keyString+=function(){switch(a.toUpperCase()){case"C":return r=!0,"Ctrl+";case"A":return n=!0,"Alt+";case"S":return c=!0,"Shift+";case"M":return s=!0,"Meta+";default:return""}}());this.keyString+=i(this.keyCode),this.matches=function(t,e,i){return t.ctrlKey===r&&t.altKey===n&&t.shiftKey===c&&t.metaKey===s&&e===this.keyCode&&(!i||r||n||s||27===e)}}return t.prototype.keyCode=!1,t.prototype.keyString="",t.prototype.action=null,t}(),e=function(){function e(){}var i,s;return i=function(t,e,i){var n,r;return t.push(i),null!=(n=e[i.action])&&null!=(r=n.bindings)?r.push(i):void 0},s=function(e,n,r,o){var a,l,c,u,h,d,p,f;for(d=0,p=n.length;p>d;d++)a=n[d],a.bindings=[];o&&(o+="_"),f=[];for(h in r)u=r[h],l=o+h,f.push(u instanceof Array?function(){var r,o,a;for(a=[],r=0,o=u.length;o>r;r++)c=u[r],a.push(i(e,n,new t(c,l)));return a}():u instanceof Object?s(e,n,u,l):i(e,n,new t(u,l)));return f},e.prototype.helper={selection:{classNames:{selection:"shortcut-selection",highlight_in:"highlight-in",highlight_out:"highlight-out"},areas:[],index:-1,active:{area:void 0,item:$()},classified:$(),select:function(t,e,i){var n;return null==t&&(t=this.index),null==i&&(i=this.classified),n=this.active.area=this.areas[this.index=t],null==e&&(e=null!=n?n.index:void 0),null!=n&&(n.index=e),this.active.item=null!=n?n.item():void 0,this.classified[0]!==i[0]?(this.classified.removeClass(this.classNames.selection),shortcuts.helper.scrollIntoView((this.classified=i.addClass(this.classNames.selection))[0])):void 0},deselect:function(){return this.select(-1,0,$())},reset:function(t){return null==t&&(t=[]),this.areas=t,this.deselect()},highlight:function(){var t;return t=this.classified,null==t.length?!1:(shortcuts.helper.scrollIntoView(t[0]),t.addClass(this.classNames.highlight_in),setTimeout(function(){return t.addClass(this.classNames.highlight_out),t.removeClass(this.classNames.highlight_in),setTimeout(function(){return t.removeClass(this.classNames.highlight_out)},200)},500),!0)}},blurFocus:function(){return $("*:focus").blur()},scrollIntoView:function(t){var e;return null!=t&&(null!=t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView(!0),e=$(t).offset().top-$("#header-menu").height()-10,document.body.scrollTop>e&&(document.body.scrollTop=e),document.documentElement.scrollTop>e)?document.documentElement.scrollTop=e:void 0},getActiveDialogs:function(){return $(".modal-dialog").not(".chat-modal>div").filter(":visible").filter(function(){return $(this).height()})},getActiveComposer:function(){var t,e,i,n,r;for(t=$(".composer").filter(":visible"),r=t.toArray(),i=0,n=r.length;n>i;i++)if(e=r[i],"hidden"!==$(e).css("visibility"))return e;return null}},e.prototype.version="",e.prototype.bindings=[],e.prototype.actions={},e.prototype.helpMessages={},e.prototype.lastTriggered={action:null,time:0,timeSpace:200},e.prototype.parseCfg=function(t){return this.version=t.version,this.helpMessages=t.descriptions,this.lastTriggered.timeSpace=t.timeSpace,s(this.bindings=[],this.actions,t.actions,"")},e.prototype.passEvent=function(t,e){var i,s,l,c,u,h,d,p,f,m,g,v,y,b,w,_,x,k,C;for(h=o(),n("Scopes matching event-target: "+h),c=[],s=a.indexOf(t.target.tagName)>=0,k=this.bindings,f=0,y=k.length;y>f;f++)if(l=k[f],l.matches(t,e,s))for(i=m=0,C=h.length-1;C>=0?C>=m:m>=C;i=C>=0?++m:--m)if(0===l.action.search(h[i])){l.priority=i,c.push(l);break}for(c.sort(function(t,e){return t.priority-e.priority}),g=0,b=c.length;b>g;g++)l=c[g],delete l.priority;if(r&&c.length){for(p="[",v=0,w=c.length;w>v;v++)l=c[v],p+=""+l.action+", ";n(""+p.slice(0,+(p.length-3)+1||9e9)+"] match"+(1===c.length?"es":"")+" the key-event")}for(u=(new Date).getTime(),d=u-this.lastTriggered.time<=this.lastTriggered.timeSpace,x=0,_=c.length;_>x&&(l=c[x],!d||l!==this.lastTriggered.action);x++)if(this.trigger(l.action,t)!==!1)return this.lastTriggered.action=l,void(this.lastTriggered.time=u);return n("No action got triggered")},e.prototype.trigger=function(t,e){var i,r,o;return i=null!=(o=this.actions[t])?o.cb:void 0,null!=i&&"function"==typeof i?(r=null!=i?i.call(null!=e?e.target:void 0,this,e):void 0,r!==!1&&(null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),n("'"+t+"' got triggered")),r):!1},e.prototype.addAction=function(t,e){var i;return this.actions[t]={cb:e,bindings:function(){var e,n,r,o;for(r=this.bindings,o=[],e=0,n=r.length;n>e;e++)i=r[e],i.action===t&&o.push(i);return o}.call(this)}},e.prototype.addActions=function(t){var e,i,n,r,o,a;a=[];for(n in t)o=t[n],a.push(function(){var t;t=[];for(r in o)i=o[r],e=""+n+"_"+r,t.push(this.addAction(e,i));return t}.call(this));return a},e.prototype.wrapAction=function(t,e){return null!=this.actions[t]?this.actions[t].cb=e(this.actions[t].cb):this.addAction(t,e(function(){}))},e.prototype.prependToAction=function(t,e){return this.wrapAction(t,function(t){return function(){var i,n;return i=1<=arguments.length?__slice.call(arguments,0):[],n=e.apply(null,i),n===!1?!1:t.apply(null,i)}})},e.prototype.appendToAction=function(t,e,i){return this.wrapAction(t,function(t){return function(){var n,r;return n=1<=arguments.length?__slice.call(arguments,0):[],r=t.apply(null,n),r!==!1||i?e.apply(null,n):!1}})},e.prototype.getHelpMessageItems=function(t){var e,i,n,r,o,a,s;r="";for(s in t)if(a=t[s],"_"!==s[0]){r+="<h4>"+a._title+"</h4><ul>";for(o in a)e=a[o],"_title"!==o&&(n=function(){var t,e,n,r,a;for(r=null!=(n=this.actions[""+s+"_"+o])?n.bindings:void 0,a=[],t=0,e=r.length;e>t;t++)i=r[t],a.push(i.keyString);return a}.call(this),(null!=n?n.length:void 0)&&(n=n.join(" | "),r+="<li class='clearfix'><div class='description'>"+e+"</div><div class='keys'>"+n+"</div></li>"));r+="</ul>"}return r},e.prototype.help=function(){var t;return document.querySelector("#shortcuts_help_body")?void this.helper.getActiveDialogs().each(function(t,e){return $(".bootbox-close-button",e).click()}):(t="<div id='shortcuts_help_body'>",t+=this.getHelpMessageItems(this.helpMessages),app.isAdmin&&(t+="<h3>Admin Actions</h3>",t+=this.getHelpMessageItems(this.helpMessages._admin)),t+="</div>",bootbox.dialog({title:"NodeBB Shortcuts <small>"+this.version+"</small>",message:t}),setTimeout(function(){return $("#shortcuts_help_body>div").focus()},100))},e}(),o=function(){var t;return t=[],shortcuts.helper.getActiveDialogs().length?["dialog","body"]:(null!=shortcuts.helper.getActiveComposer()?t.push("composer"):$('.taskbar li[data-module="composer"]').length&&t.push("composer_closed"),$(".taskbar li").length&&t.push("taskbar"),$(".breadcrumb").length&&t.push("breadcrumb"),t.push("topic","category","selection"),$(".nav-pills").length&&t.push("navPills"),t.push("header","body"),t)},window.shortcuts=new e,$(document).ready(function(){return socket.emit("modules.getShortcutsSettings",null,function(t,e){var i;return null!=t?void console.error(t):(i=e.selectionColor,$("head").append("<style type='text/css'>.shortcut-selection { box-shadow:0 0 5px 1px "+i+" !important; }</style>"),shortcuts.parseCfg(e),$(document).keydown(function(t){var e;return t=t||window.event,e=t.which=t.which||t.keyCode||t.key,r&&l("Key Down: "+(t.ctrlKey?"C-":"")+(t.altKey?"A-":"")+(t.shiftKey?"S-":"")+(t.metaKey?"M-":"")+e),shortcuts.passEvent(t,e)}),$(document).keypress(function(t){var e;return t=t||window.event,a.indexOf(t.target.tagName)>=0?void 0:(e=t.which||t.keyCode||t.key,63===e?shortcuts.help():void 0)}),$(document).keyup(function(){return shortcuts.lastTriggered.time=0}))})})}(),!function(){var t,e,i,n,r,o,a;return a=shortcuts.helper,o=function(){var t,e,i;return e=$('.taskbar li[data-module="composer"]'),t="cmp-uuid-"+e.data("uuid"),null!=(i=$("> a",e)[0])&&i.click(),document.getElementById(t)},e={next:function(t){var e,i,n,r,o,a;for(e=t.last().hasClass("active"),o=t.toArray(),a=[],n=0,r=o.length;r>n;n++)i=o[n],e&&$(">a",i)[0].click(),a.push(e=$(i).hasClass("active"));return a},prev:function(t){var e,i,n,r,o,a;for(e=t.first().hasClass("active"),o=t.toArray().reverse(),a=[],n=0,r=o.length;r>n;n++)i=o[n],e&&$(">a",i)[0].click(),a.push(e=$(i).hasClass("active"));return a}},n=function(t){var e,i;return e=a.getActiveDialogs().parent(),e.length?(i=e.parent().height(),e=e[0]):(e=document.body,i=window.innerHeight-$(".header").height(),document.documentElement.scrollTop+=i*t),e.scrollTop+=i*t},r=function(t){var e,i;return e=a.getActiveDialogs().parent(),e.length?(i=t*(e.children()[0].offsetHeight-e.height()),e=e[0]):(e=document.body,i=t*(document.body.offsetHeight-window.innerHeight),document.documentElement.scrollTop=i),e.scrollTop=i},t=function(){return $(".form-control,input,.btn").not("button,[disabled]").filter(":visible")},i=function(e){var i,n,r;if(null==e&&(e=1),n=t(),!n.length)return null;for(i=n.filter(":focus")[0],r=null!=i?n.toArray().indexOf(i)+e:e>0?e-1:e;0>r;)r+=n.length;for(;r>=n.length;)r-=n.length;return n.eq(r)},shortcuts.addActions({body:{focus:function(){return $(".open>.dropdown-toggle").click(),a.blurFocus()},scroll_pageDown:function(){return n(1)},scroll_pageUp:function(){return n(-1)},scroll_top:function(){return r(0)},scroll_bottom:function(){return r(1)},reload_soft:function(){return ajaxify.refresh()},reload_hard:function(){return location.href=/^([^#]*)(#[^\/]*)?$/.exec(location.href)[1]},form_next:function(){var t,e;return(null!=(e=t=i(1))?e.length:void 0)?(t.focus(),a.scrollIntoView(t[0])):$("#search-button").click().length>0},form_prev:function(){var t,e;return(null!=(e=t=i(-1))?e.length:void 0)?(t.focus(),a.scrollIntoView(t[0])):$("#search-button").click().length>0}},header:{home:function(){return ajaxify.go("")},unread:function(){return ajaxify.go("unread")},recent:function(){return ajaxify.go("recent")},tags:function(){return ajaxify.go("tags")},popular:function(){return ajaxify.go("popular")},users:function(){return ajaxify.go("users")},notifications:function(){return ajaxify.go("notifications")},profile:function(){return ajaxify.go("user/"+app.username)
},admin:function(){return app.isAdmin?location.pathname=RELATIVE_PATH+"/admin":!1},search:function(){return $("#search-button").click().length>0},chats:function(){return $("#chat_dropdown").click()}},navPills:{next:function(){var t;return t=$(">li",$(".nav-pills")[0]).not(".hide"),"right"===t.css("float")?e.prev(t):e.next(t)},prev:function(){var t;return t=$(">li",$(".nav-pills")[0]).not(".hide"),"right"===t.css("float")?e.next(t):e.prev(t)}},breadcrumb:{up:function(){var t;return t=$("> a",$(".breadcrumb li.active").prev())[0],null==t?!1:t.click()}},category:{newTopic:function(){var t;return t=$("#new_post")[0],null==t?!1:t.click()}},topic:{reply:function(){var t;return t=$(".shortcut-selection .btn.quote")[0]||$(".post_reply").last()[0],null==t?!1:t.click()},threadTools:function(){var t;return t=$(".thread-tools>button")[0],null==t?!1:t.click()}},composer:{send:function(){return $('button[data-action="post"]',a.getActiveComposer())[0].click()},discard:function(){return $('button[data-action="discard"]',a.getActiveComposer())[0].click()},closed_input:function(){var t;return t=a.getActiveComposer()||o(),null==t?!1:setTimeout(function(){return $(".write",t).focus()},0)},closed_title:function(){var t;return t=a.getActiveComposer()||o(),null==t?!1:setTimeout(function(){return $(".title",t).focus()},0)},preview:function(){var t;return t=$('a[data-pane=".tab-preview"]',a.getActiveComposer()),!t.length||t.parent().hasClass("active")?!1:t[0].click()},previewSend:function(){var t,e;return t=a.getActiveComposer(),e=$('a[data-pane=".tab-preview"]',t),!e.length||e.parent().hasClass("active")?$('button[data-action="post"]',t)[0].click():e[0].click()},writeSend:function(){var t,e;return t=a.getActiveComposer(),e=$('a[data-pane=".tab-write"]',t),!e.length||e.parent().hasClass("active")?$('button[data-action="post"]',t)[0].click():e[0].click()},help:function(){var t;return t=$('a[data-pane=".tab-help"]',a.getActiveComposer()),t.length?t.parent().hasClass("active")?!1:t[0].click():(t=$(".help",a.getActiveComposer()),t.length?t.click():!1)},write:function(){var t,e;return t=a.getActiveComposer(),e=$('a[data-pane=".tab-write"]',t),!e.length||e.parent().hasClass("active")?($(".write",t).focus(),!1):e[0].click()},bold:function(){return $(".formatting-bar .fa-bold",a.getActiveComposer())[0].click()},italic:function(){return $(".formatting-bar .fa-italic",a.getActiveComposer())[0].click()},list:function(){return $(".formatting-bar .fa-list",a.getActiveComposer())[0].click()},link:function(){return $(".formatting-bar .fa-link",a.getActiveComposer())[0].click()}},dialog:{confirm:function(){return a.getActiveDialogs().each(function(t,e){var i;return null!=(i=$(".modal-footer>button",e)[1])?i.click():void 0})},close:function(){return a.getActiveDialogs().each(function(t,e){return $(".bootbox-close-button,.close",e).click()})}},taskbar:{closeAll:function(){var t,e,i,n,r;for(n=$(".taskbar li.active>a").toArray(),r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(t.click());return r},clickFirst:function(){var t;return null!=(t=$(".taskbar li>a")[0])?t.click():void 0},clickLast:function(){var t;return null!=(t=$(".taskbar li>a").last()[0])?t.click():void 0}}})}(),!function(){var t,e,i,n,r,o,a,s,l,c,u,h,d;h=shortcuts.helper,d=h.selection,t=function(){function t(t){null==t&&(t=$()),this.parent=t}return t.prototype.hooks={},t.prototype.items=null,t.prototype.parent=null,t.prototype.index=0,t.prototype.refreshItems=function(t){return null==t&&(t=this.hooks),this.hooks=t,this.items=$(t.selector,this.parent),this.items.length?void 0:this.items=this.parent.children(t.selector)},t.prototype.item=function(t){return null==t&&(t=this.index),this.items.eq(t)},t}(),i={posts:{selector:"[data-pid]",follow:[function(){var t,e;return t=this.closest("[data-tid]").data("tid")||/\/topic\/(\d+)/.exec($('a[href^="/topic/"]',this).last().attr("href"))[1],ajaxify.go(((null!=(e=/^topic\/([^\/]+\/){2}/.exec(ajaxify.currentPage))?e[0]:void 0)||"topic/"+t+"/x/")+(1+this.data("index")))}]},topics:{selector:"[data-tid]",getArea:function(){return this.is("#post-container")?!1:new t(this.parent())},follow:[function(){var t;return t=$('[itemprop="url"]',this).attr("href"),ajaxify.go(t?t.substring(t.indexOf("/topic/")+1):"topic/"+this.data("tid"))}]},recent_topics:{selector:"#recent_topics>li",follow:[function(){var t;return ajaxify.go(null!=(t=$('a[href^="/topic/"]',this).last().attr("href"))?t.substring(1):void 0)}]},categories:{selector:"[data-cid]",getClassElement:function(){var t;return this.hasClass("category-item")&&(t=$(".category-icon",this),t.length)?t:this},follow:[function(){return ajaxify.go("category/"+this.data("cid"))}]},notifications:{selector:"[data-nid]",follow:[function(){return this.click()}]},users:{selector:".users-container>li",follow:[function(){var t;return ajaxify.go(null!=(t=$('a[href^="/user/"]',this).attr("href"))?t.substring(1):void 0)}]},tags:{selector:'div > a[href*="/tags/"]',getClassElement:function(){var t;return t=$(".label",this),t.length?t:this},follow:[function(){var t;return null!=(t=this[0])?t.click():void 0}]},dropDowns:{selector:'[data-toggle="dropdown"]:not([disabled])',getArea:function(){var e;return this.parent().is("#header-menu *")?!1:(e=new t(this.parent()),e.refreshItems({selector:">ul>li:not(.divider)",focus:i.dropDowns.focus,blur:i.dropDowns.blur,follow:i.dropDowns.follow}),e)},focus:{area:function(){return this.parent.hasClass("open")||$('[data-toggle="dropdown"]:not([disabled])',this.parent).click(),setTimeout(function(){return h.blurFocus()},50)},item:function(){var t;return t=this.parent().parent(),t.hasClass("open")||$('[data-toggle="dropdown"]:not([disabled])',t).click(),setTimeout(function(){return h.blurFocus()},50)}},blur:{area:function(){return this.parent.hasClass("open")?$('[data-toggle="dropdown"]:not([disabled])',this.parent).click():void 0}},follow:[function(){return $(">*",this).focus().click()}]}},n="";for(e in i)u=i[e],n+=(u.selector+=":visible")+",";return n=n.substring(0,n.length-1),c=function(t){var e,i,n,r;return e=null!=(i=d.active.area)&&null!=(n=i.hooks)&&null!=(r=n.follow)?r[t]:void 0,null!=e?e.call(d.active.item):!1},a=function(t,e){var i,n,r,o,a,s,l,c,u;if(null==e&&(e=d.index),i=d.areas[e],r=null!=i?i.item(t):void 0,null==r||e===d.index&&t===e.index)return!1;if(o=r,!o.height())for(l=o.children().toArray(),a=0,s=l.length;s>a;a++)if(n=l[a],n=$(n),n.height()){o=n;break}return null!=i.hooks.getClassElement&&(o=i.hooks.getClassElement.call(o,r)),d.select(e,t,o),null!=(c=i.hooks.focus)&&null!=(u=c.item)&&u.call(r),!0},l=function(t){var e,i,n,r,o,s,l;if(null==t&&(t=1),e=d.active.area,null==e)return!1;for(e.refreshItems(),l=1,0>t&&(l=-1,t=-t),i=e.index,o=!1;t--;)for(n=e.items.length,r=function(){for(i+=l;0>i;)i+=n;for(;i>=n;)i-=n;return o=a(i)},r(),s=1;s++<n&&d.active.item&&(!d.active.item.height()||!d.active.item.is(":visible"));)r();return o},r=function(){var e,r;return e=[],r=[],$(n).each(function(n,o){var a,s;if(!(r.indexOf(o)>=0)){o=$(o),a=null;for(n in i)if(u=i[n],o.is(u.selector)){if(a=null!=(s=u.getArea)?s.call(o):void 0,a===!1)return;null==a&&(a=new t(o.parent())),null==a.items&&a.refreshItems(u);break}return a.items.each(function(t,e){return r.push(e)}),e.push(a)}}),e},o=function(t){var e,i,n,r,o,s,l,c;return e=d.areas[t],i=d.active.area,(null!=e&&null!=(n=e.items)?n.length:void 0)&&t!==d.index&&a(e.index,t)!==!1?(null!=i&&null!=(r=i.hooks)&&null!=(o=r.blur)&&null!=(s=o.area)&&s.call(i,e),null!=(l=e.hooks.focus)&&null!=(c=l.area)&&c.call(e,i),!0):!1},s=function(t){var e,i;if(null==t&&(t=1),!d.areas.length)return!1;for(e=d.index<0?t:d.index+t,i=d.areas.length;0>e;)e+=i;for(;e>=i;)e-=i;return o(e)},shortcuts.addActions({selection:{release:function(){return d.deselect()},follow:function(){return c(0)},highlight:function(){return d.highlight()},item_next:function(){return null==d.active.area?s(0):l(1)},item_prev:function(){return null==d.active.area&&s(0),l(-1)},area_next:function(){return s(1)},area_prev:function(){return s(-1)}}}),shortcuts.prependToAction("body_focus",function(){return d.deselect()}),$(document).ready(function(){var t;return t=ajaxify.go,ajaxify.go=function(e,i,n){return t(e,function(){return d.reset(r()),"function"==typeof i?i():void 0},n)},d.areas=r()})}(),function(t,e){"function"==typeof define&&define.amd?define("notify",[],function(){return e(t,document)}):t.Notify=e(t,document)}(this,function(t){function e(t,e){if(this.title="string"==typeof t?t:null,this.options={icon:"",body:"",tag:"",notifyShow:null,notifyClose:null,notifyClick:null,notifyError:null,permissionGranted:null,permissionDenied:null},this.permission=null,this.isSupported()){if(!this.title)throw new Error("Notify(): first arg (title) must be a string.");if("object"==typeof e){for(var i in e)e.hasOwnProperty(i)&&(this.options[i]=e[i]);"function"==typeof this.options.notifyShow&&(this.onShowCallback=this.options.notifyShow),"function"==typeof this.options.notifyClose&&(this.onCloseCallback=this.options.notifyClose),"function"==typeof this.options.notifyClick&&(this.onClickCallback=this.options.notifyClick),"function"==typeof this.options.notifyError&&(this.onErrorCallback=this.options.notifyError),"function"==typeof this.options.permissionGranted&&(this.onPermissionGrantedCallback=this.options.permissionGranted),"function"==typeof this.options.permissionDenied&&(this.onPermissionDeniedCallback=this.options.permissionDenied)}}}return e.prototype.needsPermission=function(){return"Notification"in t&&"granted"===Notification.permission?!1:!0},e.prototype.requestPermission=function(){var e=this;t.Notification.requestPermission(function(t){switch(e.permission=t,e.permission){case"granted":e.onPermissionGranted();break;case"denied":e.onPermissionDenied()}})},e.prototype.show=function(){this.isSupported()&&(this.myNotify=new Notification(this.title,{body:this.options.body,tag:this.options.tag,icon:this.options.icon}),this.myNotify.addEventListener("show",this,!1),this.myNotify.addEventListener("error",this,!1),this.myNotify.addEventListener("close",this,!1),this.myNotify.addEventListener("click",this,!1))},e.prototype.onShowNotification=function(){this.onShowCallback&&this.onShowCallback()},e.prototype.onCloseNotification=function(){this.onCloseCallback&&this.onCloseCallback(),this.destroy()},e.prototype.onClickNotification=function(){this.onClickCallback&&this.onClickCallback()},e.prototype.onErrorNotification=function(){this.onErrorCallback&&this.onErrorCallback(),this.destroy()},e.prototype.onPermissionGranted=function(){this.onPermissionGrantedCallback&&this.onPermissionGrantedCallback()},e.prototype.onPermissionDenied=function(){this.onPermissionDeniedCallback&&this.onPermissionDeniedCallback()},e.prototype.destroy=function(){this.myNotify.removeEventListener("show",this,!1),this.myNotify.removeEventListener("error",this,!1),this.myNotify.removeEventListener("close",this,!1),this.myNotify.removeEventListener("click",this,!1)},e.prototype.isSupported=function(){return"Notification"in t?!0:!1},e.prototype.handleEvent=function(t){switch(t.type){case"show":this.onShowNotification(t);break;case"close":this.onCloseNotification(t);break;case"click":this.onClickNotification(t);break;case"error":this.onErrorNotification(t)}},e}),function(){function t(){require(["notify"],function(t){new t("NodeBB").requestPermission()})}jQuery("document").ready(function(){var e=$(".forum-logo").attr("src");t(),jQuery("#notif_dropdown").on("click",function(){t()}),jQuery("*").on("click",function(){t()}),socket.on("event:new_notification",function(t){t&&t.text&&translator.translate(t.text,function(i){require(["notify"],function(n){var r=new n("NodeBB",{body:i.replace(/<strong>/g,"").replace(/<\/strong>/g,""),icon:e,notifyClick:function(){ajaxify.go(t.path.substring(1))}});r.show()})})})})}(),define("forum/pushbullet/settings",function(){var t={};return t.init=function(){socket.emit("plugins.pushbullet.settings.load",function(t,e){var i={"pushbullet:enabled":"1"};for(var n in i)i.hasOwnProperty(n)&&null===e[n]&&(e[n]=i[n]);e["pushbullet:enabled"]="1"===e["pushbullet:enabled"]?"on":"off",$(".pushbullet-settings").deserialize(e)}),$("#save").on("click",function(){var t=$(".pushbullet-settings").serializeObject();t["pushbullet:enabled"]=t["pushbullet:enabled"]?1:0,socket.emit("plugins.pushbullet.settings.save",t,function(t){t?app.alertError(t.message||"[[error:invalid-data]]"):app.alertSuccess("[[user:profile_update_success]]")})}),$("#disassociate").on("click",t.disassociate)},t.disassociate=function(){socket.emit("plugins.pushbullet.disassociate",{},function(t){t?app.alertError(t.message||"[[error:invalid-data]]"):window.location.reload()})},t}),$("document").ready(function(){requirejs(["lavender/masonry","lavender/imagesLoaded"],function(t){function e(){if($(".home").length){n=new t(".row.home > div",{itemSelector:".category-item",columnWidth:".category-item",transitionDuration:0,isInitLayout:!1}),$(".row.home > div p img").imagesLoaded(function(){n.layout()});var e=JSON.parse(localStorage.getItem("masonry:layout"));if(e)for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];$('.category-item[data-cid="'+i+'"]').css({left:r.left,top:r.top,position:"absolute"})}n.on("layoutComplete",function(){var t={};$(".category-item").each(function(){var e=$(this);t[e.attr("data-cid")]={left:e.css("left"),top:e.css("top")}}),localStorage.setItem("masonry:layout",JSON.stringify(t))})}}function i(t){t=parseInt(t,10);var i=$(t?".container-fluid":".container");i.toggleClass("container-fluid",1!==t).toggleClass("container",1===t),localStorage.setItem("fixed",t),e()}var n,r=localStorage.getItem("fixed")||0;$(window).on("action:ajaxify.end",function(t,n){var o=n.url;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(""===o&&(e(),$(".category-header .badge i").tooltip()),i(r))}),$(window).on("action:posts.loaded",function(){e()}),$(window).on("action:widgets.loaded",function(t,i){var n=i.url;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||""===n&&e()});var o=$('<div class="overlay-container"><div class="panel resizer pointer"><div class="panel-body"><i class="fa fa-arrows-h fa-2x"></i></div></div></div>');o.css({position:"fixed",bottom:"20px",right:"20px"}).hide().appendTo(document.body),$(window).on("mousemove",function(t){t.clientX>$(window).width()-150&&t.clientY>$(window).height()-150?o.fadeIn():o.stop(!0,!0).fadeOut()}),o.find(".resizer").on("click",function(){r=1===parseInt(r,10)?0:1,i(r)})}),function(){var t=ajaxify.go,e=(ajaxify.loadData,app.refreshTitle),i=$(".loading-bar");ajaxify.go=function(e,n,r){return i.fadeIn(0).removeClass("reset"),t(e,n,r)},$(window).on("action:ajaxify.loadingTemplates",function(){i.css("width","90%")}),app.refreshTitle=function(t){return i.css("width","100%"),setTimeout(function(){i.fadeOut(250),setTimeout(function(){i.addClass("reset").css("width","0%")},250)},750),e(t)}}()}),function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,i){t.fn[e]=function(r){if("string"==typeof r){for(var a=n.call(arguments,1),s=0,l=this.length;l>s;s++){var c=this[s],u=t.data(c,e);if(u)if(t.isFunction(u[r])&&"_"!==r.charAt(0)){var h=u[r].apply(u,a);if(void 0!==h)return h}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(r),n._init()):(n=new i(this,r),t.data(this,e,n))})}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),r(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)}(window),function(t){var e=document.documentElement,i=function(){};e.addEventListener?i=function(t,e,i){t.addEventListener(e,i,!1)}:e.attachEvent&&(i=function(e,i,n){e[i+n]=n.handleEvent?function(){var e=t.event;e.target=e.target||e.srcElement,n.handleEvent.call(n,e)}:function(){var i=t.event;i.target=i.target||i.srcElement,n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var n=function(){};e.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:e.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:i,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():o.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var n=0,a=o.length;a>n;n++){var s=o[n];s()}}}function n(n){return n.bind(r,"DOMContentLoaded",i),n.bind(r,"readystatechange",i),n.bind(t,"load",i),e}var r=t.document,o=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],n)):t.docReady=n(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,r=this.getListenersAsObject(t),o="object"==typeof i;for(n in r)r.hasOwnProperty(n)&&-1===e(r[n],i)&&r[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(n=e(o[r],i),-1!==n&&o[r].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,r,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?o.call(this,n,r):a.call(this,n,r));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,r,o,a=this.getListenersAsObject(t);for(r in a)if(a.hasOwnProperty(r))for(n=a[r].length;n--;)i=a[r][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,r=0,o=i.length;o>r;r++)if(e=i[r]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++){var n=s[e];t[n]=0}return t}function n(t){function n(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=a(t);if("none"===n.display)return i();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var u=o.isBorderBox=!(!c||!n[c]||"border-box"!==n[c]),h=0,d=s.length;d>h;h++){var p=s[h],f=n[p];f=r(t,f);var m=parseFloat(f);o[p]=isNaN(m)?0:m}var g=o.paddingLeft+o.paddingRight,v=o.paddingTop+o.paddingBottom,y=o.marginLeft+o.marginRight,b=o.marginTop+o.marginBottom,w=o.borderLeftWidth+o.borderRightWidth,_=o.borderTopWidth+o.borderBottomWidth,x=u&&l,k=e(n.width);k!==!1&&(o.width=k+(x?0:g+w));var C=e(n.height);return C!==!1&&(o.height=C+(x?0:v+_)),o.innerWidth=o.width-(g+w),o.innerHeight=o.height-(v+_),o.outerWidth=o.width+y,o.outerHeight=o.height+b,o}}function r(t,e){if(o||-1===e.indexOf("%"))return e;var i=t.style,n=i.left,r=t.runtimeStyle,a=r&&r.left;return a&&(r.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=n,a&&(r.left=a),e}var l,c=t("boxSizing");return function(){if(c){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[c]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=a(t);l=200===e(n.width),i.removeChild(t)}}(),n}var r=document.defaultView,o=r&&r.getComputedStyle,a=o?function(t){return r.getComputedStyle(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):t.getSize=n(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[s](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function r(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),r=0,o=i.length;o>r;r++)if(i[r]===t)return!0;return!1}function o(t,e){return n(t),i(t,e)}var a,s=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var r=t[i],o=r+"MatchesSelector";if(e[o])return o}}();if(s){var l=document.createElement("div"),c=i(l,"div");a=c?i:o}else a=r;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return a}):window.matchesSelector=a}(this,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function r(t,r,o){function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=o("transition"),c=o("transform"),u=l&&c,h=!!o("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var n=p[e],r=o(n);r&&r!==n&&(t[n]=r)}return t}();e(s.prototype,t.prototype),s.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.getSize=function(){this.size=r(this.element)},s.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=f[i]||i;e[n]=t[i]}},s.prototype.getPosition=function(){var t=a(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,r=parseInt(t[i?"left":"right"],10),o=parseInt(t[n?"top":"bottom"],10);r=isNaN(r)?0:r,o=isNaN(o)?0:o;var s=this.layout.size;r-=i?s.paddingLeft:s.paddingRight,o-=n?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=o},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=h?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};s.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,r=parseInt(t,10),o=parseInt(e,10),a=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-i,l=e-n,c={},u=this.layout.options;s=u.isOriginLeft?s:-s,l=u.isOriginTop?l:-l,c.transform=m(s,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},s.prototype.moveTo=u?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},s.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},s.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transition;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=c&&n(c)+",opacity";s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},s.prototype.transition=s.prototype[l?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},s.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};s.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transition,n=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var r=e.onEnd[n];r.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},s.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return s.prototype.removeTransitionStyles=function(){this.css(y)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},s.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}var o=document.defaultView,a=o&&o.getComputedStyle?function(t){return o.getComputedStyle(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],r):(t.Outlayer={},t.Outlayer.Item=r(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===h.call(t)}function n(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,r=t.length;r>n;n++)e.push(t[n]);else e.push(t);return e}function r(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function o(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function a(i,a,h,p,f,m){function g(t,i){if("string"==typeof t&&(t=s.querySelector(t)),!t||!d(t))return void(l&&l.error("Bad "+this.settings.namespace+" element: "+t));this.element=t,this.options=e({},this.options),this.option(i);var n=++y;this.element.outlayerGUID=n,b[n]=this,this._create(),this.options.isInitLayout&&this.layout()}function v(t,i){t.prototype[i]=e({},g.prototype[i])}var y=0,b={};return g.prototype.settings={namespace:"outlayer",item:m},g.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,h.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.settings.item,n=[],r=0,o=e.length;o>r;r++){var a=e[r],s=new i(a,this);n.push(s)}return n},g.prototype._filterFindItemElements=function(t){t=n(t);for(var e=this.options.itemSelector,i=[],r=0,o=t.length;o>r;r++){var a=t[r];if(d(a))if(e){f(a,e)&&i.push(a);for(var s=a.querySelectorAll(e),l=0,c=s.length;c>l;l++)i.push(s[l])}else i.push(a)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):d(n)&&(i=n),this[t]=i?p(i)[e]:n):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var r=t[i];r.isIgnored||e.push(r)}return e},g.prototype._layoutItems=function(t,e){if(!t||!t.length)return void this.emitEvent("layoutComplete",[this,t]);this._itemsOn(t,"layout",function(){this.emitEvent("layoutComplete",[this,t])});for(var i=[],n=0,r=t.length;r>n;n++){var o=t[n],a=this._getItemLayoutPosition(o);a.item=o,a.isInstant=e,i.push(a)}this._processLayoutQueue(i)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},g.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){var t=this._getContainerSize();
t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},g.prototype._getContainerSize=u,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){function n(){return r++,r===o&&i.call(a),!0}for(var r=0,o=t.length,a=this,s=0,l=t.length;l>s;s++){var c=t[s];c.on(e,n)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];r(n,this.stamps),this.unignore(n)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=u,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=p(t),r={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return r},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){var t=p(this.element),e=this.size&&t;e&&t.innerWidth===this.size.innerWidth||this.layout()},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){if(t&&t.length)for(var e=0,i=t.length;i>e;e++){var n=t[e];n.reveal()}},g.prototype.hide=function(t){if(t&&t.length)for(var e=0,i=t.length;i>e;e++){var n=t[e];n.hide()}},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var r=t[i],o=this.getItem(r);o&&e.push(o)}return e}},g.prototype.remove=function(t){t=n(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,o=e.length;o>i;i++){var a=e[i];a.remove(),r(a,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];n.destroy()}this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.settings.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&b[e]},g.create=function(t,i){function n(){g.apply(this,arguments)}return e(n.prototype,g.prototype),v(n,"options"),v(n,"settings"),e(n.prototype.options,i),n.prototype.settings.namespace=t,n.data=g.data,n.Item=function(){m.apply(this,arguments)},n.Item.prototype=new m,n.prototype.settings.item=n.Item,a(function(){for(var e=o(t),i=s.querySelectorAll(".js-"+e),r="data-"+e+"-options",a=0,u=i.length;u>a;a++){var h,d=i[a],p=d.getAttribute(r);try{h=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+r+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+f);continue}var m=new n(d,h);c&&c.data(d,t,m)}}),c&&c.bridget&&c.bridget(t,n),n},g.Item=m,g}var s=t.document,l=t.console,c=t.jQuery,u=function(){},h=Object.prototype.toString,d="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],a):t.Outlayer=a(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",r=Math[n](t.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var o=this._getColGroup(r),a=Math.min.apply(Math,o),s=i(o,a),l={x:this.columnWidth*s,y:a},c=a+t.size.outerHeight,u=this.cols+1-o.length,h=0;u>h;h++)this.colYs[s+h]=c;return l},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var r=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,r)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),r=this.options.isOriginLeft?n.left:n.right,o=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s=Math.min(this.cols-1,s);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,c=a;s>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.resize=function(){var t=this.containerWidth;this.getContainerWidth(),t!==this.containerWidth&&this.layout()},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++){var r=t[i];if(r===e)return i}return-1};"function"==typeof define&&define.amd?define("lavender/masonry",["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,r=this,o=r.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,r=this.getListenersAsObject(t),o="object"==typeof i;for(n in r)r.hasOwnProperty(n)&&-1===e(r[n],i)&&r[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(n=e(o[r],i),-1!==n&&o[r].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,r,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?o.call(this,n,r):a.call(this,n,r));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,r,o,a=this.getListenersAsObject(t);for(r in a)if(a.hasOwnProperty(r))for(n=a[r].length;n--;)i=a[r][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var r=function(){};i.removeEventListener?r=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(r=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var o={bind:n,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"function"==typeof define&&define.amd?define("lavender/imagesLoaded",["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("eventEmitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(this,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function r(t){return"[object Array]"===d.call(t)}function o(t){var e=[];if(r(t))e=t;else if("number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function a(t,e,i){if(!(this instanceof a))return new a(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var r=this;setTimeout(function(){r.check()})}function s(t){this.img=t}function l(t){this.src=t,p[t]=this}var c=t.jQuery,u=t.console,h="undefined"!=typeof u,d=Object.prototype.toString;a.prototype=new e,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);for(var n=i.querySelectorAll("img"),r=0,o=n.length;o>r;r++){var a=n[r];this.addImage(a)}}},a.prototype.addImage=function(t){var e=new s(t);this.images.push(e)},a.prototype.check=function(){function t(t,r){return e.options.debug&&h&&u.log("confirm",t,r),e.progress(t),i++,i===n&&e.complete(),!0}var e=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var r=0;n>r;r++){var o=this.images[r];o.on("confirm",t),o.check()}},a.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},c&&(c.fn.imagesLoaded=function(t,e){var i=new a(this,t,e);return i.jqDeferred.promise(c(this))}),s.prototype=new e,s.prototype.check=function(){var t=p[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var p={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},a}),$("document").ready(function(){window.opener&&"#blog/authenticate"===window.location.hash&&($("#header-menu, .forum-header").hide(),$("body").css("paddingTop","25px"),window.onbeforeunload=function(){window.close()})}),function(t){var e=function(t){var e,n;return e=function(){n=!1},function(){var r;n||(n=!0,r=i(arguments),r.unshift(e),t.apply(this,r))}},i=function(t){var e;return e=Array.prototype.slice.call(t)},n=function(){var e;return e=t("<div></div>").css(["color"]).color,"undefined"!=typeof e?function(t,e){return t.css(e)}:function(e,i){var n;return n={},t.each(i,function(t,i){n[i]=e.css(i)}),n}}(),r=function(t){return t},o=function(t){var e={};return function(i,n){e[i]?n(e[i]):t.call(this,i,function(t){e[i]=(e[i]||[]).concat(t),n.apply(null,arguments)})}},a=function(t,e){var i,n;if(t.indexOf)return-1!=t.indexOf(e);for(i=0,n=t.length;n>i;i++)if(t[i]===e)return!0;return!1},s=function(){function i(e){var i;this.el=e.get(0),i=this.el===document.activeElement,this.$el=u(e),this.id="textComplete"+c++,this.strategies=[],i?(this.initialize(),this.$el.focus()):this.$el.one("focus.textComplete",t.proxy(this.initialize,this))}var r,o,a,s,c;r={wrapper:'<div class="textcomplete-wrapper"></div>',list:'<ul class="dropdown-menu"></ul>'},o={wrapper:{position:"relative"},list:{position:"absolute",top:0,left:0,zIndex:"100",display:"none"}},a=t(r.wrapper).css(o.wrapper),s=t(r.list).css(o.list),c=0,t.extend(i.prototype,{initialize:function(){var e,i;e=s.clone(),this.listView=new l(e,this),this.$el.before(e).on({"keyup.textComplete":t.proxy(this.onKeyup,this),"keydown.textComplete":t.proxy(this.listView.onKeydown,this.listView)}),i={},i["click."+this.id]=t.proxy(this.onClickDocument,this),i["keyup."+this.id]=t.proxy(this.onKeyupDocument,this),t(document).on(i)},register:function(t){this.strategies=this.strategies.concat(t)},renderList:function(t){this.clearAtNext&&(this.listView.clear(),this.clearAtNext=!1),t.length&&(this.listView.shown||(this.listView.setPosition(this.getCaretPosition()).clear().activate(),this.listView.strategy=this.strategy),t=t.slice(0,this.strategy.maxCount),this.listView.render(t)),!this.listView.data.length&&this.listView.shown&&this.listView.deactivate()},searchCallbackFactory:function(t){var e=this;return function(i,n){e.renderList(i),n||(t(),e.clearAtNext=!0)}},onKeyup:function(t){var e,i;if(!this.skipSearch(t))if(e=this.extractSearchQuery(this.getTextFromHeadToCaret()),e.length){if(i=e[1],this.term===i)return;this.term=i,this.search(e)}else this.term=null,this.listView.deactivate()},skipSearch:function(t){if(this.skipNextKeyup)return this.skipNextKeyup=!1,!0;switch(t.keyCode){case 40:case 38:return!0}},onSelect:function(e){var i,n,r;i=this.getTextFromHeadToCaret(),n=this.el.value.substring(this.el.selectionEnd),r=this.strategy.replace(e),t.isArray(r)&&(n=r[1]+n,r=r[0]),i=i.replace(this.strategy.match,r),this.$el.val(i+n).trigger("change").trigger("textComplete:select",e),this.el.focus(),this.el.selectionStart=this.el.selectionEnd=i.length,this.skipNextKeyup=!0},onClickDocument:function(t){t.originalEvent&&!t.originalEvent.keepTextCompleteDropdown&&this.listView.deactivate()},onKeyupDocument:function(t){this.listView.shown&&27===t.keyCode&&(this.listView.deactivate(),this.$el.focus())},destroy:function(){var e;this.$el.off(".textComplete"),t(document).off("."+this.id),this.listView&&this.listView.destroy(),e=this.$el.parent(),e.after(this.$el).remove(),this.$el.data("textComplete",void 0),this.$el=null},getCaretPosition:function(){if(0!==this.el.selectionEnd){var e,i,r,o,a,s;return s=this.$el.attr("dir")||this.$el.css("direction"),e=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left"],i=t.extend({position:"absolute",overflow:"auto","white-space":"pre-wrap",top:0,left:-9999,direction:s},n(this.$el,e)),r=t("<div></div>").css(i).text(this.getTextFromHeadToCaret()),o=t("<span></span>").text(".").appendTo(r),this.$el.before(r),a=o.position(),a.top+=o.height()-this.$el.scrollTop(),"rtl"===s&&(a.left-=this.listView.$el.width()),r.remove(),a}},getTextFromHeadToCaret:function(){var t,e,i;return e=this.el.selectionEnd,"number"==typeof e?t=this.el.value.substring(0,e):document.selection&&(i=this.el.createTextRange(),i.moveStart("character",0),i.moveEnd("textedit"),t=i.text),t},extractSearchQuery:function(t){var e,i,n,r;for(e=0,i=this.strategies.length;i>e;e++)if(n=this.strategies[e],r=t.match(n.match))return[n,r[n.index]];return[]},search:e(function(t,e){var i;this.strategy=e[0],i=e[1],this.strategy.search(i,this.searchCallbackFactory(t))})});var u=function(t){return t.wrap(a.clone().css("display",t.css("display")))};return i}(),l=function(){function e(e,i){this.data=[],this.$el=e,this.index=0,this.completer=i,this.$el.on("click.textComplete","li.textcomplete-item",t.proxy(this.onClick,this))}return t.extend(e.prototype,{shown:!1,render:function(t){var e,i,n,r,o;for(e="",i=0,n=t.length;n>i&&(o=t[i],a(this.data,o)||(r=this.data.length,this.data.push(o),e+='<li class="textcomplete-item" data-index="'+r+'"><a>',e+=this.strategy.template(o),e+="</a></li>",this.data.length!==this.strategy.maxCount));i++);this.$el.append(e),this.data.length?this.activateIndexedItem():this.deactivate()},clear:function(){return this.data=[],this.$el.html(""),this.index=0,this},activateIndexedItem:function(){this.$el.find(".active").removeClass("active"),this.getActiveItem().addClass("active")},getActiveItem:function(){return t(this.$el.children().get(this.index))},activate:function(){return this.shown||(this.$el.show(),this.completer.$el.trigger("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.completer.$el.trigger("textComplete:hide"),this.shown=!1,this.data=this.index=null),this},setPosition:function(t){return this.$el.css(t),this},select:function(t){var e=this;this.completer.onSelect(this.data[t]),setTimeout(function(){e.deactivate()},0)},onKeydown:function(t){this.shown&&(38===t.keyCode?(t.preventDefault(),0===this.index?this.index=this.data.length-1:this.index-=1,this.activateIndexedItem()):40===t.keyCode?(t.preventDefault(),this.index===this.data.length-1?this.index=0:this.index+=1,this.activateIndexedItem()):(13===t.keyCode||9===t.keyCode)&&(t.preventDefault(),this.select(parseInt(this.getActiveItem().data("index"),10))))},onClick:function(e){var i=t(e.target);e.originalEvent.keepTextCompleteDropdown=!0,i.hasClass("textcomplete-item")||(i=i.parents("li.textcomplete-item")),this.select(parseInt(i.data("index"),10))},destroy:function(){this.deactivate(),this.$el.off("click.textComplete").remove(),this.$el=null}}),e}();t.fn.textcomplete=function(e){var i,n,a,l;if(l="textComplete","destroy"===e)return this.each(function(){var e=t(this).data(l);e&&e.destroy()});for(i=0,n=e.length;n>i;i++)a=e[i],a.template||(a.template=r),null==a.index&&(a.index=2),a.cache&&(a.search=o(a.search)),a.maxCount||(a.maxCount=10);return this.each(function(){var i,n;i=t(this),n=i.data(l),n||(n=new s(i),i.data(l,n)),n.register(e)})}}(window.jQuery||window.Zepto),$(document).ready(function(){socket.emit("plugins.mentions.listGroups",function(t,e){Mentions.groups=e}),$(window).on("action:composer.loaded",function(t,e){var i=$("#cmp-uuid-"+e.post_uuid+" .write"),n=[];$(".posts [data-pid] .username-field").each(function(t,e){var i=e.getAttribute("data-username");-1===n.indexOf(i)&&n.push(i)}),Mentions.addAutofill(i,n),$(".textcomplete-wrapper").css("height","100%").find("textarea").css("height","100%")})}),function(t){t.Mentions={groups:null,addAutofill:function(t,e){var i,n=function(t){return"string"!=typeof t&&(t=t.toString()),t.replace(/\s/g,"-")};t.textcomplete([{match:/\B@([^\s\n]*)?$/,search:function(t,n){var r;return t?void socket.emit("user.search",t,function(o,a){return o?n([]):(r=a.users.map(function(t){return t.username}),i=e.concat(Mentions.groups).filter(function(e){return-1!==e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())}),r=r.concat(i).filter(function(t,e,i){return i.indexOf(t)===e}),i=i.map(function(t){return t.toLocaleLowerCase()}),r.sort(function(t,e){return-1!==i.indexOf(t.toLocaleLowerCase())&&-1===i.indexOf(e.toLocaleLowerCase())?-1:-1===i.indexOf(t.toLocaleLowerCase())&&-1!==i.indexOf(e.toLocaleLowerCase())?1:t.toLocaleLowerCase()>e.toLocaleLowerCase()}),app.username&&-1!==r.indexOf(app.username)&&r.splice(r.indexOf(app.username),1),void n(r))}):(r=e.concat(Mentions.groups).filter(function(t,e,i){return i.indexOf(t)===e&&t!==app.username}).sort(function(t,e){return t.toLocaleLowerCase()>e.toLocaleLowerCase()}),n(r))},index:1,replace:function(t){return"@"+n(t)+" "},cache:!0}]),t.attr("data-mentions","1")}}}(window),$(document).ready(function(){$.get(RELATIVE_PATH+"/api/plugins/google-analytics").success(function(t){!function(t,e,i,n,r,o,a){t.GoogleAnalyticsObject=r,t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},t[r].l=1*new Date,o=e.createElement(i),a=e.getElementsByTagName(i)[0],o.async=1,o.src=n,a.parentNode.insertBefore(o,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",t.id,"auto"),"on"===t.displayFeatures&&(console.log("displyaing features"),ga("require","displayfeatures")),ga("send","pageview"),$(window).on("action:ajaxify.end",function(t,e){ga("send","pageview",e.url)})}).fail(function(){window.console&&console.warn("[plugins/google-analytics] Your Google Analytics Asset ID could not be retrieved. Please double-check that it is set in the plugin's settings.")})});